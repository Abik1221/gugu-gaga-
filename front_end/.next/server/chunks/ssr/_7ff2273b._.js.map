{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/habtamusemagn/Desktop/last/gugu-gaga-/front_end/utils/api.ts"],"sourcesContent":["export const API_BASE =\n  process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:8000\";\nexport const TENANT_HEADER =\n  process.env.NEXT_PUBLIC_TENANT_HEADER || \"X-Tenant-ID\";\n\nconst API_BASE_NORMALIZED = API_BASE.replace(/\\/+$/, \"\");\nlet API_BASE_PATH = \"\";\ntry {\n  const parsed = new URL(API_BASE_NORMALIZED);\n  API_BASE_PATH = parsed.pathname.replace(/^\\/+/, \"\").replace(/\\/+$/, \"\");\n} catch {\n  API_BASE_PATH = \"\";\n}\n\nfunction buildHeaders(\n  initHeaders?: HeadersInit,\n  tenantId?: string\n): HeadersInit {\n  const headers: Record<string, string> = {\n    ...(initHeaders as Record<string, string>),\n  };\n  if (tenantId) headers[TENANT_HEADER] = tenantId;\n  return headers;\n}\n\nfunction resolveApiUrl(path: string): string {\n  if (/^https?:\\/\\//i.test(path)) {\n    return path;\n  }\n\n  if (path.startsWith(\"?\") || path.startsWith(\"#\")) {\n    return `${API_BASE_NORMALIZED}${path}`;\n  }\n\n  const normalizedPath = path.replace(/^\\/+/, \"\");\n  let relativePath = normalizedPath;\n\n\n  if (API_BASE_PATH) {\n    const prefix = `${API_BASE_PATH}/`;\n    if (relativePath.startsWith(prefix)) {\n      relativePath = relativePath.slice(prefix.length);\n    } else if (relativePath === API_BASE_PATH) {\n      relativePath = \"\";\n    }\n  }\n\n  if (!relativePath) {\n    return API_BASE_NORMALIZED;\n  }\n\n  return `${API_BASE_NORMALIZED}/${relativePath}`;\n}\n\nexport async function postForm<T = any>(\n  path: string,\n  data: Record<string, string>,\n  tenantId?: string\n): Promise<T> {\n  const body = new URLSearchParams(data);\n  const res = await fetch(resolveApiUrl(path), {\n    method: \"POST\",\n    headers: buildHeaders(\n      { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n      tenantId\n    ),\n    body,\n  });\n\n  if (!res.ok) {\n    let parsed: any = null;\n    try {\n      parsed = await res.json();\n    } catch {\n      parsed = await res.text().catch(() => null);\n    }\n\n    let msg = \"\";\n    if (!parsed) msg = `Request failed with ${res.status}`;\n    else if (typeof parsed === \"string\") msg = parsed;\n    else if (Array.isArray(parsed)) msg = parsed.join(\", \");\n    else if (parsed?.detail) msg = parsed.detail;\n    else if (parsed?.message) msg = parsed.message;\n    else if (parsed?.error) msg = parsed.error;\n    else if (parsed?.errors) {\n      msg = Object.keys(parsed.errors)\n        .map(\n          (k) =>\n            `${k}: ${Array.isArray(parsed.errors[k])\n              ? parsed.errors[k].join(\", \")\n              : parsed.errors[k]\n            }`\n        )\n        .join(\" | \");\n    } else msg = JSON.stringify(parsed);\n\n    const err: any = new Error(msg || `Request failed with ${res.status}`);\n    err.status = res.status;\n    err.body = parsed;\n    console.error(\"[postForm] failed\", { path, status: res.status, parsed });\n    throw err;\n  }\n\n  return (await res.json()) as T;\n}\n\nexport async function postJSON<T = any>(\n  path: string,\n  body: any,\n  tenantId?: string\n): Promise<T> {\n  const requestInit = {\n    method: \"POST\",\n    headers: buildHeaders({ \"Content-Type\": \"application/json\" }, tenantId),\n    body: JSON.stringify(body),\n  } satisfies RequestInit;\n\n  try {\n    const res = await fetch(resolveApiUrl(path), requestInit);\n\n    if (!res.ok) {\n      let parsed: any = null;\n      let message = \"\";\n      try {\n        parsed = await res.json();\n        if (typeof parsed === \"string\") message = parsed;\n        else if (Array.isArray(parsed)) message = parsed.join(\", \");\n        else message = parsed?.error || parsed?.detail || parsed?.message || \"\";\n        if (!message && parsed) message = JSON.stringify(parsed);\n      } catch {\n        parsed = null;\n        message = await res.text().catch(() => \"\");\n      }\n\n      const error: any = new Error(message || `Request failed with ${res.status}`);\n      error.status = res.status;\n      if (parsed !== null) error.body = parsed;\n      throw error;\n    }\n\n    return (await res.json()) as T;\n  } catch (error: any) {\n    if (typeof window !== \"undefined\" && !navigator.onLine) {\n      const { queueRequest } = await import(\"@/lib/offline/queue\");\n      await queueRequest(path, requestInit, {\n        tenantId,\n        requiresAuth: true,\n        description: requestInit.body ? `POST ${path}` : undefined,\n      });\n      const offlineError: any = new Error(\"Request queued until you are back online.\");\n      offlineError.offline = true;\n      throw offlineError;\n    }\n    throw error;\n  }\n}\n\nexport async function putAuthJSON<T = any>(\n  path: string,\n  bodyData: any,\n  tenantId?: string\n): Promise<T> {\n  const res = await authFetch(\n    path,\n    {\n      method: \"PUT\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(bodyData),\n    },\n    true,\n    tenantId\n  );\n\n  if (!res.ok) {\n    const text = await res.text().catch(() => \"\");\n    throw new Error(text || `Request failed with ${res.status}`);\n  }\n\n  return (await res.json()) as T;\n}\n\nexport async function postMultipart<T = any>(\n  path: string,\n  formData: FormData,\n  tenantId?: string\n): Promise<T> {\n  const res = await fetch(resolveApiUrl(path), {\n    method: \"POST\",\n    headers: buildHeaders(undefined, tenantId),\n    body: formData,\n  });\n\n  if (!res.ok) {\n    try {\n      const data = await res.json();\n      const msg = data?.error || data?.detail || JSON.stringify(data);\n      throw new Error(msg || `Request failed with ${res.status}`);\n    } catch {\n      throw new Error(`Request failed with ${res.status}`);\n    }\n  }\n\n  return (await res.json()) as T;\n}\n\nexport function getAccessToken(): string | null {\n  if (typeof window === \"undefined\") return null;\n  return localStorage.getItem(\"access_token\");\n}\n\nfunction getTenantId(): string | null {\n  if (typeof window === \"undefined\") return null;\n  return localStorage.getItem(\"tenant_id\");\n}\n\nfunction getRefreshToken(): string | null {\n  if (typeof window === \"undefined\") return null;\n  return localStorage.getItem(\"refresh_token\");\n}\n\nasync function refreshTokens(): Promise<boolean> {\n  const rt = getRefreshToken();\n  if (!rt) return false;\n  const res = await fetch(resolveApiUrl(\"/api/v1/auth/refresh\"), {\n    method: \"POST\",\n    headers: buildHeaders({ \"Content-Type\": \"application/json\" }),\n    body: JSON.stringify({ refresh_token: rt }),\n  });\n  if (!res.ok) {\n    return false;\n  }\n  try {\n    const data = (await res.json()) as {\n      access_token: string;\n      refresh_token: string;\n    };\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(\"access_token\", data.access_token);\n      localStorage.setItem(\"refresh_token\", data.refresh_token);\n    }\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nexport async function authFetch<T>(\n  path: string,\n  init?: RequestInit,\n  retry = true,\n  tenantId?: string\n): Promise<Response> {\n  const token = getAccessToken();\n  const activeTenantId = tenantId ?? getTenantId() ?? undefined;\n  const headers: HeadersInit = buildHeaders(\n    {\n      ...(init?.headers || {}),\n      ...(token ? { Authorization: `Bearer ${token}` } : {}),\n    },\n    activeTenantId\n  );\n  let res = await fetch(resolveApiUrl(path), { ...(init || {}), headers });\n\n  if (res.status === 401 && retry) {\n    const ok = await refreshTokens();\n    if (ok) {\n      const newToken = getAccessToken();\n      const retryTenantId = tenantId ?? getTenantId() ?? undefined;\n      const retryHeaders: HeadersInit = buildHeaders(\n        {\n          ...(init?.headers || {}),\n          ...(newToken ? { Authorization: `Bearer ${newToken}` } : {}),\n        },\n        retryTenantId\n      );\n      res = await fetch(resolveApiUrl(path), {\n        ...(init || {}),\n        headers: retryHeaders,\n      });\n    }\n  }\n\n  return res;\n}\n\nexport async function getAuthJSON<T = any>(\n  path: string,\n  tenantId?: string\n): Promise<T> {\n  const res = await authFetch(path, undefined, true, tenantId);\n  if (!res.ok) {\n    const data = await res.text().catch(() => \"\");\n    throw new Error(data || `Request failed with ${res.status}`);\n  }\n  return (await res.json()) as T;\n}\n\nexport async function postAuthJSON<T = any>(\n  path: string,\n  bodyData: any,\n  tenantId?: string\n): Promise<T> {\n  const res = await authFetch(\n    path,\n    {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(bodyData),\n    },\n    true,\n    tenantId\n  );\n\n  if (!res.ok) {\n    const data = await res.text().catch(() => \"\");\n    throw new Error(data || `Request failed with ${res.status}`);\n  }\n\n  return (await res.json()) as T;\n}\n\nexport async function deleteAuthJSON(\n  path: string,\n  tenantId?: string\n): Promise<void> {\n  const res = await authFetch(\n    path,\n    {\n      method: \"DELETE\",\n      headers: { \"Content-Type\": \"application/json\" },\n    },\n    true,\n    tenantId\n  );\n\n  if (!res.ok) {\n    const data = await res.text().catch(() => \"\");\n    throw new Error(data || `Request failed with ${res.status}`);\n  }\n\n  // For DELETE requests, we might not have a response body\n  try {\n    return await res.json();\n  } catch {\n    return undefined;\n  }\n}\n\n// ----------------- AuthAPI -----------------\nexport type AuthProfile = {\n  id: number;\n  email: string;\n  username?: string | null;\n  first_name?: string | null;\n  last_name?: string | null;\n  phone?: string | null;\n  role?: string | null;\n  tenant_id?: string | null;\n  kyc_status?: string | null;\n  subscription_status?: string | null;\n  subscription_blocked?: boolean | null;\n  subscription_next_due_date?: string | null;\n  latest_payment_status?: string | null;\n};\n\nexport type AuthTokenResponse = {\n  access_token: string;\n  refresh_token: string;\n  token_type: string;\n  session_id: number;\n};\n\nexport type SessionInfo = {\n  id: number;\n  created_at: string;\n  last_seen_at: string;\n  expires_at: string;\n  revoked_at?: string | null;\n  is_revoked: boolean;\n  user_agent?: string | null;\n  ip_address?: string | null;\n  is_current: boolean;\n};\n\nexport type TenantActivityRecord = {\n  id: number;\n  tenant_id: string;\n  actor_user_id?: number | null;\n  action: string;\n  message: string;\n  target_type?: string | null;\n  target_id?: string | null;\n  metadata?: Record<string, unknown> | null;\n  created_at: string;\n};\n\nexport const AuthAPI = {\n  registerAffiliate: (body: any) => postJSON(\"/api/v1/auth/register/affiliate\", body),\n  registerPharmacy: (body: any) => postJSON(\"/api/v1/auth/register/pharmacy\", body),\n\n  registerVerify: async (email: string, code: string) => {\n    try {\n      return await postForm(\"/api/v1/auth/register/verify\", { email, code });\n    } catch (err: any) {\n      if (err?.status === 422) {\n        console.warn(\"[AuthAPI.registerVerify] 422, retrying with JSON\", {\n          body: err.body,\n        });\n        try {\n          return await postJSON(\"/api/v1/auth/register/verify\", { email, code });\n        } catch (err2: any) {\n          const e: any = new Error(\n            err2?.message || err?.message || \"Verification failed\"\n          );\n          e.original = err;\n          e.retry = err2;\n          throw e;\n        }\n      }\n      throw err;\n    }\n  },\n\n  verifyRegistration: (email: string, code: string) =>\n    postForm(\"/api/v1/auth/register/verify\", { email, code }),\n  login: (email: string, password: string, tenantId?: string) =>\n    postForm<AuthTokenResponse>(\n      \"/api/v1/auth/login\",\n      {\n        username: email,\n        password,\n        grant_type: \"password\",\n      },\n      tenantId\n    ).then(\n      (resp) => {\n        if (typeof window !== \"undefined\") {\n          localStorage.setItem(\"access_token\", resp.access_token);\n          localStorage.setItem(\"refresh_token\", resp.refresh_token);\n          if (tenantId) {\n            localStorage.setItem(\"tenant_id\", tenantId);\n          }\n        }\n        return resp;\n      }\n    ),\n  loginRequestCode: (email: string, password: string, tenantId?: string) =>\n    postForm(\n      \"/api/v1/auth/login/request-code\",\n      { username: email, password, grant_type: \"password\" },\n      tenantId\n    ),\n  loginVerify: (email: string, code: string, tenantId?: string) =>\n    postJSON<AuthTokenResponse>(\"/api/v1/auth/login/verify\", { email, code }, tenantId).then((resp) => {\n      if (typeof window !== \"undefined\") {\n        localStorage.setItem(\"access_token\", resp.access_token);\n        localStorage.setItem(\"refresh_token\", resp.refresh_token);\n        if (tenantId) {\n          localStorage.setItem(\"tenant_id\", tenantId);\n        }\n      }\n      return resp;\n    }),\n  refresh: (refreshToken: string) =>\n    postJSON<AuthTokenResponse>(\"/api/v1/auth/refresh\", { refresh_token: refreshToken }),\n  sessions: () => getAuthJSON<SessionInfo[]>(\"/api/v1/auth/sessions\"),\n  revokeSession: (sessionId: number) =>\n    authFetch(`/api/v1/auth/sessions/${sessionId}`, { method: \"DELETE\" }).then((res) => {\n      if (!res.ok) throw new Error(\"Failed to revoke session\");\n    }),\n  changePassword: (body: { current_password: string; new_password: string }) =>\n    postAuthJSON<{ status: string }>(\"/api/v1/auth/change-password\", body),\n  me: () =>\n    getAuthJSON<AuthProfile>(\"/api/v1/auth/me\").then((profile) => {\n      if (typeof window !== \"undefined\") {\n        if (profile?.tenant_id) {\n          localStorage.setItem(\"tenant_id\", profile.tenant_id);\n        }\n      }\n      return profile;\n    }),\n};\n\nexport const TenantAPI = {\n  activity: async (params?: { action?: string[]; limit?: number; offset?: number }) => {\n    const searchParams = new URLSearchParams();\n    if (params?.limit) searchParams.set(\"limit\", params.limit.toString());\n    if (params?.offset) searchParams.set(\"offset\", params.offset.toString());\n    params?.action?.forEach((action) => searchParams.append(\"action\", action));\n    const qs = searchParams.toString();\n    const url = `/api/v1/tenant/activity${qs ? `?${qs}` : \"\"}`;\n    const tenantId = getTenantId() ?? undefined;\n    const res = await authFetch(url, undefined, true, tenantId);\n    if (res.status === 404 || res.status === 204) {\n      return [];\n    }\n    if (!res.ok) {\n      const text = await res.text().catch(() => \"\");\n      throw new Error(text || `Request failed with ${res.status}`);\n    }\n    const contentType = res.headers.get(\"content-type\") || \"\";\n    if (!contentType.includes(\"application/json\")) {\n      return [];\n    }\n    try {\n      return (await res.json()) as TenantActivityRecord[];\n    } catch {\n      return [];\n    }\n  },\n};\n\n// ----------------- IntegrationsAPI -----------------\nexport type IntegrationProviderOut = {\n  key: string;\n  name: string;\n  category: string;\n  capability: {\n    resources: string[];\n    supports_webhooks: boolean;\n    supports_delta_sync: boolean;\n  };\n  requires_oauth: boolean;\n};\n\nexport type IntegrationConnectionOut = {\n  id: number;\n  tenant_id: string;\n  provider_key: string;\n  provider_name: string;\n  display_name: string;\n  status: string;\n  created_at: string;\n  updated_at: string;\n  last_synced_at?: string | null;\n  resource_scope?: string[] | null;\n};\n\nexport type IntegrationOAuthStartResponse = {\n  authorization_url: string;\n  state: string;\n  expires_in_seconds: number;\n};\n\nexport type IntegrationSyncJobOut = {\n  id: number;\n  connection_id: number;\n  direction: string;\n  resource: string;\n  status: string;\n  started_at?: string | null;\n  finished_at?: string | null;\n  error_message?: string | null;\n};\n\nexport const IntegrationsAPI = {\n  listProviders: () => getAuthJSON<IntegrationProviderOut[]>(\"/api/v1/integrations/providers\"),\n  listConnections: (tenantId: string) =>\n    getAuthJSON<IntegrationConnectionOut[]>(\"/api/v1/integrations/connections\", tenantId),\n  startOAuth: (tenantId: string, providerKey: string, resources?: string[]) =>\n    postAuthJSON<IntegrationOAuthStartResponse>(\n      \"/api/v1/integrations/oauth/start\",\n      { provider_key: providerKey, resources, display_name: undefined },\n      tenantId\n    ),\n  completeOAuth: (code: string, state: string, providerKey?: string) =>\n    postJSON<IntegrationConnectionOut>(\n      \"/api/v1/integrations/oauth/callback\",\n      { code, state, provider_key: providerKey }\n    ),\n  disconnect: (tenantId: string, connectionId: number) =>\n    authFetch(`/api/v1/integrations/connections/${connectionId}`, { method: \"DELETE\" }, true, tenantId).then(\n      async (res) => {\n        if (!res.ok) {\n          const text = await res.text().catch(() => \"\");\n          throw new Error(text || `HTTP ${res.status}`);\n        }\n        return res.json();\n      }\n    ),\n  triggerSync: (tenantId: string, connectionId: number, resource: string, direction: \"incoming\" | \"outgoing\") =>\n    postAuthJSON<IntegrationSyncJobOut>(\n      `/api/v1/integrations/connections/${connectionId}/sync`,\n      { resource, direction },\n      tenantId\n    ),\n};\n\nexport const AffiliateAPI = {\n  getLinks: () => getAuthJSON(\"/api/v1/affiliate/register-link\", \"\"),\n  createLink: () => getAuthJSON(\"/api/v1/affiliate/register-link?create_new=true\", \"\"),\n  deactivate: (token: string) =>\n    postAuthJSON(\n      `/api/v1/affiliate/links/${encodeURIComponent(token)}/deactivate`,\n      {},\n      \"\"\n    ),\n  rotate: (token: string) =>\n    postAuthJSON(`/api/v1/affiliate/links/${encodeURIComponent(token)}/rotate`, {}, \"\"),\n  dashboard: () => getAuthJSON(\"/api/v1/affiliate/dashboard\", \"\"),\n  payouts: (status?: string) =>\n    getAuthJSON(\n      `/api/v1/affiliate/payouts${status ? `?status_filter=${encodeURIComponent(status)}` : \"\"\n      }`,\n      \"\"\n    ),\n  requestPayout: (month?: string, percent = 5) =>\n    postAuthJSON(\"/api/v1/affiliate/payouts/request\", { month, percent }, \"\"),\n  updateProfile: (body: any) => postAuthJSON(\"/api/v1/affiliate/profile\", body, \"\"),\n};\n\n// ----------------- AdminAPI -----------------\nexport const AdminAPI = {\n  analyticsOverview: (days = 30) =>\n    getAuthJSON(`/api/v1/admin/analytics/overview?days=${days}`),\n  pharmacySummary: () => getAuthJSON(`/api/v1/admin/pharmacies/summary`),\n  pharmacies: (page = 1, pageSize = 20, q = \"\") =>\n    getAuthJSON(\n      `/api/v1/admin/pharmacies?page=${page}&page_size=${pageSize}&q=${encodeURIComponent(q)}`\n    ),\n  approvePharmacy: (tenantId: string, applicationId: number, body?: any) =>\n    postAuthJSON(`/api/v1/admin/pharmacies/${applicationId}/approve`, body || {}, tenantId),\n  rejectPharmacy: (tenantId: string, applicationId: number) =>\n    postAuthJSON(`/api/v1/admin/pharmacies/${applicationId}/reject`, {}, tenantId),\n  verifyPayment: (tenantId: string, code?: string | null) =>\n    postAuthJSON(`/api/v1/admin/payments/verify`, { code: code || null }, tenantId),\n  rejectPayment: (tenantId: string, code?: string | null) =>\n    postAuthJSON(`/api/v1/admin/payments/reject`, { code: code || null }, tenantId),\n  approveAffiliate: (userId: number) => postAuthJSON(`/api/v1/admin/affiliates/${userId}/approve`, {}),\n  rejectAffiliate: (userId: number) => postAuthJSON(`/api/v1/admin/affiliates/${userId}/reject`, {}),\n};\n\n// ----------------- StaffAPI -----------------\nexport const StaffAPI = {\n  createCashier: (\n    tenantId: string,\n    body: {\n      email: string;\n      password: string;\n      phone?: string;\n      role?: string;\n      assigned_branch_id?: number | null;\n    }\n  ) => postAuthJSON(\"/api/v1/staff\", body, tenantId),\n  list: (tenantId: string) => getAuthJSON(\"/api/v1/staff\", tenantId),\n  update: (tenantId: string, userId: number, body: { is_active?: boolean }) =>\n    authFetch(\n      `/api/v1/staff/${userId}`,\n      {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(body),\n      },\n      true,\n      tenantId\n    ).then(async (res) => {\n      if (!res.ok) {\n        const text = await res.text().catch(() => \"\");\n        throw new Error(text || `Request failed with ${res.status}`);\n      }\n      return res.json();\n    }),\n  remove: (tenantId: string, userId: number) =>\n    authFetch(\n      `/api/v1/staff/${userId}`,\n      { method: \"DELETE\" },\n      true,\n      tenantId\n    ).then(async (res) => {\n      if (!res.ok) {\n        const text = await res.text().catch(() => \"\");\n        throw new Error(text || `Request failed with ${res.status}`);\n      }\n      return res.json();\n    }),\n};\n\n// ----------------- Pharmacy models -----------------\nexport type PharmacyOut = {\n  id: number;\n  tenant_id: string;\n  name: string;\n  address?: string | null;\n};\n\nexport type PharmaciesListResponse = {\n  page: number;\n  page_size: number;\n  total: number;\n  items: PharmacyOut[];\n};\n\n// ----------------- BillingAPI -----------------\nexport const BillingAPI = {\n  submitPaymentCode: (tenantId: string, code: string) =>\n    postAuthJSON(\"/api/v1/owner/billing/payment-code\", { code }, tenantId),\n};\n\n// ----------------- UploadAPI -----------------\nexport const UploadAPI = {\n  uploadKyc: async (file: File) => {\n    const fd = new FormData();\n    fd.append(\"file\", file);\n    return postMultipart(\"/uploads/kyc\", fd);\n  },\n};\n\n// ----------------- KYCAPI -----------------\nexport const KYCAPI = {\n  status: (tenantId: string) => getAuthJSON(\"/api/v1/owner/kyc/status\", tenantId),\n  update: (tenantId: string, body: any) =>\n    putAuthJSON(\"/api/v1/owner/kyc/status\", body, tenantId),\n};\n\n// ----------------- PharmaciesAPI -----------------\nexport const PharmaciesAPI = {\n  list: (\n    tenantId?: string,\n    params?: { page?: number; page_size?: number; q?: string }\n  ): Promise<PharmaciesListResponse> => {\n    const search = new URLSearchParams();\n    search.set(\"page\", String(params?.page ?? 1));\n    search.set(\"page_size\", String(params?.page_size ?? 20));\n    if (params?.q) search.set(\"q\", params.q);\n    const queryString = search.toString();\n    const path = `/api/v1/pharmacies${queryString ? `?${queryString}` : \"\"}`;\n    return getAuthJSON<PharmaciesListResponse>(path, tenantId);\n  },\n  get: (id: number, tenantId?: string) =>\n    getAuthJSON<PharmacyOut>(`/api/v1/pharmacies/${id}`, tenantId),\n  update: (id: number, body: { name?: string; address?: string }, tenantId?: string) =>\n    authFetch(`/api/v1/pharmacies/${id}`, {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(body),\n    }, true, tenantId).then(async (res) => {\n      if (!res.ok) throw new Error(await res.text());\n      return (await res.json()) as PharmacyOut;\n    }),\n};\n\n// ----------------- BranchAPI -----------------\n\ninterface BranchRecord {\n  id: number;\n  pharmacy_id: number;\n  tenant_id: string;\n  name: string;\n  address?: string | null;\n  phone?: string | null;\n}\n\nexport const BranchAPI = {\n  create: (tenantId: string | undefined, payload: { name: string; address?: string; phone?: string; pharmacy_id: number }) =>\n    postAuthJSON<{ id: number }>(\"/api/v1/branches\", payload, tenantId),\n\n  list: (tenantId: string | undefined, pharmacyId?: number) => {\n    const query = pharmacyId ? `?pharmacy_id=${pharmacyId}` : '';\n    return getAuthJSON<{ items: BranchRecord[] }>(`/api/v1/branches${query}`, tenantId);\n  },\n\n  get: (tenantId: string | undefined, id: number) =>\n    getAuthJSON<BranchRecord>(`/api/v1/branches/${id}`, tenantId),\n\n  update: (tenantId: string | undefined, id: number, payload: { name?: string; address?: string | null; phone?: string | null }) =>\n    putAuthJSON<BranchRecord>(`/api/v1/branches/${id}`, payload, tenantId),\n\n  delete: (tenantId: string | undefined, id: number) =>\n    deleteAuthJSON(`/api/v1/branches/${id}`, tenantId)\n};\n\n// ----------------- ChatAPI -----------------\nexport const ChatAPI = {\n  listThreads: (tenantId: string) => getAuthJSON(`/api/v1/chat/threads`, tenantId),\n  createThread: (tenantId: string, title?: string) =>\n    postAuthJSON(\n      `/api/v1/chat/threads`,\n      title ? { title } : {},\n      tenantId\n    ),\n  listMessages: (tenantId: string, threadId: number) =>\n    getAuthJSON(`/api/v1/chat/threads/${threadId}/messages`, tenantId),\n  sendMessage: (tenantId: string, threadId: number, prompt: string) =>\n    postAuthJSON(`/api/v1/chat/threads/${threadId}/messages`, { prompt }, tenantId),\n  usage: (tenantId: string, days = 30) =>\n    getAuthJSON(`/api/v1/chat/usage?days=${days}`, tenantId),\n};\n\nexport type OwnerAnalyticsResponse = {\n  horizon: string;\n  totals: {\n    total_revenue: number;\n    average_ticket: number;\n    units_sold: number;\n    sale_count: number;\n    active_cashiers: number;\n    total_customers: number;\n    active_customers: number;\n    upcoming_refills: number;\n  };\n  deltas: {\n    revenue_vs_last_period: number;\n    avg_ticket_vs_last_period: number;\n    units_vs_last_period: number;\n  };\n  revenue_trend: { period: string; revenue: number }[];\n  top_products: { name: string; revenue: number; quantity: number }[];\n  inventory_health: { label: string; count: number }[];\n  recent_payments: {\n    id: number;\n    status: string;\n    status_label: string;\n    code?: string | null;\n    created_at: string;\n    created_at_formatted: string;\n  }[];\n  branch_comparison: {\n    branch: string | null;\n    revenue: number;\n    sale_count: number;\n    units_sold: number;\n  }[];\n  staff_productivity: {\n    user_id: number;\n    name: string;\n    email?: string | null;\n    role: string;\n    total_sales: number;\n    transactions: number;\n    units_sold: number;\n  }[];\n  staff_activity: {\n    id: number;\n    action: string;\n    actor_user_id?: number | null;\n    actor_name?: string | null;\n    actor_role?: string | null;\n    target_type?: string | null;\n    target_id?: string | null;\n    metadata?: Record<string, any> | null;\n    created_at: string;\n  }[];\n};\n\nexport const OwnerAnalyticsAPI = {\n  overview: (\n    tenantId: string,\n    options?: { horizon?: string; trendWeeks?: number }\n  ) => {\n    const params = new URLSearchParams();\n    if (options?.horizon) params.set(\"horizon\", options.horizon);\n    if (options?.trendWeeks) params.set(\"trend_weeks\", String(options.trendWeeks));\n    const query = params.toString();\n    const path = `/api/v1/owner/analytics/overview${query ? `?${query}` : \"\"}`;\n    return getAuthJSON<OwnerAnalyticsResponse>(path, tenantId);\n  },\n};\n\n// ----------------- OwnerChatAPI -----------------\nexport type OwnerChatThread = {\n  id: number;\n  title: string;\n  created_at: string;\n  updated_at: string;\n};\n\nexport type OwnerChatMessage = {\n  id: number;\n  thread_id: number;\n  role: \"owner\" | \"assistant\";\n  content: string;\n  created_at: string;\n};\n\nexport const OwnerChatAPI = {\n  listThreads: (tenantId: string) => getAuthJSON<OwnerChatThread[]>(\"/api/v1/owner/chat/threads\", tenantId),\n  createThread: (tenantId: string, title: string) =>\n    postAuthJSON<OwnerChatThread>(\"/api/v1/owner/chat/threads\", { title }, tenantId),\n  listMessages: (tenantId: string, threadId: number) =>\n    getAuthJSON<OwnerChatMessage[]>(`/api/v1/owner/chat/threads/${threadId}/messages`, tenantId),\n  sendMessage: (tenantId: string, threadId: number, prompt: string) =>\n    postAuthJSON<OwnerChatMessage>(`/api/v1/owner/chat/threads/${threadId}/messages`, { prompt }, tenantId),\n};\n\n// ----------------- InventoryAPI -----------------\nexport type InventoryItem = {\n  id: number;\n  medicine_id: number;\n  medicine_name: string;\n  sku?: string | null;\n  branch?: string | null;\n  quantity: number;\n  pack_size: number;\n  packs: number;\n  singles: number;\n  reorder_level: number;\n  expiry_date?: string | null;\n  lot_number?: string | null;\n  sell_price?: number | null;\n};\n\nexport type InventoryListResponse = {\n  page: number;\n  page_size: number;\n  total: number;\n  items: InventoryItem[];\n};\n\ntype InventoryListOptions = {\n  q?: string;\n  branch?: string;\n  expiringInDays?: number;\n  lowStockOnly?: boolean;\n  page?: number;\n  pageSize?: number;\n};\n\ntype InventoryUpdatePayload = {\n  quantity?: number;\n  reorder_level?: number;\n  expiry_date?: string | null;\n  lot_number?: string | null;\n  sell_price?: number | null;\n};\n\ntype InventoryCreatePayload = {\n  medicine_id: number;\n  branch?: string | null;\n  pack_size: number;\n  packs_count?: number;\n  singles_count?: number;\n  expiry_date?: string | null;\n  lot_number?: string | null;\n  purchase_price?: number | null;\n  sell_price?: number | null;\n  reorder_level?: number;\n};\n\nexport const InventoryAPI = {\n  list: (tenantId?: string, options?: InventoryListOptions) => {\n    const params = new URLSearchParams();\n    if (options?.q) params.set(\"q\", options.q);\n    if (options?.branch) params.set(\"branch\", options.branch);\n    if (typeof options?.expiringInDays === \"number\") {\n      params.set(\"expiring_in_days\", String(options.expiringInDays));\n    }\n    if (options?.lowStockOnly) params.set(\"low_stock_only\", \"true\");\n    if (options?.page) params.set(\"page\", String(options.page));\n    if (options?.pageSize) params.set(\"page_size\", String(options.pageSize));\n    const query = params.toString();\n    const path = `/api/v1/inventory/items${query ? `?${query}` : \"\"}`;\n    return getAuthJSON<InventoryListResponse>(path, tenantId);\n  },\n  create: async (tenantId: string | undefined, payload: InventoryCreatePayload) => {\n    const form = new URLSearchParams();\n    form.set(\"medicine_id\", String(payload.medicine_id));\n    form.set(\"pack_size\", String(Math.max(1, payload.pack_size || 1)));\n    if (payload.branch) {\n      form.set(\"branch\", payload.branch);\n    }\n    if (typeof payload.packs_count === \"number\") {\n      form.set(\"packs_count\", String(Math.max(0, payload.packs_count)));\n    }\n    if (typeof payload.singles_count === \"number\") {\n      form.set(\"singles_count\", String(Math.max(0, payload.singles_count)));\n    }\n    if (payload.expiry_date) {\n      form.set(\"expiry_date\", payload.expiry_date);\n    }\n    if (payload.lot_number) {\n      form.set(\"lot_number\", payload.lot_number);\n    }\n    if (typeof payload.purchase_price === \"number\") {\n      form.set(\"purchase_price\", String(payload.purchase_price));\n    }\n    if (typeof payload.sell_price === \"number\") {\n      form.set(\"sell_price\", String(payload.sell_price));\n    }\n    if (typeof payload.reorder_level === \"number\") {\n      form.set(\"reorder_level\", String(Math.max(0, payload.reorder_level)));\n    }\n    const res = await authFetch(\n      `/api/v1/inventory/items`,\n      {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        body: form.toString(),\n      },\n      true,\n      tenantId\n    );\n    if (!res.ok) {\n      throw new Error((await res.text().catch(() => \"\")) || `Request failed with ${res.status}`);\n    }\n    return res.json();\n  },\n  update: async (tenantId: string | undefined, itemId: number, payload: InventoryUpdatePayload) => {\n    const form = new URLSearchParams();\n    if (typeof payload.quantity === \"number\") {\n      form.set(\"quantity\", String(payload.quantity));\n    }\n    if (typeof payload.reorder_level === \"number\") {\n      form.set(\"reorder_level\", String(Math.max(0, payload.reorder_level)));\n    }\n    if (typeof payload.sell_price === \"number\") {\n      form.set(\"sell_price\", String(payload.sell_price));\n    }\n    if (payload.expiry_date !== undefined) {\n      form.set(\"expiry_date\", payload.expiry_date || \"\");\n    }\n    if (payload.lot_number !== undefined) {\n      form.set(\"lot_number\", payload.lot_number || \"\");\n    }\n    const res = await authFetch(\n      `/api/v1/inventory/items/${itemId}`,\n      {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        body: form.toString(),\n      },\n      true,\n      tenantId\n    );\n    if (!res.ok) {\n      throw new Error((await res.text().catch(() => \"\")) || `Request failed with ${res.status}`);\n    }\n    return res.json();\n  },\n  remove: async (tenantId: string | undefined, itemId: number) => {\n    const res = await authFetch(\n      `/api/v1/inventory/items/${itemId}`,\n      { method: \"DELETE\" },\n      true,\n      tenantId\n    );\n    if (!res.ok) {\n      throw new Error((await res.text().catch(() => \"\")) || `Request failed with ${res.status}`);\n    }\n    return res.json();\n  },\n};\n\n// ----------------- MedicinesAPI -----------------\nexport type MedicineListItem = {\n  id: number;\n  name: string;\n  sku?: string | null;\n  category?: string | null;\n  manufacturer?: string | null;\n};\n\nexport type MedicinesListResponse = {\n  page: number;\n  page_size: number;\n  total: number;\n  items: MedicineListItem[];\n};\n\ntype MedicinesListOptions = {\n  q?: string;\n  page?: number;\n  pageSize?: number;\n};\n\nexport const MedicinesAPI = {\n  list: (tenantId?: string, options?: MedicinesListOptions) => {\n    const query = new URLSearchParams();\n    if (options?.q) {\n      query.set(\"q\", options.q);\n    }\n    if (options?.page) {\n      query.set(\"page\", String(options.page));\n    }\n    if (options?.pageSize) {\n      query.set(\"page_size\", String(Math.min(200, Math.max(1, options.pageSize))));\n    }\n    const path = `/api/v1/medicines${query.toString() ? `?${query.toString()}` : \"\"}`;\n    return getAuthJSON<MedicinesListResponse>(path, tenantId);\n  },\n};\n\n// ----------------- SalesAPI -----------------\ntype SaleLineInput = {\n  name_or_sku: string;\n  quantity_units: number;\n  unit_price?: number;\n};\n\nexport const SalesAPI = {\n  pos: (\n    tenantId: string | undefined,\n    payload: { lines: SaleLineInput[]; branch?: string | null }\n  ) => {\n    const { lines, branch } = payload;\n    const query = branch ? `?branch=${encodeURIComponent(branch)}` : \"\";\n    const path = `/api/v1/sales/pos${query}`;\n    return postAuthJSON<{ id: number; total: number }>(path, lines, tenantId);\n  },\n};\n\n// Other API objects (AffiliateAPI, AdminAPI, etc.) remain unchanged\n\n// export const API_BASE =\n//   process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:8000/api/v1\";\n// export const TENANT_HEADER =\n//   process.env.NEXT_PUBLIC_TENANT_HEADER || \"X-Tenant-ID\";\n\n// function buildHeaders(\n//   initHeaders?: HeadersInit,\n//   tenantId?: string\n// ): HeadersInit {\n//   const headers: Record<string, string> = {\n//     ...(initHeaders as Record<string, string>),\n//   };\n//   if (tenantId) headers[TENANT_HEADER] = tenantId;\n//   return headers;\n// }\n\n// export async function putAuthJSON<T = any>(\n//   path: string,\n//   bodyData: any,\n//   tenantId?: string\n// ): Promise<T> {\n//   const res = await authFetch(\n//     path,\n//     {\n//       method: \"PUT\",\n//       headers: { \"Content-Type\": \"application/json\" },\n//       body: JSON.stringify(bodyData),\n//     },\n//     true,\n//     tenantId\n//   );\n//   if (!res.ok) {\n//     try {\n//       const data = await res.json();\n//       const msg = data?.error || data?.detail || JSON.stringify(data);\n//       throw new Error(msg || `Request failed with ${res.status}`);\n//     } catch {\n//       const text = await res.text().catch(() => \"\");\n//       throw new Error(text || `Request failed with ${res.status}`);\n//     }\n//   }\n//   return (await res.json()) as T;\n// }\n\n// export async function postForm<T = any>(\n//   path: string,\n//   data: Record<string, string>,\n//   tenantId?: string\n// ): Promise<T> {\n//   const body = new URLSearchParams(data);\n//   const res = await fetch(`${API_BASE}${path}`, {\n//     method: \"POST\",\n//     headers: buildHeaders(\n//       {\n//         \"Content-Type\": \"application/x-www-form-urlencoded\",\n//       },\n//       tenantId\n//     ),\n//     body,\n//   });\n//   if (!res.ok) {\n//     try {\n//       const data = await res.json();\n//       const msg = data?.error || data?.detail || JSON.stringify(data);\n//       throw new Error(msg || `Request failed with ${res.status}`);\n//     } catch {\n//       const text = await res.text().catch(() => \"\");\n//       throw new Error(text || `Request failed with ${res.status}`);\n//     }\n//   }\n//   return (await res.json()) as T;\n// }\n\n// export async function postJSON<T = any>(\n//   path: string,\n//   body: any,\n//   tenantId?: string\n// ): Promise<T> {\n//   const res = await fetch(`${API_BASE}${path}`, {\n//     method: \"POST\",\n//     headers: buildHeaders({ \"Content-Type\": \"application/json\" }, tenantId),\n//     body: JSON.stringify(body),\n//   });\n//   if (!res.ok) {\n//     try {\n//       const data = await res.json();\n//       const msg = data?.error || data?.detail || JSON.stringify(data);\n//       throw new Error(msg || `Request failed with ${res.status}`);\n//     } catch {\n//       const text = await res.text().catch(() => \"\");\n//       throw new Error(text || `Request failed with ${res.status}`);\n//     }\n//   }\n//   return (await res.json()) as T;\n// }\n\n// export async function postMultipart<T = any>(\n//   path: string,\n//   formData: FormData,\n//   tenantId?: string\n// ): Promise<T> {\n//   const res = await fetch(`${API_BASE}${path}`, {\n//     method: \"POST\",\n//     headers: buildHeaders(undefined, tenantId),\n//     body: formData,\n//   });\n//   if (!res.ok) {\n//     try {\n//       const data = await res.json();\n//       const msg = data?.error || data?.detail || JSON.stringify(data);\n//       throw new Error(msg || `Request failed with ${res.status}`);\n//     } catch {\n//       let message = `Request failed with ${res.status}`;\n//       throw new Error(message);\n//     }\n//   }\n//   return (await res.json()) as T;\n// }\n\n// export function getAccessToken(): string | null {\n//   if (typeof window === \"undefined\") return null;\n//   return localStorage.getItem(\"access_token\");\n// }\n\n// function getRefreshToken(): string | null {\n//   if (typeof window === \"undefined\") return null;\n//   return localStorage.getItem(\"refresh_token\");\n// }\n\n// async function refreshTokens(): Promise<boolean> {\n//   const rt = getRefreshToken();\n//   if (!rt) return false;\n//   const url = `${API_BASE}/api/v1/auth/refresh?refresh_token=${encodeURIComponent(\n//     rt\n//   )}`;\n//   const res = await fetch(url, { method: \"POST\" });\n//   if (!res.ok) return false;\n//   try {\n//     const data = (await res.json()) as {\n//       access_token: string;\n//       refresh_token: string;\n//       token_type: string;\n//       expires_in: number;\n//     };\n//     if (typeof window !== \"undefined\") {\n//       localStorage.setItem(\"access_token\", data.access_token);\n//       localStorage.setItem(\"refresh_token\", data.refresh_token);\n//     }\n//     return true;\n//   } catch {\n//     return false;\n//   }\n// }\n\n// async function authFetch(\n//   path: string,\n//   init?: RequestInit,\n//   retry = true,\n//   tenantId?: string\n// ): Promise<Response> {\n//   const token = getAccessToken();\n//   const headers: HeadersInit = buildHeaders(\n//     {\n//       ...(init?.headers || {}),\n//       ...(token ? { Authorization: `Bearer ${token}` } : {}),\n//     },\n//     tenantId\n//   );\n//   const res = await fetch(`${API_BASE}${path}`, { ...(init || {}), headers });\n//   if (res.status === 401 && retry) {\n//     const ok = await refreshTokens();\n//     if (ok) {\n//       const newToken = getAccessToken();\n//       const retryHeaders: HeadersInit = buildHeaders(\n//         {\n//           ...(init?.headers || {}),\n//           ...(newToken ? { Authorization: `Bearer ${newToken}` } : {}),\n//         },\n//         tenantId\n//       );\n//       return fetch(`${API_BASE}${path}`, {\n//         ...(init || {}),\n//         headers: retryHeaders,\n//       });\n//     }\n//   }\n//   return res;\n// }\n\n// export async function getAuthJSON<T = any>(\n//   path: string,\n//   tenantId?: string\n// ): Promise<T> {\n//   const res = await authFetch(path, undefined, true, tenantId);\n//   if (!res.ok) {\n//     try {\n//       const data = await res.json();\n//       const msg = data?.error || data?.detail || JSON.stringify(data);\n//       throw new Error(msg || `Request failed with ${res.status}`);\n//     } catch {\n//       const text = await res.text().catch(() => \"\");\n//       throw new Error(text || `Request failed with ${res.status}`);\n//     }\n//   }\n//   return (await res.json()) as T;\n// }\n\n// export async function postAuthJSON<T = any>(\n//   path: string,\n//   bodyData: any,\n//   tenantId?: string\n// ): Promise<T> {\n//   const res = await authFetch(\n//     path,\n//     {\n//       method: \"POST\",\n//       headers: { \"Content-Type\": \"application/json\" },\n//       body: JSON.stringify(bodyData),\n//     },\n//     true,\n//     tenantId\n//   );\n//   if (!res.ok) {\n//     try {\n//       const data = await res.json();\n//       const msg = data?.error || data?.detail || JSON.stringify(data);\n//       throw new Error(msg || `Request failed with ${res.status}`);\n//     } catch {\n//       const text = await res.text().catch(() => \"\");\n//       throw new Error(text || `Request failed with ${res.status}`);\n//     }\n//   }\n//   return (await res.json()) as T;\n// }\n\n// // Convenience wrappers for key flows\n// export const AuthAPI = {\n//   registerAffiliate: (body: any) => postJSON(\"/auth/register/affiliate\", body),\n//   registerPharmacy: (body: any) => postJSON(\"/auth/register/pharmacy\", body),\n//   registerVerify: (email: string, code: string) =>\n//     postForm(\"/auth/register/verify\", { email, code }),\n//   verifyRegistration: (email: string, code: string) =>\n//     postForm(\"/auth/register/verify\", { email, code }),\n//   login: (email: string, password: string, tenantId?: string) =>\n//     postForm(\"/auth/login\", { username: email, password }, tenantId),\n//   loginRequestCode: (email: string, password: string, tenantId?: string) =>\n//     postForm(\n//       \"/auth/login/request-code\",\n//       { username: email, password },\n//       tenantId\n//     ),\n//   loginVerify: (email: string, code: string, tenantId?: string) =>\n//     postJSON(\"/auth/login/verify\", { email, code }, tenantId),\n//   me: () => getAuthJSON(\"/auth/me\"),\n// };\n\n// export const AffiliateAPI = {\n//   getLinks: () => getAuthJSON(\"/affiliate/register-link\"),\n//   createLink: () => getAuthJSON(\"/affiliate/register-link?create_new=true\"),\n//   deactivate: (token: string) =>\n//     postAuthJSON(\n//       `/affiliate/links/${encodeURIComponent(token)}/deactivate`,\n//       {}\n//     ),\n//   rotate: (token: string) =>\n//     postAuthJSON(`/affiliate/links/${encodeURIComponent(token)}/rotate`, {}),\n//   dashboard: () => getAuthJSON(\"/affiliate/dashboard\"),\n//   payouts: (status?: string) =>\n//     getAuthJSON(\n//       `/affiliate/payouts${\n//         status ? `?status_filter=${encodeURIComponent(status)}` : \"\"\n//       }`\n//     ),\n//   requestPayout: (month?: string, percent = 5) =>\n//     postAuthJSON(\"/affiliate/payouts/request\", { month, percent }),\n//   updateProfile: (body: any) => postAuthJSON(\"/affiliate/profile\", body),\n// };\n\n// export const AdminAPI = {\n//   pharmacies: (page = 1, pageSize = 20, q?: string) =>\n//     getAuthJSON(\n//       `/admin/pharmacies?page=${page}&page_size=${pageSize}${\n//         q ? `&q=${encodeURIComponent(q)}` : \"\"\n//       }`\n//     ),\n//   affiliates: (page = 1, pageSize = 20, q?: string) =>\n//     getAuthJSON(\n//       `/admin/affiliates?page=${page}&page_size=${pageSize}${\n//         q ? `&q=${encodeURIComponent(q)}` : \"\"\n//       }`\n//     ),\n//   approvePharmacy: (\n//     tenantId: string,\n//     applicationId: number,\n//     body?: { issue_temp_password?: boolean; temp_password?: string }\n//   ) =>\n//     postAuthJSON(\n//       `/admin/pharmacies/${applicationId}/approve`,\n//       body || {},\n//       tenantId\n//     ),\n//   rejectPharmacy: (tenantId: string, applicationId: number) =>\n//     postAuthJSON(`/admin/pharmacies/${applicationId}/reject`, {}, tenantId),\n//   verifyPayment: (tenantId: string, code?: string | null) =>\n//     postAuthJSON(`/admin/payments/verify`, { code: code || null }, tenantId),\n//   rejectPayment: (tenantId: string, code?: string | null) =>\n//     postAuthJSON(`/admin/payments/reject`, { code: code || null }, tenantId),\n//   analyticsOverview: (days = 30) =>\n//     getAuthJSON(`/admin/analytics/overview?days=${days}`),\n//   downloadPharmacyLicense: async (applicationId: number) => {\n//     const res = await authFetch(\n//       `/admin/pharmacies/${applicationId}/license`,\n//       { method: \"GET\" },\n//       true\n//     );\n//     if (!res.ok) {\n//       const text = await res.text().catch(() => \"\");\n//       throw new Error(text || `HTTP ${res.status}`);\n//     }\n//     const blob = await res.blob();\n//     let filename = `license-${applicationId}`;\n//     const disposition = res.headers.get(\"Content-Disposition\") || \"\";\n//     const match = disposition.match(\n//       /filename\\*=UTF-8''([^;]+)|filename=\"?([^\";]+)\"?/i\n//     );\n//     const extracted = match?.[1] || match?.[2];\n//     if (extracted) {\n//       try {\n//         filename = decodeURIComponent(extracted);\n//       } catch {\n//         filename = extracted;\n//       }\n//     }\n//     const url = window.URL.createObjectURL(blob);\n//     const link = document.createElement(\"a\");\n//     link.href = url;\n//     link.download = filename;\n//     document.body.appendChild(link);\n//     link.click();\n//     document.body.removeChild(link);\n//     window.URL.revokeObjectURL(url);\n//   },\n//   approveAffiliate: (userId: number) =>\n//     postAuthJSON(`/admin/affiliates/${userId}/approve`, {}),\n//   rejectAffiliate: (userId: number) =>\n//     postAuthJSON(`/admin/affiliates/${userId}/reject`, {}),\n//   listAffiliatePayouts: (status?: string) =>\n//     getAuthJSON(\n//       `/admin/affiliate/payouts${\n//         status ? `?status=${encodeURIComponent(status)}` : \"\"\n//       }`\n//     ),\n//   markPayoutPaid: (payoutId: number) =>\n//     postAuthJSON(`/admin/affiliate/payouts/${payoutId}/mark-paid`, {}),\n//   approvePayout: (payoutId: number) =>\n//     postAuthJSON(`/admin/affiliate/payouts/${payoutId}/approve`, {}),\n//   usage: (days = 30) => getAuthJSON(`/admin/usage?days=${days}`),\n//   audit: (params?: { tenant_id?: string; action?: string; limit?: number }) =>\n//     getAuthJSON(\n//       `/admin/audit${(() => {\n//         const qs = new URLSearchParams();\n//         if (params?.tenant_id) qs.set(\"tenant_id\", params.tenant_id);\n//         if (params?.action) qs.set(\"action\", params.action);\n//         if (params?.limit) qs.set(\"limit\", String(params.limit));\n//         const s = qs.toString();\n//         return s ? `?${s}` : \"\";\n//       })()}`\n//     ),\n// };\n\n// export const StaffAPI = {\n//   createCashier: (tenantId: string, body: any) =>\n//     postAuthJSON(\"/staff\", body, tenantId),\n//   list: (tenantId: string) => getAuthJSON(\"/staff\", tenantId),\n//   update: (tenantId: string, userId: number, body: { is_active?: boolean }) =>\n//     authFetch(\n//       `/staff/${userId}`,\n//       {\n//         method: \"PATCH\",\n//         headers: { \"Content-Type\": \"application/json\" },\n//         body: JSON.stringify(body),\n//       },\n//       true,\n//       tenantId\n//     ).then(async (res) => {\n//       if (!res.ok) {\n//         const t = await res.text();\n//         throw new Error(t || `HTTP ${res.status}`);\n//       }\n//       return res.json();\n//     }),\n//   remove: (tenantId: string, userId: number) =>\n//     authFetch(`/staff/${userId}`, { method: \"DELETE\" }, true, tenantId).then(\n//       async (res) => {\n//         if (!res.ok) {\n//           const t = await res.text();\n//           throw new Error(t || `HTTP ${res.status}`);\n//         }\n//         return res.json();\n//       }\n//     ),\n// };\n\n// export const BillingAPI = {\n//   submitPaymentCode: (tenantId: string, code: string) =>\n//     postAuthJSON(\"/billing/payment-code\", { code }, tenantId),\n// };\n\n// export const UploadAPI = {\n//   uploadKyc: async (\n//     file: File\n//   ): Promise<{ path: string; size: number; filename: string }> => {\n//     const fd = new FormData();\n//     fd.append(\"file\", file);\n//     return await postMultipart(`/uploads/kyc`, fd);\n//   },\n// };\n\n// export const KYCAPI = {\n//   status: (tenantId: string) => getAuthJSON(`/owner/kyc/status`, tenantId),\n//   update: (tenantId: string, body: any) =>\n//     putAuthJSON(`/owner/kyc/status`, body, tenantId),\n// };\n\n// export const PharmaciesAPI = {\n//   list: (page = 1, pageSize = 20, q?: string) =>\n//     getAuthJSON(\n//       `/pharmacies?page=${page}&page_size=${pageSize}${\n//         q ? `&q=${encodeURIComponent(q)}` : \"\"\n//       }`\n//     ),\n//   get: (id: number) => getAuthJSON(`/pharmacies/${id}`),\n//   update: (id: number, body: { name?: string; address?: string }) =>\n//     authFetch(`/pharmacies/${id}`, {\n//       method: \"PATCH\",\n//       headers: { \"Content-Type\": \"application/json\" },\n//       body: JSON.stringify(body),\n//     }).then(async (res) => {\n//       if (!res.ok) {\n//         const t = await res.text();\n//         throw new Error(t || `HTTP ${res.status}`);\n//       }\n//       return res.json();\n//     }),\n// };\n\n// export const ChatAPI = {\n//   listThreads: (tenantId: string) => getAuthJSON(`/chat/threads`, tenantId),\n//   createThread: (tenantId: string, title: string) =>\n//     postAuthJSON(`/chat/threads`, { title }, tenantId),\n//   listMessages: (tenantId: string, threadId: number) =>\n//     getAuthJSON(`/chat/threads/${threadId}/messages`, tenantId),\n//   sendMessage: (tenantId: string, threadId: number, prompt: string) =>\n//     postAuthJSON(`/chat/threads/${threadId}/messages`, { prompt }, tenantId),\n//   usage: (tenantId: string, days = 30) =>\n//     getAuthJSON(`/chat/usage?days=${days}`, tenantId),\n//   sendStream: async (\n//     tenantId: string,\n//     threadId: number,\n//     prompt: string,\n//     onEvent: (evt: { event: string; data?: any }) => void\n//   ): Promise<void> => {\n//     const res = await authFetch(\n//       `/chat/threads/${threadId}/messages/stream`,\n//       {\n//         method: \"POST\",\n//         headers: { \"Content-Type\": \"application/json\" },\n//         body: JSON.stringify({ prompt }),\n//       },\n//       true,\n//       tenantId\n//     );\n//     if (!res.ok || !res.body) {\n//       const t = await res.text().catch(() => \"\");\n//       throw new Error(t || `HTTP ${res.status}`);\n//     }\n//     const reader = res.body.getReader();\n//     const decoder = new TextDecoder();\n//     let buf = \"\";\n//     while (true) {\n//       const { done, value } = await reader.read();\n//       if (done) break;\n//       buf += decoder.decode(value, { stream: true });\n//       let idx;\n//       while ((idx = buf.indexOf(\"\\n\\n\")) !== -1) {\n//         const chunk = buf.slice(0, idx).trim();\n//         buf = buf.slice(idx + 2);\n//         if (chunk.startsWith(\"data:\")) {\n//           try {\n//             const jsonStr = chunk.slice(5).trim();\n//             const obj = JSON.parse(jsonStr);\n//             onEvent(obj);\n//           } catch {}\n//         }\n//       }\n//     }\n//   },\n// };\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1175, "column": 0}, "map": {"version":3,"sources":["file:///home/habtamusemagn/Desktop/last/gugu-gaga-/front_end/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 1190, "column": 0}, "map": {"version":3,"sources":["file:///home/habtamusemagn/Desktop/last/gugu-gaga-/front_end/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"rounded-2xl border border-white/20 bg-white/70 p-6 shadow-[0_20px_70px_-40px_rgba(16,185,129,0.65)] backdrop-blur-md\", className)}\n    {...props}\n  />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"mb-3 flex items-center justify-between gap-4\", className)} {...props} />\n));\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<\n  HTMLHeadingElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h4\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-tight text-emerald-900\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"text-sm leading-relaxed text-slate-700\", className)} {...props} />\n));\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"mt-4 flex flex-wrap items-center justify-between gap-3\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardTitle, CardContent, CardFooter };\n"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;AACA;;;;AAEA,MAAM,qBAAO,mNAAgB,CAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,wHAAwH;QACrI,GAAG,KAAK;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,gDAAgD;QAAa,GAAG,KAAK;;;;;;AAEpG,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,mNAAgB,CAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,4BAAc,mNAAgB,CAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QAAI,KAAK;QAAK,WAAW,IAAA,kHAAE,EAAC,0CAA0C;QAAa,GAAG,KAAK;;;;;;AAE9F,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,mNAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,8OAAC;QACC,KAAK;QACL,WAAW,IAAA,kHAAE,EAAC,0DAA0D;QACvE,GAAG,KAAK;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1263, "column": 0}, "map": {"version":3,"sources":["file:///home/habtamusemagn/Desktop/last/gugu-gaga-/front_end/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-semibold transition-all duration-200 disabled:pointer-events-none disabled:opacity-60 shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-300/70 focus-visible:ring-offset-2 focus-visible:ring-offset-transparent aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 cursor-pointer\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-gradient-to-r from-emerald-500 via-emerald-600 to-teal-500 text-white shadow-lg shadow-emerald-500/25 hover:from-emerald-500/90 hover:via-emerald-600/90 hover:to-teal-500/90 hover:shadow-emerald-500/40\",\n        destructive:\n          \"bg-gradient-to-r from-red-500 to-rose-500 text-white shadow-lg shadow-red-500/30 hover:from-red-500/90 hover:to-rose-500/90 focus-visible:ring-red-400/40\",\n        outline:\n          \"border border-emerald-300/60 bg-white/80 text-emerald-700 backdrop-blur-sm shadow-sm hover:border-emerald-400 hover:bg-white\",\n        secondary:\n          \"bg-emerald-50 text-emerald-700 shadow-sm hover:bg-emerald-100\",\n        ghost:\n          \"text-emerald-500 hover:bg-emerald-50 hover:text-emerald-700\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,giBACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 1322, "column": 0}, "map": {"version":3,"sources":["file:///home/habtamusemagn/Desktop/last/gugu-gaga-/front_end/components/ui/input.tsx"],"sourcesContent":["\"use client\";\nimport * as React from \"react\";\n\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className = \"\", ...props }, ref) => {\n    return (\n      <input\n        ref={ref}\n        className={\n          \"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 \" +\n          className\n        }\n        {...props}\n      />\n    );\n  }\n);\nInput.displayName = \"Input\";\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAKO,MAAM,sBAAQ,mNAAgB,CACnC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAC7B,qBACE,8OAAC;QACC,KAAK;QACL,WACE,uHACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1347, "column": 0}, "map": {"version":3,"sources":["file:///home/habtamusemagn/Desktop/last/gugu-gaga-/front_end/components/ui/skeleton.tsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\n\nexport function Skeleton({ className = \"\" }: { className?: string }) {\n  return <div className={`animate-pulse bg-gray-200 rounded ${className}`} />;\n}\n\nexport function TableSkeletonRows({ rows = 6, cols = 6 }: { rows?: number; cols?: number }) {\n  return (\n    <tbody>\n      {Array.from({ length: rows }).map((_, r) => (\n        <tr key={r} className=\"border-t\">\n          {Array.from({ length: cols }).map((__, c) => (\n            <td key={c} className=\"px-3 py-2\">\n              <Skeleton className=\"h-4 w-full\" />\n            </td>\n          ))}\n        </tr>\n      ))}\n    </tbody>\n  );\n}\n"],"names":[],"mappings":";;;;;;;AAAA;;AAGO,SAAS,SAAS,EAAE,YAAY,EAAE,EAA0B;IACjE,qBAAO,8OAAC;QAAI,WAAW,CAAC,kCAAkC,EAAE,WAAW;;;;;;AACzE;AAEO,SAAS,kBAAkB,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,EAAoC;IACxF,qBACE,8OAAC;kBACE,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAK,GAAG,GAAG,CAAC,CAAC,GAAG,kBACpC,8OAAC;gBAAW,WAAU;0BACnB,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAK,GAAG,GAAG,CAAC,CAAC,IAAI,kBACrC,8OAAC;wBAAW,WAAU;kCACpB,cAAA,8OAAC;4BAAS,WAAU;;;;;;uBADb;;;;;eAFJ;;;;;;;;;;AAUjB","debugId":null}},
    {"offset": {"line": 1402, "column": 0}, "map": {"version":3,"sources":["file:///home/habtamusemagn/Desktop/last/gugu-gaga-/front_end/components/ui/sheet.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />\n}\n\nfunction SheetTrigger({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />\n}\n\nfunction SheetClose({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Close>) {\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />\n}\n\nfunction SheetPortal({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Portal>) {\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />\n}\n\nfunction SheetOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {\n  return (\n    <SheetPrimitive.Overlay\n      data-slot=\"sheet-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction SheetContent({\n  className,\n  children,\n  side = \"right\",\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\n  side?: \"top\" | \"right\" | \"bottom\" | \"left\"\n}) {\n  return (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content\n        data-slot=\"sheet-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n          side === \"right\" &&\n            \"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm\",\n          side === \"left\" &&\n            \"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm\",\n          side === \"top\" &&\n            \"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b\",\n          side === \"bottom\" &&\n            \"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        <SheetPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\n          <XIcon className=\"size-4\" />\n          <span className=\"sr-only\">Close</span>\n        </SheetPrimitive.Close>\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  )\n}\n\nfunction SheetHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sheet-header\"\n      className={cn(\"flex flex-col gap-1.5 p-4\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sheet-footer\"\n      className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Title>) {\n  return (\n    <SheetPrimitive.Title\n      data-slot=\"sheet-title\"\n      className={cn(\"text-foreground font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SheetDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\n  return (\n    <SheetPrimitive.Description\n      data-slot=\"sheet-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Sheet,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,MAAM,EAAE,GAAG,OAAyD;IAC3E,qBAAO,8OAAC,0KAAmB;QAAC,aAAU;QAAS,GAAG,KAAK;;;;;;AACzD;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,8OAAC,6KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,WAAW,EAClB,GAAG,OAC+C;IAClD,qBAAO,8OAAC,2KAAoB;QAAC,aAAU;QAAe,GAAG,KAAK;;;;;;AAChE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,8OAAC,4KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,8OAAC,6KAAsB;QACrB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,QAAQ,EACR,OAAO,OAAO,EACd,GAAG,OAGJ;IACC,qBACE,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,6KAAsB;gBACrB,aAAU;gBACV,WAAW,IAAA,kHAAE,EACX,8MACA,SAAS,WACP,oIACF,SAAS,UACP,iIACF,SAAS,SACP,4GACF,SAAS,YACP,qHACF;gBAED,GAAG,KAAK;;oBAER;kCACD,8OAAC,2KAAoB;wBAAC,WAAU;;0CAC9B,8OAAC,yMAAK;gCAAC,WAAU;;;;;;0CACjB,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpC;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,6BAA6B;QAC1C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,mCAAmC;QAChD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,8OAAC,2KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,8OAAC,iLAA0B;QACzB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 1580, "column": 0}, "map": {"version":3,"sources":["file:///home/habtamusemagn/Desktop/last/gugu-gaga-/front_end/app/%28dashboard%29/inventory/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useCallback, useEffect, useMemo, useState } from \"react\";\n\nimport {\n  AuthAPI,\n  InventoryAPI,\n  type InventoryItem,\n  MedicinesAPI,\n  type MedicineListItem,\n} from \"@/utils/api\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetFooter,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\nimport { useToast } from \"@/components/ui/toast\";\n\nconst PAGE_SIZE = 20;\n\nconst currencyFormatter = new Intl.NumberFormat(\"en-US\", {\n  style: \"currency\",\n  currency: \"ETB\",\n  minimumFractionDigits: 0,\n  maximumFractionDigits: 2,\n});\n\nconst numberFormatter = new Intl.NumberFormat(\"en-US\", { maximumFractionDigits: 0 });\n\nfunction formatCurrency(value?: number | null) {\n  return currencyFormatter.format(Number.isFinite(Number(value)) ? Number(value) : 0);\n}\n\nfunction formatDate(value?: string | null) {\n  if (!value) return \"\";\n  const parsed = new Date(value);\n  if (Number.isNaN(parsed.getTime())) {\n    return value;\n  }\n  return parsed.toLocaleDateString();\n}\n\ntype InventoryMeta = {\n  page: number;\n  total: number;\n  pageSize: number;\n};\n\nexport default function InventoryPage() {\n  const { show } = useToast();\n\n  const [me, setMe] = useState<any>(null);\n  const [tenantId, setTenantId] = useState<string | null>(null);\n  const [initializing, setInitializing] = useState(true);\n\n  const [items, setItems] = useState<InventoryItem[]>([]);\n  const [meta, setMeta] = useState<InventoryMeta>({ page: 1, total: 0, pageSize: PAGE_SIZE });\n  const [fetching, setFetching] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const [search, setSearch] = useState(\"\");\n  const [debouncedSearch, setDebouncedSearch] = useState(\"\");\n  const [branchFilter, setBranchFilter] = useState(\"\");\n  const [lowStockOnly, setLowStockOnly] = useState(false);\n  const [expiringInDays, setExpiringInDays] = useState<number | undefined>(undefined);\n  const [page, setPage] = useState(1);\n\n  const [createOpen, setCreateOpen] = useState(false);\n  const [editingItem, setEditingItem] = useState<InventoryItem | null>(null);\n\n  useEffect(() => {\n    const handle = window.setTimeout(() => setDebouncedSearch(search.trim()), 300);\n    return () => window.clearTimeout(handle);\n  }, [search]);\n\n  useEffect(() => {\n    let active = true;\n    async function loadProfile() {\n      try {\n        const profile = await AuthAPI.me();\n        if (!active) return;\n        setMe(profile);\n        setTenantId(profile?.tenant_id || null);\n      } catch (err: any) {\n        if (!active) return;\n        setError(err?.message || \"Unable to load inventory\");\n      } finally {\n        if (active) setInitializing(false);\n      }\n    }\n    loadProfile();\n    return () => {\n      active = false;\n    };\n  }, []);\n\n  const loadInventory = useCallback(\n    async (tid: string) => {\n      setFetching(true);\n      setError(null);\n      try {\n        const response = await InventoryAPI.list(tid, {\n          q: debouncedSearch || undefined,\n          branch: branchFilter || undefined,\n          lowStockOnly,\n          expiringInDays,\n          page,\n          pageSize: PAGE_SIZE,\n        });\n        setItems(response.items);\n        setMeta({ page: response.page, total: response.total, pageSize: response.page_size });\n      } catch (err: any) {\n        setItems([]);\n        setMeta({ page: 1, total: 0, pageSize: PAGE_SIZE });\n        setError(err?.message || \"Failed to load inventory\");\n      } finally {\n        setFetching(false);\n      }\n    },\n    [debouncedSearch, branchFilter, lowStockOnly, expiringInDays, page],\n  );\n\n  useEffect(() => {\n    if (!tenantId) return;\n    loadInventory(tenantId);\n  }, [tenantId, loadInventory]);\n\n  const branchOptions = useMemo(() => {\n    const set = new Set<string>();\n    items.forEach((item) => {\n      if (item.branch) set.add(item.branch);\n    });\n    return Array.from(set).sort((a, b) => a.localeCompare(b));\n  }, [items]);\n\n  const stats = useMemo(() => {\n    const now = new Date();\n    const totalUnits = items.reduce((acc, item) => acc + (item.quantity || 0), 0);\n    const lowStockLots = items.filter(\n      (item) => (item.quantity || 0) <= (item.reorder_level ?? 0),\n    ).length;\n    const expiringSoon = items.filter((item) => {\n      if (!item.expiry_date) return false;\n      const expiry = new Date(item.expiry_date);\n      if (Number.isNaN(expiry.getTime())) return false;\n      const diffDays = (expiry.getTime() - now.getTime()) / (1000 * 60 * 60 * 24);\n      return diffDays >= 0 && diffDays <= 30;\n    }).length;\n\n    return {\n      totalLots: meta.total,\n      totalUnits,\n      lowStockLots,\n      expiringSoon,\n    };\n  }, [items, meta.total]);\n\n  const totalPages = Math.max(1, Math.ceil(meta.total / meta.pageSize));\n\n  const refreshInventory = useCallback(\n    (options?: { resetPage?: boolean }) => {\n      if (!tenantId) return;\n      if (options?.resetPage && page !== 1) {\n        setPage(1);\n        return;\n      }\n      loadInventory(tenantId);\n    },\n    [tenantId, page, loadInventory],\n  );\n\n  const handleResetFilters = () => {\n    setSearch(\"\");\n    setDebouncedSearch(\"\");\n    setBranchFilter(\"\");\n    setLowStockOnly(false);\n    setExpiringInDays(undefined);\n    if (page !== 1) {\n      setPage(1);\n    } else if (tenantId) {\n      loadInventory(tenantId);\n    }\n  };\n\n  const handlePageChange = (nextPage: number) => {\n    if (nextPage < 1 || nextPage > totalPages) return;\n    setPage(nextPage);\n  };\n\n  const isEmpty = !fetching && items.length === 0;\n\n  return (\n    <div className=\"space-y-8\">\n      <header className=\"flex flex-col gap-4 md:flex-row md:items-center md:justify-between\">\n        <div className=\"space-y-1\">\n          <h1 className=\"text-2xl font-semibold text-gray-900\">Inventory workspace</h1>\n          <p className=\"text-sm text-gray-500\">\n            Track medicine lots, adjust reorder levels, and record new stock arrivals.\n          </p>\n        </div>\n        <div className=\"flex flex-wrap items-center gap-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => refreshInventory()}\n            disabled={fetching || !tenantId}\n          >\n            Refresh\n          </Button>\n          <Button size=\"sm\" onClick={() => setCreateOpen(true)} disabled={!tenantId}>\n            Add stock\n          </Button>\n        </div>\n      </header>\n\n      {error && (\n        <div className=\"rounded border border-red-200 bg-red-50 p-3 text-sm text-red-700\">\n          {error}\n        </div>\n      )}\n\n      <section className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n        <Card className=\"border border-emerald-100 shadow-sm\">\n          <CardHeader className=\"space-y-1\">\n            <CardTitle className=\"text-xs uppercase tracking-wide text-emerald-700/70\">\n              Lots on file\n            </CardTitle>\n            {initializing ? (\n              <Skeleton className=\"h-7 w-16\" />\n            ) : (\n              <div className=\"text-xl font-semibold text-gray-900\">\n                {numberFormatter.format(stats.totalLots)}\n              </div>\n            )}\n          </CardHeader>\n        </Card>\n        <Card className=\"border border-emerald-100 shadow-sm\">\n          <CardHeader className=\"space-y-1\">\n            <CardTitle className=\"text-xs uppercase tracking-wide text-emerald-700/70\">\n              Total units on hand\n            </CardTitle>\n            {initializing ? (\n              <Skeleton className=\"h-7 w-24\" />\n            ) : (\n              <div className=\"text-xl font-semibold text-gray-900\">\n                {numberFormatter.format(stats.totalUnits)}\n              </div>\n            )}\n          </CardHeader>\n        </Card>\n        <Card className=\"border border-amber-200 bg-amber-50/60 shadow-sm\">\n          <CardHeader className=\"space-y-1\">\n            <CardTitle className=\"text-xs uppercase tracking-wide text-amber-700\">\n              Low stock lots\n            </CardTitle>\n            {initializing ? (\n              <Skeleton className=\"h-7 w-14\" />\n            ) : (\n              <div className=\"text-xl font-semibold text-amber-800\">\n                {numberFormatter.format(stats.lowStockLots)}\n              </div>\n            )}\n          </CardHeader>\n        </Card>\n        <Card className=\"border border-sky-200 bg-sky-50/60 shadow-sm\">\n          <CardHeader className=\"space-y-1\">\n            <CardTitle className=\"text-xs uppercase tracking-wide text-sky-700\">\n              Expiring in 30 days\n            </CardTitle>\n            {initializing ? (\n              <Skeleton className=\"h-7 w-14\" />\n            ) : (\n              <div className=\"text-xl font-semibold text-sky-800\">\n                {numberFormatter.format(stats.expiringSoon)}\n              </div>\n            )}\n          </CardHeader>\n        </Card>\n      </section>\n\n      <section>\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-sm text-gray-700\">Filters</CardTitle>\n          </CardHeader>\n          <CardContent className=\"grid gap-4 md:grid-cols-5\">\n            <div className=\"md:col-span-2 space-y-1\">\n              <label className=\"text-xs font-medium text-gray-600\">Search medicine</label>\n              <Input\n                value={search}\n                onChange={(event) => {\n                  setSearch(event.target.value);\n                  if (page !== 1) setPage(1);\n                }}\n                placeholder=\"Name, SKU...\"\n              />\n            </div>\n            <div className=\"space-y-1\">\n              <label className=\"text-xs font-medium text-gray-600\">Branch</label>\n              <select\n                value={branchFilter}\n                onChange={(event) => {\n                  setBranchFilter(event.target.value);\n                  setPage(1);\n                }}\n                className=\"w-full rounded border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring\"\n              >\n                <option value=\"\">All branches</option>\n                {branchOptions.map((branch) => (\n                  <option key={branch} value={branch}>\n                    {branch}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div className=\"space-y-1\">\n              <label className=\"text-xs font-medium text-gray-600\">Expiry window</label>\n              <select\n                value={expiringInDays ?? \"\"}\n                onChange={(event) => {\n                  const value = event.target.value;\n                  setExpiringInDays(value ? Number(value) : undefined);\n                  setPage(1);\n                }}\n                className=\"w-full rounded border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring\"\n              >\n                <option value=\"\">Any time</option>\n                <option value=\"7\">Expiring in 7 days</option>\n                <option value=\"30\">Expiring in 30 days</option>\n                <option value=\"90\">Expiring in 90 days</option>\n              </select>\n            </div>\n            <div className=\"space-y-3 md:col-span-1\">\n              <label className=\"flex items-center gap-2 text-sm text-gray-600\">\n                <input\n                  type=\"checkbox\"\n                  className=\"h-4 w-4 rounded border-gray-300 text-emerald-600 focus:ring-emerald-600\"\n                  checked={lowStockOnly}\n                  onChange={() => {\n                    setLowStockOnly((prev) => !prev);\n                    setPage(1);\n                  }}\n                />\n                Show low stock only\n              </label>\n              <Button variant=\"ghost\" size=\"sm\" onClick={handleResetFilters}>\n                Reset filters\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      </section>\n\n      <section>\n        <Card className=\"overflow-hidden\">\n          <CardHeader className=\"flex flex-col gap-1 md:flex-row md:items-center md:justify-between\">\n            <CardTitle>Inventory lots</CardTitle>\n            <div className=\"text-xs text-gray-500\">\n              Page {meta.page} of {totalPages}\n            </div>\n          </CardHeader>\n          <CardContent className=\"p-0\">\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200 text-sm\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-3 py-2 text-left font-semibold text-gray-600\">Medicine</th>\n                    <th className=\"px-3 py-2 text-left font-semibold text-gray-600\">Branch</th>\n                    <th className=\"px-3 py-2 text-left font-semibold text-gray-600\">Quantity</th>\n                    <th className=\"px-3 py-2 text-left font-semibold text-gray-600\">Reorder level</th>\n                    <th className=\"px-3 py-2 text-left font-semibold text-gray-600\">Expiry</th>\n                    <th className=\"px-3 py-2 text-left font-semibold text-gray-600\">Sell price</th>\n                    <th className=\"px-3 py-2 text-left font-semibold text-gray-600\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-gray-100 bg-white\">\n                  {items.map((item) => {\n                    const lowStock = (item.quantity || 0) <= (item.reorder_level ?? 0);\n                    const packsDisplay = item.pack_size\n                      ? `${Math.floor((item.quantity || 0) / item.pack_size)} packs`\n                      : \"\";\n                    const singlesDisplay = item.pack_size\n                      ? `${(item.quantity || 0) % item.pack_size} singles`\n                      : `${item.quantity || 0} units`;\n                    return (\n                      <tr key={item.id} className={lowStock ? \"bg-red-50/60\" : undefined}>\n                        <td className=\"px-3 py-2\">\n                          <div className=\"font-medium text-gray-900\">{item.medicine_name}</div>\n                          <div className=\"text-xs text-gray-500\">\n                            SKU: {item.sku || \"\"}  Lot: {item.lot_number || \"\"}\n                          </div>\n                        </td>\n                        <td className=\"px-3 py-2 text-gray-700\">{item.branch || \"\"}</td>\n                        <td className=\"px-3 py-2 text-gray-700\">\n                          <div className=\"font-medium text-gray-900\">{numberFormatter.format(item.quantity || 0)} units</div>\n                          <div className=\"text-xs text-gray-500\">{packsDisplay}, {singlesDisplay}</div>\n                        </td>\n                        <td className=\"px-3 py-2 text-gray-700\">{numberFormatter.format(item.reorder_level || 0)}</td>\n                        <td className=\"px-3 py-2 text-gray-700\">{formatDate(item.expiry_date)}</td>\n                        <td className=\"px-3 py-2 text-gray-700\">{item.sell_price != null ? formatCurrency(item.sell_price) : \"\"}</td>\n                        <td className=\"px-3 py-2\">\n                          <div className=\"flex flex-wrap gap-2\">\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              onClick={() => setEditingItem(item)}\n                            >\n                              Edit\n                            </Button>\n                          </div>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                  {items.length === 0 && (\n                    <tr>\n                      <td className=\"px-3 py-12 text-center text-sm text-gray-500\" colSpan={7}>\n                        {fetching ? \"Loading inventory...\" : \"No inventory lots match your filters.\"}\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n            {fetching && items.length > 0 && <Skeleton className=\"h-10 w-full\" />}\n            <div className=\"flex items-center justify-between border-t border-gray-200 px-4 py-3 text-sm text-gray-600\">\n              <div>\n                Showing {(meta.page - 1) * meta.pageSize + 1} -\n                {Math.min(meta.page * meta.pageSize, meta.total)} of {meta.total} lots\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => handlePageChange(meta.page - 1)}\n                  disabled={meta.page <= 1}\n                >\n                  Previous\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={() => handlePageChange(meta.page + 1)}\n                  disabled={meta.page >= totalPages}\n                >\n                  Next\n                </Button>\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n      </section>\n\n      <AddStockSheet\n        open={createOpen}\n        onOpenChange={setCreateOpen}\n        tenantId={tenantId ?? undefined}\n        onCreated={() => refreshInventory({ resetPage: true })}\n      />\n\n      <EditLotSheet\n        item={editingItem}\n        tenantId={tenantId ?? undefined}\n        onClose={() => setEditingItem(null)}\n        onUpdated={() => refreshInventory()}\n        onDeleted={() => refreshInventory({ resetPage: true })}\n      />\n    </div>\n  );\n}\n\ntype AddStockSheetProps = {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  tenantId?: string;\n  onCreated: () => void;\n};\n\nfunction AddStockSheet({ open, onOpenChange, tenantId, onCreated }: AddStockSheetProps) {\n  const { show } = useToast();\n\n  const [loading, setLoading] = useState(false);\n  const [medicineOptions, setMedicineOptions] = useState<MedicineListItem[]>([]);\n  const [medicinesLoading, setMedicinesLoading] = useState(false);\n\n  const [medicineId, setMedicineId] = useState(\"\"\n  );\n  const [branch, setBranch] = useState(\"\");\n  const [packSize, setPackSize] = useState(\"1\");\n  const [packsCount, setPacksCount] = useState(\"0\");\n  const [singlesCount, setSinglesCount] = useState(\"0\");\n  const [expiryDate, setExpiryDate] = useState(\"\");\n  const [lotNumber, setLotNumber] = useState(\"\");\n  const [purchasePrice, setPurchasePrice] = useState(\"\");\n  const [sellPrice, setSellPrice] = useState(\"\");\n  const [reorderLevel, setReorderLevel] = useState(\"0\");\n\n  useEffect(() => {\n    if (!open || !tenantId) return;\n    setMedicinesLoading(true);\n    MedicinesAPI.list(tenantId, { pageSize: 200 })\n      .then((response) => {\n        setMedicineOptions(response.items);\n      })\n      .catch((err: any) => {\n        show({\n          variant: \"destructive\",\n          title: \"Unable to load medicines\",\n          description: err?.message || \"Please try again shortly.\",\n        });\n      })\n      .finally(() => setMedicinesLoading(false));\n  }, [open, tenantId, show]);\n\n  const resetForm = () => {\n    setMedicineId(\"\");\n    setBranch(\"\");\n    setPackSize(\"1\");\n    setPacksCount(\"0\");\n    setSinglesCount(\"0\");\n    setExpiryDate(\"\");\n    setLotNumber(\"\");\n    setPurchasePrice(\"\");\n    setSellPrice(\"\");\n    setReorderLevel(\"0\");\n  };\n\n  const handleSubmit: React.FormEventHandler<HTMLFormElement> = async (event) => {\n    event.preventDefault();\n    if (!tenantId) return;\n    const parsedMedicineId = Number(medicineId);\n    if (!parsedMedicineId) {\n      show({ variant: \"destructive\", title: \"Select a medicine\", description: \"Choose a medicine to add stock for.\" });\n      return;\n    }\n    const parsedPackSize = Math.max(1, Number(packSize) || 1);\n    const parsedPacks = Math.max(0, Number(packsCount) || 0);\n    const parsedSingles = Math.max(0, Number(singlesCount) || 0);\n    if (parsedPacks === 0 && parsedSingles === 0) {\n      show({ variant: \"destructive\", title: \"Quantity required\", description: \"Enter packs or single units to record.\" });\n      return;\n    }\n\n    setLoading(true);\n    try {\n      await InventoryAPI.create(tenantId, {\n        medicine_id: parsedMedicineId,\n        branch: branch || undefined,\n        pack_size: parsedPackSize,\n        packs_count: parsedPacks,\n        singles_count: parsedSingles,\n        expiry_date: expiryDate || undefined,\n        lot_number: lotNumber || undefined,\n        purchase_price: purchasePrice ? Number(purchasePrice) : undefined,\n        sell_price: sellPrice ? Number(sellPrice) : undefined,\n        reorder_level: reorderLevel ? Number(reorderLevel) : undefined,\n      });\n      show({ variant: \"success\", title: \"Stock added\", description: \"The lot has been recorded successfully.\" });\n      resetForm();\n      onOpenChange(false);\n      onCreated();\n    } catch (err: any) {\n      show({\n        variant: \"destructive\",\n        title: \"Unable to add stock\",\n        description: err?.message || \"Please try again.\",\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Sheet\n      open={open}\n      onOpenChange={(next) => {\n        if (!next) {\n          resetForm();\n        }\n        onOpenChange(next);\n      }}\n    >\n      <SheetContent side=\"right\" className=\"max-w-lg space-y-4 overflow-y-auto\">\n        <SheetHeader>\n          <SheetTitle>Add stock lot</SheetTitle>\n          <SheetDescription>Capture incoming inventory so the owner dashboard stays accurate.</SheetDescription>\n        </SheetHeader>\n        {!tenantId ? (\n          <div className=\"p-4 text-sm text-gray-500\">No tenant context available.</div>\n        ) : (\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-1\">\n              <label className=\"text-xs font-medium text-gray-600\">Medicine</label>\n              <select\n                value={medicineId}\n                onChange={(event) => setMedicineId(event.target.value)}\n                required\n                className=\"w-full rounded border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 shadow-sm focus:outline-none focus:ring\"\n              >\n                <option value=\"\">Select medicine</option>\n                {medicineOptions.map((medicine) => (\n                  <option key={medicine.id} value={medicine.id}>\n                    {medicine.name} {medicine.sku ? `(${medicine.sku})` : \"\"}\n                  </option>\n                ))}\n              </select>\n              {medicinesLoading && <Skeleton className=\"h-6 w-full\" />}\n            </div>\n\n            <div className=\"grid gap-3 sm:grid-cols-2\">\n              <div className=\"space-y-1\">\n                <label className=\"text-xs font-medium text-gray-600\">Branch</label>\n                <Input\n                  value={branch}\n                  onChange={(event) => setBranch(event.target.value)}\n                  placeholder=\"e.g. Central\"\n                />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-xs font-medium text-gray-600\">Pack size (units)</label>\n                <Input\n                  type=\"number\"\n                  min={1}\n                  value={packSize}\n                  onChange={(event) => setPackSize(event.target.value)}\n                />\n              </div>\n            </div>\n\n            <div className=\"grid gap-3 sm:grid-cols-2\">\n              <div className=\"space-y-1\">\n                <label className=\"text-xs font-medium text-gray-600\">Packs</label>\n                <Input\n                  type=\"number\"\n                  min={0}\n                  value={packsCount}\n                  onChange={(event) => setPacksCount(event.target.value)}\n                />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-xs font-medium text-gray-600\">Singles</label>\n                <Input\n                  type=\"number\"\n                  min={0}\n                  value={singlesCount}\n                  onChange={(event) => setSinglesCount(event.target.value)}\n                />\n              </div>\n            </div>\n\n            <div className=\"grid gap-3 sm:grid-cols-2\">\n              <div className=\"space-y-1\">\n                <label className=\"text-xs font-medium text-gray-600\">Expiry date</label>\n                <Input type=\"date\" value={expiryDate} onChange={(event) => setExpiryDate(event.target.value)} />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-xs font-medium text-gray-600\">Lot number</label>\n                <Input value={lotNumber} onChange={(event) => setLotNumber(event.target.value)} />\n              </div>\n            </div>\n\n            <div className=\"grid gap-3 sm:grid-cols-2\">\n              <div className=\"space-y-1\">\n                <label className=\"text-xs font-medium text-gray-600\">Purchase price</label>\n                <Input\n                  type=\"number\"\n                  min={0}\n                  step=\"0.01\"\n                  value={purchasePrice}\n                  onChange={(event) => setPurchasePrice(event.target.value)}\n                />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-xs font-medium text-gray-600\">Sell price</label>\n                <Input\n                  type=\"number\"\n                  min={0}\n                  step=\"0.01\"\n                  value={sellPrice}\n                  onChange={(event) => setSellPrice(event.target.value)}\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-1\">\n              <label className=\"text-xs font-medium text-gray-600\">Reorder level</label>\n              <Input\n                type=\"number\"\n                min={0}\n                value={reorderLevel}\n                onChange={(event) => setReorderLevel(event.target.value)}\n              />\n            </div>\n\n            <SheetFooter>\n              <div className=\"flex w-full flex-col gap-2 sm:flex-row sm:justify-between\">\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  onClick={() => {\n                    resetForm();\n                    onOpenChange(false);\n                  }}\n                >\n                  Cancel\n                </Button>\n                <Button type=\"submit\" disabled={loading}>\n                  {loading ? \"Saving...\" : \"Add stock\"}\n                </Button>\n              </div>\n            </SheetFooter>\n          </form>\n        )}\n      </SheetContent>\n    </Sheet>\n  );\n}\n\ntype EditLotSheetProps = {\n  item: InventoryItem | null;\n  tenantId?: string;\n  onClose: () => void;\n  onUpdated: () => void;\n  onDeleted: () => void;\n};\n\nfunction EditLotSheet({ item, tenantId, onClose, onUpdated, onDeleted }: EditLotSheetProps) {\n  const { show } = useToast();\n  const open = !!item;\n\n  const [quantity, setQuantity] = useState(\"\"\n  );\n  const [reorderLevel, setReorderLevel] = useState(\"\"\n  );\n  const [expiryDate, setExpiryDate] = useState(\"\"\n  );\n  const [sellPrice, setSellPrice] = useState(\"\"\n  );\n  const [lotNumber, setLotNumber] = useState(\"\"\n  );\n  const [saving, setSaving] = useState(false);\n  const [deleting, setDeleting] = useState(false);\n\n  useEffect(() => {\n    if (!item) {\n      setQuantity(\"\");\n      setReorderLevel(\"\");\n      setExpiryDate(\"\");\n      setSellPrice(\"\");\n      setLotNumber(\"\");\n      return;\n    }\n    setQuantity(String(item.quantity ?? \"\"));\n    setReorderLevel(String(item.reorder_level ?? \"\"));\n    setExpiryDate(item.expiry_date || \"\");\n    setSellPrice(item.sell_price != null ? String(item.sell_price) : \"\");\n    setLotNumber(item.lot_number || \"\");\n  }, [item]);\n\n  const handleUpdate: React.FormEventHandler<HTMLFormElement> = async (event) => {\n    event.preventDefault();\n    if (!item || !tenantId) return;\n\n    const payload: {\n      quantity?: number;\n      reorder_level?: number;\n      expiry_date?: string | null;\n      sell_price?: number | null;\n      lot_number?: string | null;\n    } = {};\n\n    if (quantity.trim() !== \"\") {\n      const parsed = Number(quantity);\n      if (Number.isNaN(parsed) || parsed < 0) {\n        show({ variant: \"destructive\", title: \"Invalid quantity\", description: \"Quantity must be a non-negative number.\" });\n        return;\n      }\n      payload.quantity = parsed;\n    }\n    if (reorderLevel.trim() !== \"\") {\n      const parsed = Number(reorderLevel);\n      if (Number.isNaN(parsed) || parsed < 0) {\n        show({ variant: \"destructive\", title: \"Invalid reorder level\", description: \"Reorder level must be zero or higher.\" });\n        return;\n      }\n      payload.reorder_level = parsed;\n    }\n    if (expiryDate) {\n      payload.expiry_date = expiryDate;\n    } else {\n      payload.expiry_date = null;\n    }\n    if (sellPrice.trim() !== \"\") {\n      const parsed = Number(sellPrice);\n      if (Number.isNaN(parsed) || parsed < 0) {\n        show({ variant: \"destructive\", title: \"Invalid sell price\", description: \"Sell price must be a positive number.\" });\n        return;\n      }\n      payload.sell_price = parsed;\n    }\n    if (lotNumber.trim() !== \"\") {\n      payload.lot_number = lotNumber;\n    } else {\n      payload.lot_number = null;\n    }\n\n    setSaving(true);\n    try {\n      await InventoryAPI.update(tenantId, item.id, payload);\n      show({ variant: \"success\", title: \"Lot updated\", description: \"Inventory counts refreshed.\" });\n      onUpdated();\n      onClose();\n    } catch (err: any) {\n      show({ variant: \"destructive\", title: \"Update failed\", description: err?.message || \"Please try again.\" });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!item || !tenantId) return;\n    const confirmed = window.confirm(\n      \"Deleting this lot removes it from inventory history. Continue?\",\n    );\n    if (!confirmed) return;\n    setDeleting(true);\n    try {\n      await InventoryAPI.remove(tenantId, item.id);\n      show({ variant: \"success\", title: \"Lot deleted\", description: \"Inventory lot removed.\" });\n      onDeleted();\n      onClose();\n    } catch (err: any) {\n      show({ variant: \"destructive\", title: \"Delete failed\", description: err?.message || \"Please try again.\" });\n    } finally {\n      setDeleting(false);\n    }\n  };\n\n  return (\n    <Sheet\n      open={open}\n      onOpenChange={(next) => {\n        if (!next) onClose();\n      }}\n    >\n      <SheetContent side=\"right\" className=\"max-w-lg space-y-4 overflow-y-auto\">\n        <SheetHeader>\n          <SheetTitle>Edit inventory lot</SheetTitle>\n          <SheetDescription>\n            Update lot details or adjust counts. All changes are audit logged for owner visibility.\n          </SheetDescription>\n        </SheetHeader>\n        {!item ? (\n          <div className=\"p-4 text-sm text-gray-500\">Select a lot to edit.</div>\n        ) : (\n          <form onSubmit={handleUpdate} className=\"space-y-4\">\n            <div className=\"rounded border border-gray-200 bg-gray-50 p-3 text-xs text-gray-600\">\n              <div className=\"font-medium text-gray-800\">{item.medicine_name}</div>\n              <div>Branch: {item.branch || \"\"}</div>\n              <div>Lot: {item.lot_number || \"\"}</div>\n              <div>Pack size: {item.pack_size || \"\"}</div>\n            </div>\n\n            <div className=\"space-y-1\">\n              <label className=\"text-xs font-medium text-gray-600\">Quantity (units)</label>\n              <Input value={quantity} onChange={(event) => setQuantity(event.target.value)} />\n            </div>\n\n            <div className=\"space-y-1\">\n              <label className=\"text-xs font-medium text-gray-600\">Reorder level</label>\n              <Input value={reorderLevel} onChange={(event) => setReorderLevel(event.target.value)} />\n            </div>\n\n            <div className=\"grid gap-3 sm:grid-cols-2\">\n              <div className=\"space-y-1\">\n                <label className=\"text-xs font-medium text-gray-600\">Expiry date</label>\n                <Input type=\"date\" value={expiryDate} onChange={(event) => setExpiryDate(event.target.value)} />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-xs font-medium text-gray-600\">Sell price</label>\n                <Input\n                  type=\"number\"\n                  min={0}\n                  step=\"0.01\"\n                  value={sellPrice}\n                  onChange={(event) => setSellPrice(event.target.value)}\n                />\n              </div>\n            </div>\n\n            <div className=\"space-y-1\">\n              <label className=\"text-xs font-medium text-gray-600\">Lot number</label>\n              <Input value={lotNumber} onChange={(event) => setLotNumber(event.target.value)} />\n            </div>\n\n            <SheetFooter>\n              <div className=\"flex w-full flex-col gap-2 sm:flex-row sm:justify-between\">\n                <Button type=\"button\" variant=\"outline\" onClick={onClose}>\n                  Cancel\n                </Button>\n                <div className=\"flex flex-1 justify-end gap-2\">\n                  <Button\n                    type=\"button\"\n                    variant=\"destructive\"\n                    onClick={handleDelete}\n                    disabled={deleting}\n                  >\n                    {deleting ? \"Deleting...\" : \"Delete\"}\n                  </Button>\n                  <Button type=\"submit\" disabled={saving}>\n                    {saving ? \"Saving...\" : \"Save changes\"}\n                  </Button>\n                </div>\n              </div>\n            </SheetFooter>\n          </form>\n        )}\n      </SheetContent>\n    </Sheet>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}