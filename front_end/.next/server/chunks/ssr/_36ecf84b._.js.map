{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/input.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\n\r\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className = \"\", ...props }, ref) => {\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        className={\r\n          \"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 \" +\r\n          className\r\n        }\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nInput.displayName = \"Input\";\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAKO,MAAM,sBAAQ,mNAAgB,CACnC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAC7B,qBACE,8OAAC;QACC,KAAK;QACL,WACE,uHACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/skeleton.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\nexport function Skeleton({ className = \"\" }: { className?: string }) {\r\n  return <div className={`animate-pulse bg-gray-200 rounded ${className}`} />;\r\n}\r\n\r\nexport function TableSkeletonRows({ rows = 6, cols = 6 }: { rows?: number; cols?: number }) {\r\n  return (\r\n    <tbody>\r\n      {Array.from({ length: rows }).map((_, r) => (\r\n        <tr key={r} className=\"border-t\">\r\n          {Array.from({ length: cols }).map((__, c) => (\r\n            <td key={c} className=\"px-3 py-2\">\r\n              <Skeleton className=\"h-4 w-full\" />\r\n            </td>\r\n          ))}\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;;AAGO,SAAS,SAAS,EAAE,YAAY,EAAE,EAA0B;IACjE,qBAAO,8OAAC;QAAI,WAAW,CAAC,kCAAkC,EAAE,WAAW;;;;;;AACzE;AAEO,SAAS,kBAAkB,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,EAAoC;IACxF,qBACE,8OAAC;kBACE,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAK,GAAG,GAAG,CAAC,CAAC,GAAG,kBACpC,8OAAC;gBAAW,WAAU;0BACnB,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAK,GAAG,GAAG,CAAC,CAAC,IAAI,kBACrC,8OAAC;wBAAW,WAAU;kCACpB,cAAA,8OAAC;4BAAS,WAAU;;;;;;uBADb;;;;;eAFJ;;;;;;;;;;AAUjB","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/app/%28dashboard%29/dashboard/admin/users/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { API_BASE, getAccessToken, getAuthJSON } from \"@/utils/api\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport Link from \"next/link\";\r\nimport { useToast } from \"@/components/ui/toast\";\r\n\r\nexport default function AdminUsersPage() {\r\n  const { show } = useToast();\r\n  const [loading, setLoading] = useState(true);\r\n  const [me, setMe] = useState<{ id: string; tenant_id?: string } | null>(null);\r\n  const [rows, setRows] = useState<any[]>([]);\r\n\r\n  const [q, setQ] = useState(\"\");\r\n  const [creating, setCreating] = useState(false);\r\n  const [email, setEmail] = useState(\"\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let active = true;\r\n    async function load() {\r\n      try {\r\n        const m = await getAuthJSON<{ id: string; tenant_id?: string }>(\"/auth/me\");\r\n        if (!active) return;\r\n        setMe(m);\r\n        const token = getAccessToken();\r\n        const res = await fetch(`${API_BASE}/admin/users`, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n          },\r\n        });\r\n        if (!res.ok) throw new Error(await res.text().catch(() => \"Failed to load\"));\r\n        const data = await res.json();\r\n        if (!active) return;\r\n        setRows(Array.isArray(data) ? data : []);\r\n      } catch (e: any) {\r\n        if (!active) return;\r\n        show({ variant: \"destructive\", title: \"Failed to load users\", description: e.message || \"\" });\r\n      } finally {\r\n        if (active) setLoading(false);\r\n      }\r\n    }\r\n    load();\r\n    return () => { active = false };\r\n  }, [show]);\r\n\r\n  const filtered = useMemo(() => {\r\n    const query = q.trim().toLowerCase();\r\n    if (!query) return rows;\r\n    return rows.filter((r) =>\r\n      String(r.username || \"\").toLowerCase().includes(query) ||\r\n      String(r.email || \"\").toLowerCase().includes(query)\r\n    );\r\n  }, [rows, q]);\r\n\r\n  async function createUser(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    if (!email || !username || !password) return;\r\n    setCreating(true);\r\n    try {\r\n      const token = getAccessToken();\r\n      const res = await fetch(`${API_BASE}/admin/users`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n        },\r\n        body: JSON.stringify({ email, username, password }),\r\n      });\r\n      if (!res.ok) throw new Error(await res.text().catch(() => \"Failed to create\"));\r\n      const u = await res.json();\r\n      setRows((prev) => [u, ...prev]);\r\n      setEmail(\"\"); setUsername(\"\"); setPassword(\"\");\r\n      show({ variant: \"success\", title: \"User created\" });\r\n    } catch (e: any) {\r\n      show({ variant: \"destructive\", title: \"Create failed\", description: e.message || \"\" });\r\n    } finally {\r\n      setCreating(false);\r\n    }\r\n  }\r\n\r\n  async function deleteUser(id: string) {\r\n    if (typeof window !== \"undefined\" && !window.confirm(\"Delete this user?\")) return;\r\n    try {\r\n      const token = getAccessToken();\r\n      const res = await fetch(`${API_BASE}/admin/users/${encodeURIComponent(id)}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n        },\r\n      });\r\n      if (!res.ok && res.status !== 204) throw new Error(await res.text().catch(() => \"Failed to delete\"));\r\n      setRows((prev) => prev.filter((r) => String(r.id) !== String(id)));\r\n      show({ variant: \"success\", title: \"User deleted\" });\r\n    } catch (e: any) {\r\n      show({ variant: \"destructive\", title: \"Delete failed\", description: e.message || \"\" });\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        <Skeleton className=\"h-8 w-64\" />\r\n        <Skeleton className=\"h-10 w-full\" />\r\n        <div className=\"space-y-2\">{Array.from({ length: 8 }).map((_, i) => (<Skeleton key={i} className=\"h-14\" />))}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-xl font-semibold\">Users</h1>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Input placeholder=\"Search username/email\" value={q} onChange={(e)=>setQ(e.target.value)} className=\"w-64\" />\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={createUser} className=\"border rounded bg-white p-4 grid grid-cols-1 md:grid-cols-5 gap-3\">\r\n        <div>\r\n          <label className=\"text-sm\">Email</label>\r\n          <Input type=\"email\" value={email} onChange={(e)=>setEmail(e.target.value)} required />\r\n        </div>\r\n        <div>\r\n          <label className=\"text-sm\">Username</label>\r\n          <Input value={username} onChange={(e)=>setUsername(e.target.value)} required />\r\n        </div>\r\n        <div>\r\n          <label className=\"text-sm\">Password</label>\r\n          <Input type=\"password\" value={password} onChange={(e)=>setPassword(e.target.value)} required />\r\n        </div>\r\n        <div className=\"md:col-span-2 flex items-end justify-end\">\r\n          <Button type=\"submit\" disabled={creating}>{creating ? \"Creating...\" : \"Create User\"}</Button>\r\n        </div>\r\n      </form>\r\n\r\n      <div className=\"border rounded bg-white divide-y\">\r\n        <div className=\"grid grid-cols-12 p-3 text-xs text-gray-600\">\r\n          <div className=\"col-span-4\">Username</div>\r\n          <div className=\"col-span-4\">Email</div>\r\n          <div className=\"col-span-2\">ID</div>\r\n          <div className=\"col-span-2 text-right\">Actions</div>\r\n        </div>\r\n        {filtered.map((u)=> (\r\n          <div key={u.id} className=\"grid grid-cols-12 p-3 items-center\">\r\n            <div className=\"col-span-4 truncate\">{u.username || \"-\"}</div>\r\n            <div className=\"col-span-4 truncate\">{u.email || \"-\"}</div>\r\n            <div className=\"col-span-2 truncate text-xs text-gray-600\">{u.id}</div>\r\n            <div className=\"col-span-2 text-right flex justify-end gap-2\">\r\n              <Link href={`/dashboard/admin/users/${encodeURIComponent(u.id)}/roles`} className=\"text-sm border rounded px-2 py-1 hover:bg-gray-50\">Roles</Link>\r\n              <button className=\"text-sm border rounded px-2 py-1 hover:bg-gray-50\" onClick={()=>deleteUser(String(u.id))}>Delete</button>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        {filtered.length === 0 && <div className=\"p-6 text-gray-500\">No users found.</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}