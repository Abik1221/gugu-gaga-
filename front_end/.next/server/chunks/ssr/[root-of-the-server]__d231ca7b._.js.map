{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost:\r\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\r\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\r\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\r\n        icon: \"size-9\",\r\n        \"icon-sm\": \"size-8\",\r\n        \"icon-lg\": \"size-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nfunction Button({\r\n  className,\r\n  variant,\r\n  size,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"button\"> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean\r\n  }) {\r\n  const Comp = asChild ? Slot : \"button\"\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/input.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\n\r\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className = \"\", ...props }, ref) => {\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        className={\r\n          \"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 \" +\r\n          className\r\n        }\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nInput.displayName = \"Input\";\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAKO,MAAM,sBAAQ,mNAAgB,CACnC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAC7B,qBACE,8OAAC;QACC,KAAK;QACL,WACE,uHACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/utils/api.ts"],"sourcesContent":["export const API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:8000/api/v1\";\r\nexport const TENANT_HEADER = process.env.NEXT_PUBLIC_TENANT_HEADER || \"X-Tenant-ID\";\r\n\r\nfunction buildHeaders(initHeaders?: HeadersInit, tenantId?: string): HeadersInit {\r\n  const headers: Record<string, string> = {\r\n    ...(initHeaders as Record<string, string>),\r\n  };\r\n  if (tenantId) headers[TENANT_HEADER] = tenantId;\r\n  return headers;\r\n}\r\n\r\nexport async function postForm<T = any>(path: string, data: Record<string, string>, tenantId?: string): Promise<T> {\r\n  const body = new URLSearchParams(data);\r\n  const res = await fetch(`${API_BASE}${path}`, {\r\n    method: \"POST\",\r\n    headers: buildHeaders({\r\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    }, tenantId),\r\n    body,\r\n  });\r\n  if (!res.ok) {\r\n    try {\r\n      const data = await res.json();\r\n      const msg = data?.error || data?.detail || JSON.stringify(data);\r\n      throw new Error(msg || `Request failed with ${res.status}`);\r\n    } catch {\r\n      const text = await res.text().catch(() => \"\");\r\n      throw new Error(text || `Request failed with ${res.status}`);\r\n    }\r\n  }\r\n  return (await res.json()) as T;\r\n}\r\n\r\nexport async function postJSON<T = any>(path: string, body: any, tenantId?: string): Promise<T> {\r\n  const res = await fetch(`${API_BASE}${path}`, {\r\n    method: \"POST\",\r\n    headers: buildHeaders({ \"Content-Type\": \"application/json\" }, tenantId),\r\n    body: JSON.stringify(body),\r\n  });\r\n  if (!res.ok) {\r\n    try {\r\n      const data = await res.json();\r\n      const msg = data?.error || data?.detail || JSON.stringify(data);\r\n      throw new Error(msg || `Request failed with ${res.status}`);\r\n    } catch {\r\n      const text = await res.text().catch(() => \"\");\r\n      throw new Error(text || `Request failed with ${res.status}`);\r\n    }\r\n  }\r\n  return (await res.json()) as T;\r\n}\r\n\r\nexport async function postMultipart<T = any>(path: string, formData: FormData, tenantId?: string): Promise<T> {\r\n  const res = await fetch(`${API_BASE}${path}`, {\r\n    method: \"POST\",\r\n    headers: buildHeaders(undefined, tenantId),\r\n    body: formData,\r\n  });\r\n  if (!res.ok) {\r\n    try {\r\n      const data = await res.json();\r\n      const msg = data?.error || data?.detail || JSON.stringify(data);\r\n      throw new Error(msg || `Request failed with ${res.status}`);\r\n    } catch {\r\n      let message = `Request failed with ${res.status}`;\r\n      throw new Error(message);\r\n    }\r\n  }\r\n  return (await res.json()) as T;\r\n}\r\n\r\nexport function getAccessToken(): string | null {\r\n  if (typeof window === \"undefined\") return null;\r\n  return localStorage.getItem(\"access_token\");\r\n}\r\n\r\nfunction getRefreshToken(): string | null {\r\n  if (typeof window === \"undefined\") return null;\r\n  return localStorage.getItem(\"refresh_token\");\r\n}\r\n\r\nasync function refreshTokens(): Promise<boolean> {\r\n  const rt = getRefreshToken();\r\n  if (!rt) return false;\r\n  const url = `${API_BASE}/api/v1/auth/refresh?refresh_token=${encodeURIComponent(rt)}`;\r\n  const res = await fetch(url, { method: \"POST\" });\r\n  if (!res.ok) return false;\r\n  try {\r\n    const data = (await res.json()) as {\r\n      access_token: string;\r\n      refresh_token: string;\r\n      token_type: string;\r\n      expires_in: number;\r\n    };\r\n    if (typeof window !== \"undefined\") {\r\n      localStorage.setItem(\"access_token\", data.access_token);\r\n      localStorage.setItem(\"refresh_token\", data.refresh_token);\r\n    }\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\nasync function authFetch(path: string, init?: RequestInit, retry = true, tenantId?: string): Promise<Response> {\r\n  const token = getAccessToken();\r\n  const headers: HeadersInit = buildHeaders(\r\n    {\r\n      ...(init?.headers || {}),\r\n      ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n    },\r\n    tenantId,\r\n  );\r\n  const res = await fetch(`${API_BASE}${path}`, { ...(init || {}), headers });\r\n  if (res.status === 401 && retry) {\r\n    const ok = await refreshTokens();\r\n    if (ok) {\r\n      const newToken = getAccessToken();\r\n      const retryHeaders: HeadersInit = buildHeaders(\r\n        {\r\n          ...(init?.headers || {}),\r\n          ...(newToken ? { Authorization: `Bearer ${newToken}` } : {}),\r\n        },\r\n        tenantId,\r\n      );\r\n      return fetch(`${API_BASE}${path}`, { ...(init || {}), headers: retryHeaders });\r\n    }\r\n  }\r\n  return res;\r\n}\r\n\r\nexport async function getAuthJSON<T = any>(path: string, tenantId?: string): Promise<T> {\r\n  const res = await authFetch(path, undefined, true, tenantId);\r\n  if (!res.ok) {\r\n    try {\r\n      const data = await res.json();\r\n      const msg = data?.error || data?.detail || JSON.stringify(data);\r\n      throw new Error(msg || `Request failed with ${res.status}`);\r\n    } catch {\r\n      const text = await res.text().catch(() => \"\");\r\n      throw new Error(text || `Request failed with ${res.status}`);\r\n    }\r\n  }\r\n  return (await res.json()) as T;\r\n}\r\n\r\nexport async function postAuthJSON<T = any>(path: string, bodyData: any, tenantId?: string): Promise<T> {\r\n  const res = await authFetch(path, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(bodyData),\r\n  }, true, tenantId);\r\n  if (!res.ok) {\r\n    try {\r\n      const data = await res.json();\r\n      const msg = data?.error || data?.detail || JSON.stringify(data);\r\n      throw new Error(msg || `Request failed with ${res.status}`);\r\n    } catch {\r\n      const text = await res.text().catch(() => \"\");\r\n      throw new Error(text || `Request failed with ${res.status}`);\r\n    }\r\n  }\r\n  return (await res.json()) as T;\r\n}\r\n\r\n// Convenience wrappers for key flows\r\nexport const AuthAPI = {\r\n  registerAffiliate: (body: any) => postJSON(\"/auth/register/affiliate\", body),\r\n  registerPharmacy: (body: any) => postJSON(\"/auth/register/pharmacy\", body),\r\n  verifyRegistration: (email: string, code: string) =>\r\n    postForm(\"/auth/register/verify\", { email, code }),\r\n  login: (email: string, password: string, tenantId?: string) =>\r\n    postForm(\"/auth/login\", { username: email, password }, tenantId),\r\n  loginRequestCode: (email: string, password: string, tenantId?: string) =>\r\n    postForm(\"/auth/login/request-code\", { username: email, password }, tenantId),\r\n  loginVerify: (email: string, code: string, tenantId?: string) =>\r\n    postJSON(\"/auth/login/verify\", { email, code }, tenantId),\r\n  me: () => getAuthJSON(\"/auth/me\"),\r\n};\r\n\r\nexport const AffiliateAPI = {\r\n  getLinks: () => getAuthJSON(\"/affiliate/register-link\"),\r\n  createLink: () => getAuthJSON(\"/affiliate/register-link?create_new=true\"),\r\n  deactivate: (token: string) => postAuthJSON(`/affiliate/links/${encodeURIComponent(token)}/deactivate`, {}),\r\n  rotate: (token: string) => postAuthJSON(`/affiliate/links/${encodeURIComponent(token)}/rotate`, {}),\r\n  dashboard: () => getAuthJSON(\"/affiliate/dashboard\"),\r\n  payouts: (status?: string) => getAuthJSON(`/affiliate/payouts${status ? `?status_filter=${encodeURIComponent(status)}` : \"\"}`),\r\n  requestPayout: (month?: string, percent = 5) => postAuthJSON(\"/affiliate/payouts/request\", { month, percent }),\r\n  updateProfile: (body: any) => postAuthJSON(\"/affiliate/profile\", body),\r\n};\r\n\r\nexport const AdminAPI = {\r\n  pharmacies: (page = 1, pageSize = 20, q?: string) =>\r\n    getAuthJSON(`/admin/pharmacies?page=${page}&page_size=${pageSize}${q ? `&q=${encodeURIComponent(q)}` : \"\"}`),\r\n  affiliates: (page = 1, pageSize = 20, q?: string) =>\r\n    getAuthJSON(`/admin/affiliates?page=${page}&page_size=${pageSize}${q ? `&q=${encodeURIComponent(q)}` : \"\"}`),\r\n  approvePharmacy: (tenantId: string, applicationId: number) =>\r\n    postAuthJSON(`/admin/pharmacies/${applicationId}/approve`, {}, tenantId),\r\n  rejectPharmacy: (tenantId: string, applicationId: number) =>\r\n    postAuthJSON(`/admin/pharmacies/${applicationId}/reject`, {}, tenantId),\r\n  verifyPayment: (tenantId: string, code?: string | null) =>\r\n    postAuthJSON(`/admin/payments/verify`, { code: code || null }, tenantId),\r\n  rejectPayment: (tenantId: string, code?: string | null) =>\r\n    postAuthJSON(`/admin/payments/reject`, { code: code || null }, tenantId),\r\n  approveAffiliate: (userId: number) => postAuthJSON(`/admin/affiliates/${userId}/approve`, {}),\r\n  rejectAffiliate: (userId: number) => postAuthJSON(`/admin/affiliates/${userId}/reject`, {}),\r\n  listAffiliatePayouts: (status?: string) =>\r\n    getAuthJSON(`/admin/affiliate/payouts${status ? `?status=${encodeURIComponent(status)}` : \"\"}`),\r\n  markPayoutPaid: (payoutId: number) => postAuthJSON(`/admin/affiliate/payouts/${payoutId}/mark-paid`, {}),\r\n  approvePayout: (payoutId: number) => postAuthJSON(`/admin/affiliate/payouts/${payoutId}/approve`, {}),\r\n  usage: (days = 30) => getAuthJSON(`/admin/usage?days=${days}`),\r\n  audit: (params?: { tenant_id?: string; action?: string; limit?: number }) =>\r\n    getAuthJSON(\r\n      `/admin/audit${(() => {\r\n        const qs = new URLSearchParams();\r\n        if (params?.tenant_id) qs.set(\"tenant_id\", params.tenant_id);\r\n        if (params?.action) qs.set(\"action\", params.action);\r\n        if (params?.limit) qs.set(\"limit\", String(params.limit));\r\n        const s = qs.toString();\r\n        return s ? `?${s}` : \"\";\r\n      })()}`,\r\n    ),\r\n};\r\n\r\nexport const StaffAPI = {\r\n  createCashier: (tenantId: string, body: any) => postAuthJSON(\"/staff\", body, tenantId),\r\n  list: (tenantId: string) => getAuthJSON(\"/staff\", tenantId),\r\n  update: (tenantId: string, userId: number, body: { is_active?: boolean }) =>\r\n    authFetch(`/staff/${userId}`, { method: \"PATCH\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify(body) }, true, tenantId)\r\n      .then(async (res)=>{ if (!res.ok) { const t = await res.text(); throw new Error(t || `HTTP ${res.status}`); } return res.json(); }),\r\n  remove: (tenantId: string, userId: number) =>\r\n    authFetch(`/staff/${userId}`, { method: \"DELETE\" }, true, tenantId)\r\n      .then(async (res)=>{ if (!res.ok) { const t = await res.text(); throw new Error(t || `HTTP ${res.status}`); } return res.json(); }),\r\n};\r\n\r\nexport const UploadAPI = {\r\n  uploadKyc: async (file: File): Promise<{ path: string; size: number; filename: string }> => {\r\n    const fd = new FormData();\r\n    fd.append(\"file\", file);\r\n    return await postMultipart(`/uploads/kyc`, fd);\r\n  },\r\n};\r\n\r\nexport const PharmaciesAPI = {\r\n  list: (page = 1, pageSize = 20, q?: string) =>\r\n    getAuthJSON(`/pharmacies?page=${page}&page_size=${pageSize}${q ? `&q=${encodeURIComponent(q)}` : \"\"}`),\r\n  get: (id: number) => getAuthJSON(`/pharmacies/${id}`),\r\n  update: (id: number, body: { name?: string; address?: string }) =>\r\n    authFetch(`/pharmacies/${id}`, { method: \"PATCH\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify(body) })\r\n      .then(async (res)=>{ if (!res.ok) { const t = await res.text(); throw new Error(t || `HTTP ${res.status}`); } return res.json(); }),\r\n};\r\n\r\nexport const ChatAPI = {\r\n  listThreads: (tenantId: string) => getAuthJSON(`/chat/threads`, tenantId),\r\n  createThread: (tenantId: string, title: string) => postAuthJSON(`/chat/threads`, { title }, tenantId),\r\n  listMessages: (tenantId: string, threadId: number) => getAuthJSON(`/chat/threads/${threadId}/messages`, tenantId),\r\n  sendMessage: (tenantId: string, threadId: number, prompt: string) =>\r\n    postAuthJSON(`/chat/threads/${threadId}/messages`, { prompt }, tenantId),\r\n  usage: (tenantId: string, days = 30) => getAuthJSON(`/chat/usage?days=${days}`, tenantId),\r\n  sendStream: async (\r\n    tenantId: string,\r\n    threadId: number,\r\n    prompt: string,\r\n    onEvent: (evt: { event: string; data?: any }) => void,\r\n  ): Promise<void> => {\r\n    const res = await authFetch(`/chat/threads/${threadId}/messages/stream`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ prompt }),\r\n    }, true, tenantId);\r\n    if (!res.ok || !res.body) {\r\n      const t = await res.text().catch(()=>\"\");\r\n      throw new Error(t || `HTTP ${res.status}`);\r\n    }\r\n    const reader = res.body.getReader();\r\n    const decoder = new TextDecoder();\r\n    let buf = \"\";\r\n    while (true) {\r\n      const { done, value } = await reader.read();\r\n      if (done) break;\r\n      buf += decoder.decode(value, { stream: true });\r\n      let idx;\r\n      while ((idx = buf.indexOf(\"\\n\\n\")) !== -1) {\r\n        const chunk = buf.slice(0, idx).trim();\r\n        buf = buf.slice(idx + 2);\r\n        if (chunk.startsWith(\"data:\")) {\r\n          try {\r\n            const jsonStr = chunk.slice(5).trim();\r\n            const obj = JSON.parse(jsonStr);\r\n            onEvent(obj);\r\n          } catch {}\r\n        }\r\n      }\r\n    }\r\n  },\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 474, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/app/%28auth%29/register/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { useToast } from \"@/components/ui/toast\";\r\nimport { AuthAPI, UploadAPI } from \"@/utils/api\";\r\n\r\ntype Tab = \"pharmacy\" | \"affiliate\";\r\n\r\nexport default function RegisterPage() {\r\n  const router = useRouter();\r\n  const qp = useSearchParams();\r\n  const { show } = useToast();\r\n  // If ?tab=affiliate in URL, default to affiliate tab and lock\r\n  const tabParam = qp.get(\"tab\") as Tab | null;\r\n  const [tab, setTab] = useState<Tab>(tabParam === \"affiliate\" ? \"affiliate\" : \"pharmacy\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [success, setSuccess] = useState<string | null>(null);\r\n  const affiliateToken = qp.get(\"token\") || qp.get(\"ref\") || undefined;\r\n\r\n  // Pharmacy form\r\n  const [pharmacyName, setPharmacyName] = useState(\"\");\r\n  const [address, setAddress] = useState(\"\");\r\n  const [ownerEmail, setOwnerEmail] = useState(\"\");\r\n  const [ownerPhone, setOwnerPhone] = useState(\"\");\r\n  const [ownerPassword, setOwnerPassword] = useState(\"\");\r\n  const [idNumber, setIdNumber] = useState(\"\");\r\n  const [licenseNumber, setLicenseNumber] = useState(\"\");\r\n  const [kycNotes, setKycNotes] = useState(\"\");\r\n  const [kycFile, setKycFile] = useState<File | null>(null);\r\n  const [kycUploadPath, setKycUploadPath] = useState<string | null>(null);\r\n\r\n  // Affiliate form\r\n  const [affEmail, setAffEmail] = useState(\"\");\r\n  const [affPassword, setAffPassword] = useState(\"\");\r\n  const [fullName, setFullName] = useState(\"\");\r\n  const [bankName, setBankName] = useState(\"\");\r\n  const [bankAccountName, setBankAccountName] = useState(\"\");\r\n  const [bankAccountNumber, setBankAccountNumber] = useState(\"\");\r\n  const [iban, setIban] = useState(\"\");\r\n\r\n  const fieldErrors = useMemo(() => ({} as Record<string, string>), []);\r\n\r\n  async function submitPharmacy(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setError(null); setSuccess(null); setLoading(true);\r\n    try {\r\n      if (!pharmacyName.trim()) throw new Error(\"Pharmacy name is required\");\r\n      if (!ownerEmail || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(ownerEmail)) throw new Error(\"Valid owner email required\");\r\n      if (!ownerPassword || ownerPassword.length < 6) throw new Error(\"Password must be at least 6 characters\");\r\n      if (!idNumber.trim() || !licenseNumber.trim()) throw new Error(\"ID number and license number are required\");\r\n      // Upload KYC document if provided\r\n      let docPath: string | undefined = undefined;\r\n      if (kycFile) {\r\n        const up = await UploadAPI.uploadKyc(kycFile);\r\n        docPath = up.path;\r\n        setKycUploadPath(up.path);\r\n      }\r\n      await AuthAPI.registerPharmacy({\r\n        pharmacy_name: pharmacyName,\r\n        address: address || undefined,\r\n        owner_email: ownerEmail,\r\n        owner_phone: ownerPhone || undefined,\r\n        owner_password: ownerPassword,\r\n        id_number: idNumber,\r\n        pharmacy_license_number: licenseNumber,\r\n        kyc_notes: kycNotes || undefined,\r\n        pharmacy_license_document_path: docPath,\r\n        affiliate_token: affiliateToken,\r\n      });\r\n      setSuccess(\"Application received. Await admin approval.\");\r\n      show({ variant: \"success\", title: \"Submitted\", description: \"KYC review pending\" });\r\n      setTimeout(() => router.replace(\"/login\"), 1200);\r\n    } catch (err: any) {\r\n      setError(err.message || \"Failed to submit\");\r\n      show({ variant: \"destructive\", title: \"Failed\", description: err.message || \"Please try again\" });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function submitAffiliate(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setError(null); setSuccess(null); setLoading(true);\r\n    try {\r\n      if (!affEmail || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(affEmail)) throw new Error(\"Valid email required\");\r\n      if (!affPassword || affPassword.length < 6) throw new Error(\"Password must be at least 6 characters\");\r\n      await AuthAPI.registerAffiliate({\r\n        email: affEmail,\r\n        password: affPassword,\r\n        affiliate_full_name: fullName || undefined,\r\n        bank_name: bankName || undefined,\r\n        bank_account_name: bankAccountName || undefined,\r\n        bank_account_number: bankAccountNumber || undefined,\r\n      });\r\n      setSuccess(\"Affiliate registered. Please verify your email.\");\r\n      show({ variant: \"success\", title: \"Registered\", description: \"Check your email for verification code\" });\r\n      setTimeout(() => router.replace(`/register/verify?email=${encodeURIComponent(affEmail)}`), 800);\r\n    } catch (err: any) {\r\n      const message = err?.message || \"Registration failed\";\r\n      setError(message);\r\n      show({ variant: \"destructive\", title: \"Failed\", description: message });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-start justify-center p-6\">\r\n      <div className=\"w-full max-w-3xl space-y-6\">\r\n        <h1 className=\"text-2xl font-semibold\">Create an account</h1>\r\n        {!tabParam && (\r\n          <div className=\"flex gap-2\">\r\n            <Button variant={tab === \"pharmacy\" ? \"default\" : \"outline\"} onClick={() => setTab(\"pharmacy\")}>Pharmacy</Button>\r\n            <Button variant={tab === \"affiliate\" ? \"default\" : \"outline\"} onClick={() => setTab(\"affiliate\")}>Affiliate</Button>\r\n          </div>\r\n        )}\r\n\r\n        {error && <p className=\"text-red-600 text-sm\">{error}</p>}\r\n        {success && <p className=\"text-emerald-600 text-sm\">{success}</p>}\r\n\r\n        {tab === \"pharmacy\" ? (\r\n          <form onSubmit={submitPharmacy} className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-sm\">Pharmacy Name</label>\r\n                <Input value={pharmacyName} onChange={(e)=>setPharmacyName(e.target.value)} required />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-sm\">Address</label>\r\n                <Input value={address} onChange={(e)=>setAddress(e.target.value)} />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-sm\">Owner Email</label>\r\n                <Input type=\"email\" value={ownerEmail} onChange={(e)=>setOwnerEmail(e.target.value)} required />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-sm\">Owner Phone</label>\r\n                <Input value={ownerPhone} onChange={(e)=>setOwnerPhone(e.target.value)} placeholder=\"+2519...\" />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-sm\">Password</label>\r\n                <Input type=\"password\" value={ownerPassword} onChange={(e)=>setOwnerPassword(e.target.value)} required />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-sm\">National/Company ID</label>\r\n                <Input value={idNumber} onChange={(e)=>setIdNumber(e.target.value)} required />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-sm\">Pharmacy License Number</label>\r\n                <Input value={licenseNumber} onChange={(e)=>setLicenseNumber(e.target.value)} required />\r\n              </div>\r\n              <div className=\"md:col-span-2 space-y-1\">\r\n                <label className=\"text-sm\">Pharmacy License Document (Image, required)</label>\r\n                <input type=\"file\" accept=\".jpg,.jpeg,.png\" onChange={(e)=>setKycFile(e.target.files?.[0] || null)} required />\r\n                {kycUploadPath && (<div className=\"text-xs text-gray-500\">Uploaded: {kycUploadPath}</div>)}\r\n              </div>\r\n              <div className=\"md:col-span-2 space-y-1\">\r\n                <label className=\"text-sm\">Notes to Reviewer</label>\r\n                <textarea className=\"w-full border rounded px-3 py-2\" rows={3} value={kycNotes} onChange={(e)=>setKycNotes(e.target.value)} />\r\n              </div>\r\n            </div>\r\n            {affiliateToken && (\r\n              <div className=\"text-xs text-gray-600\">Referral token detected.</div>\r\n            )}\r\n            <Button type=\"submit\" disabled={loading}>{loading ? \"Submitting...\" : \"Submit Application\"}</Button>\r\n          </form>\r\n        ) : (\r\n          <form onSubmit={submitAffiliate} className=\"space-y-4\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-sm\">Email</label>\r\n                <Input type=\"email\" value={affEmail} onChange={(e)=>setAffEmail(e.target.value)} required />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-sm\">Password</label>\r\n                <Input type=\"password\" value={affPassword} onChange={(e)=>setAffPassword(e.target.value)} required />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-sm\">Full Name (for payouts)</label>\r\n                <Input value={fullName} onChange={(e)=>setFullName(e.target.value)} />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-sm\">Bank Name</label>\r\n                <Input value={bankName} onChange={(e)=>setBankName(e.target.value)} />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-sm\">Bank Account Name</label>\r\n                <Input value={bankAccountName} onChange={(e)=>setBankAccountName(e.target.value)} />\r\n              </div>\r\n              <div className=\"space-y-1\">\r\n                <label className=\"text-sm\">Bank Account Number</label>\r\n                <Input value={bankAccountNumber} onChange={(e)=>setBankAccountNumber(e.target.value)} />\r\n              </div>\r\n            </div>\r\n            <Button type=\"submit\" disabled={loading}>{loading ? \"Registering...\" : \"Register as Affiliate\"}</Button>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;AANA;;;;;;;;AAUe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,KAAK,IAAA,qJAAe;IAC1B,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,sIAAQ;IACzB,8DAA8D;IAC9D,MAAM,WAAW,GAAG,GAAG,CAAC;IACxB,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAM,aAAa,cAAc,cAAc;IAC7E,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAgB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAgB;IACtD,MAAM,iBAAiB,GAAG,GAAG,CAAC,YAAY,GAAG,GAAG,CAAC,UAAU;IAE3D,gBAAgB;IAChB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC;IAC7C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IACnD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAc;IACpD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAgB;IAElE,iBAAiB;IACjB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,iNAAQ,EAAC;IAC3D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IAEjC,MAAM,cAAc,IAAA,gNAAO,EAAC,IAAM,CAAC,CAAC,CAA2B,GAAG,EAAE;IAEpE,eAAe,eAAe,CAAkB;QAC9C,EAAE,cAAc;QAChB,SAAS;QAAO,WAAW;QAAO,WAAW;QAC7C,IAAI;YACF,IAAI,CAAC,aAAa,IAAI,IAAI,MAAM,IAAI,MAAM;YAC1C,IAAI,CAAC,cAAc,CAAC,6BAA6B,IAAI,CAAC,aAAa,MAAM,IAAI,MAAM;YACnF,IAAI,CAAC,iBAAiB,cAAc,MAAM,GAAG,GAAG,MAAM,IAAI,MAAM;YAChE,IAAI,CAAC,SAAS,IAAI,MAAM,CAAC,cAAc,IAAI,IAAI,MAAM,IAAI,MAAM;YAC/D,kCAAkC;YAClC,IAAI,UAA8B;YAClC,IAAI,SAAS;gBACX,MAAM,KAAK,MAAM,yHAAS,CAAC,SAAS,CAAC;gBACrC,UAAU,GAAG,IAAI;gBACjB,iBAAiB,GAAG,IAAI;YAC1B;YACA,MAAM,uHAAO,CAAC,gBAAgB,CAAC;gBAC7B,eAAe;gBACf,SAAS,WAAW;gBACpB,aAAa;gBACb,aAAa,cAAc;gBAC3B,gBAAgB;gBAChB,WAAW;gBACX,yBAAyB;gBACzB,WAAW,YAAY;gBACvB,gCAAgC;gBAChC,iBAAiB;YACnB;YACA,WAAW;YACX,KAAK;gBAAE,SAAS;gBAAW,OAAO;gBAAa,aAAa;YAAqB;YACjF,WAAW,IAAM,OAAO,OAAO,CAAC,WAAW;QAC7C,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO,IAAI;YACxB,KAAK;gBAAE,SAAS;gBAAe,OAAO;gBAAU,aAAa,IAAI,OAAO,IAAI;YAAmB;QACjG,SAAU;YACR,WAAW;QACb;IACF;IAEA,eAAe,gBAAgB,CAAkB;QAC/C,EAAE,cAAc;QAChB,SAAS;QAAO,WAAW;QAAO,WAAW;QAC7C,IAAI;YACF,IAAI,CAAC,YAAY,CAAC,6BAA6B,IAAI,CAAC,WAAW,MAAM,IAAI,MAAM;YAC/E,IAAI,CAAC,eAAe,YAAY,MAAM,GAAG,GAAG,MAAM,IAAI,MAAM;YAC5D,MAAM,uHAAO,CAAC,iBAAiB,CAAC;gBAC9B,OAAO;gBACP,UAAU;gBACV,qBAAqB,YAAY;gBACjC,WAAW,YAAY;gBACvB,mBAAmB,mBAAmB;gBACtC,qBAAqB,qBAAqB;YAC5C;YACA,WAAW;YACX,KAAK;gBAAE,SAAS;gBAAW,OAAO;gBAAc,aAAa;YAAyC;YACtG,WAAW,IAAM,OAAO,OAAO,CAAC,CAAC,uBAAuB,EAAE,mBAAmB,WAAW,GAAG;QAC7F,EAAE,OAAO,KAAU;YACjB,MAAM,UAAU,KAAK,WAAW;YAChC,SAAS;YACT,KAAK;gBAAE,SAAS;gBAAe,OAAO;gBAAU,aAAa;YAAQ;QACvE,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAyB;;;;;;gBACtC,CAAC,0BACA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,qIAAM;4BAAC,SAAS,QAAQ,aAAa,YAAY;4BAAW,SAAS,IAAM,OAAO;sCAAa;;;;;;sCAChG,8OAAC,qIAAM;4BAAC,SAAS,QAAQ,cAAc,YAAY;4BAAW,SAAS,IAAM,OAAO;sCAAc;;;;;;;;;;;;gBAIrG,uBAAS,8OAAC;oBAAE,WAAU;8BAAwB;;;;;;gBAC9C,yBAAW,8OAAC;oBAAE,WAAU;8BAA4B;;;;;;gBAEpD,QAAQ,2BACP,8OAAC;oBAAK,UAAU;oBAAgB,WAAU;;sCACxC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,mIAAK;4CAAC,OAAO;4CAAc,UAAU,CAAC,IAAI,gBAAgB,EAAE,MAAM,CAAC,KAAK;4CAAG,QAAQ;;;;;;;;;;;;8CAEtF,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,mIAAK;4CAAC,OAAO;4CAAS,UAAU,CAAC,IAAI,WAAW,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAEjE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,mIAAK;4CAAC,MAAK;4CAAQ,OAAO;4CAAY,UAAU,CAAC,IAAI,cAAc,EAAE,MAAM,CAAC,KAAK;4CAAG,QAAQ;;;;;;;;;;;;8CAE/F,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,mIAAK;4CAAC,OAAO;4CAAY,UAAU,CAAC,IAAI,cAAc,EAAE,MAAM,CAAC,KAAK;4CAAG,aAAY;;;;;;;;;;;;8CAEtF,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,mIAAK;4CAAC,MAAK;4CAAW,OAAO;4CAAe,UAAU,CAAC,IAAI,iBAAiB,EAAE,MAAM,CAAC,KAAK;4CAAG,QAAQ;;;;;;;;;;;;8CAExG,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,mIAAK;4CAAC,OAAO;4CAAU,UAAU,CAAC,IAAI,YAAY,EAAE,MAAM,CAAC,KAAK;4CAAG,QAAQ;;;;;;;;;;;;8CAE9E,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,mIAAK;4CAAC,OAAO;4CAAe,UAAU,CAAC,IAAI,iBAAiB,EAAE,MAAM,CAAC,KAAK;4CAAG,QAAQ;;;;;;;;;;;;8CAExF,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC;4CAAM,MAAK;4CAAO,QAAO;4CAAkB,UAAU,CAAC,IAAI,WAAW,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;4CAAO,QAAQ;;;;;;wCAC3G,+BAAkB,8OAAC;4CAAI,WAAU;;gDAAwB;gDAAW;;;;;;;;;;;;;8CAEvE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC;4CAAS,WAAU;4CAAkC,MAAM;4CAAG,OAAO;4CAAU,UAAU,CAAC,IAAI,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;wBAG5H,gCACC,8OAAC;4BAAI,WAAU;sCAAwB;;;;;;sCAEzC,8OAAC,qIAAM;4BAAC,MAAK;4BAAS,UAAU;sCAAU,UAAU,kBAAkB;;;;;;;;;;;yCAGxE,8OAAC;oBAAK,UAAU;oBAAiB,WAAU;;sCACzC,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,mIAAK;4CAAC,MAAK;4CAAQ,OAAO;4CAAU,UAAU,CAAC,IAAI,YAAY,EAAE,MAAM,CAAC,KAAK;4CAAG,QAAQ;;;;;;;;;;;;8CAE3F,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,mIAAK;4CAAC,MAAK;4CAAW,OAAO;4CAAa,UAAU,CAAC,IAAI,eAAe,EAAE,MAAM,CAAC,KAAK;4CAAG,QAAQ;;;;;;;;;;;;8CAEpG,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,mIAAK;4CAAC,OAAO;4CAAU,UAAU,CAAC,IAAI,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAEnE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,mIAAK;4CAAC,OAAO;4CAAU,UAAU,CAAC,IAAI,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAEnE,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,mIAAK;4CAAC,OAAO;4CAAiB,UAAU,CAAC,IAAI,mBAAmB,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;8CAEjF,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAM,WAAU;sDAAU;;;;;;sDAC3B,8OAAC,mIAAK;4CAAC,OAAO;4CAAmB,UAAU,CAAC,IAAI,qBAAqB,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;;;;;;;sCAGvF,8OAAC,qIAAM;4BAAC,MAAK;4BAAS,UAAU;sCAAU,UAAU,mBAAmB;;;;;;;;;;;;;;;;;;;;;;;AAMnF","debugId":null}}]
}