{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/input.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\n\r\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className = \"\", ...props }, ref) => {\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        className={\r\n          \"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 \" +\r\n          className\r\n        }\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nInput.displayName = \"Input\";\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAKO,MAAM,sBAAQ,mNAAgB,CACnC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAC7B,qBACE,8OAAC;QACC,KAAK;QACL,WACE,uHACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/app/%28dashboard%29/dashboard/settings/page.tsx"],"sourcesContent":["// Dashboard settings page\r\n\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { getAuthJSON, postAuthJSON } from \"@/utils/api\";\r\nimport { useToast } from \"@/components/ui/toast\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\n\r\ntype Me = {\r\n  id: string;\r\n  email: string;\r\n  username: string;\r\n  first_name?: string;\r\n  last_name?: string;\r\n  phone_number?: string;\r\n  tenant_id?: string;\r\n};\r\n\r\nexport default function DashboardSettingsPage() {\r\n  const { show } = useToast();\r\n  const [me, setMe] = useState<Me | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [currentPassword, setCurrentPassword] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [changing, setChanging] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let active = true;\r\n    async function load() {\r\n      try {\r\n        const data = await getAuthJSON<Me>(\"/api/v1/auth/me\");\r\n        if (!active) return;\r\n        setMe(data);\r\n      } catch (e: any) {\r\n        if (!active) return;\r\n        setError(e.message || \"Failed to load profile\");\r\n      } finally {\r\n        if (active) setLoading(false);\r\n      }\r\n    }\r\n    load();\r\n    return () => {\r\n      active = false;\r\n    };\r\n  }, []);\r\n\r\n  async function onChangePassword(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    if (!me) return;\r\n    if (!currentPassword || !newPassword) {\r\n      show({ variant: \"destructive\", title: \"Missing fields\", description: \"Enter current and new password\" });\r\n      return;\r\n    }\r\n    setChanging(true);\r\n    try {\r\n      await postAuthJSON(`/api/v1/users/${me.id}/change-password`, {\r\n        current_password: currentPassword,\r\n        new_password: newPassword,\r\n      });\r\n      show({ variant: \"success\", title: \"Password changed\" });\r\n      setCurrentPassword(\"\");\r\n      setNewPassword(\"\");\r\n    } catch (e: any) {\r\n      show({ variant: \"destructive\", title: \"Change failed\", description: e.message || \"\" });\r\n    } finally {\r\n      setChanging(false);\r\n    }\r\n  }\r\n\r\n  if (loading) return <div className=\"text-gray-500\">Loading settings...</div>;\r\n  if (error) return <div className=\"text-red-600\">{error}</div>;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <section className=\"border rounded bg-white\">\r\n        <div className=\"border-b p-4 font-medium\">Profile</div>\r\n        <div className=\"p-4 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm\">\r\n          <div>\r\n            <div className=\"text-gray-500\">Username</div>\r\n            <div className=\"font-medium\">{me?.username}</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-gray-500\">Email</div>\r\n            <div className=\"font-medium\">{me?.email}</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-gray-500\">First Name</div>\r\n            <div className=\"font-medium\">{me?.first_name || \"-\"}</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-gray-500\">Last Name</div>\r\n            <div className=\"font-medium\">{me?.last_name || \"-\"}</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-gray-500\">Phone</div>\r\n            <div className=\"font-medium\">{me?.phone_number || \"-\"}</div>\r\n          </div>\r\n          <div>\r\n            <div className=\"text-gray-500\">Tenant</div>\r\n            <div className=\"font-medium\">{me?.tenant_id || \"-\"}</div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"border rounded bg-white\">\r\n        <div className=\"border-b p-4 font-medium\">Change Password</div>\r\n        <form onSubmit={onChangePassword} className=\"p-4 space-y-3 text-sm max-w-md\">\r\n          <div className=\"space-y-1\">\r\n            <label className=\"text-sm\">Current Password</label>\r\n            <Input\r\n              type=\"password\"\r\n              value={currentPassword}\r\n              onChange={(e) => setCurrentPassword(e.target.value)}\r\n              autoComplete=\"current-password\"\r\n              required\r\n            />\r\n          </div>\r\n          <div className=\"space-y-1\">\r\n            <label className=\"text-sm\">New Password</label>\r\n            <Input\r\n              type=\"password\"\r\n              value={newPassword}\r\n              onChange={(e) => setNewPassword(e.target.value)}\r\n              autoComplete=\"new-password\"\r\n              required\r\n            />\r\n          </div>\r\n          <Button type=\"submit\" disabled={changing} className=\"w-full md:w-auto\">\r\n            {changing ? \"Changing...\" : \"Change Password\"}\r\n          </Button>\r\n        </form>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}