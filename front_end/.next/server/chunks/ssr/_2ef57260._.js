module.exports=[5522,a=>{"use strict";a.s(["Input",()=>c]);var b=a.i(90944);let c=a.i(72131).forwardRef(({className:a="",...c},d)=>(0,b.jsx)("input",{ref:d,className:"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 "+a,...c}));c.displayName="Input"},50463,a=>{"use strict";a.s(["Skeleton",()=>c,"TableSkeletonRows",()=>d]);var b=a.i(90944);function c({className:a=""}){return(0,b.jsx)("div",{className:`animate-pulse bg-gray-200 rounded ${a}`})}function d({rows:a=6,cols:d=6}){return(0,b.jsx)("tbody",{children:Array.from({length:a}).map((a,e)=>(0,b.jsx)("tr",{className:"border-t",children:Array.from({length:d}).map((a,d)=>(0,b.jsx)("td",{className:"px-3 py-2",children:(0,b.jsx)(c,{className:"h-4 w-full"})},d))},e))})}},75378,a=>{"use strict";a.s(["default",()=>i]);var b=a.i(90944),c=a.i(72131),d=a.i(75320),e=a.i(40695),f=a.i(5522),g=a.i(50463);let h={user:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg shadow-emerald-500/20",assistant:"bg-white/90 border border-white/40 text-slate-900 backdrop-blur"};function i(){let[a,i]=(0,c.useState)(!0),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(!1),r=(0,c.useRef)(null);async function s(){let a=n.trim();if(a&&j){q(!0),m(b=>[...b,{role:"user",text:a}]),o("");try{let b=(0,d.getAccessToken)(),c=await fetch(`${d.API_BASE}/api/v1/ai/agent/process`,{method:"POST",headers:{"Content-Type":"application/json",...b?{Authorization:`Bearer ${b}`}:{},...j?.tenant_id?{"X-Tenant-ID":j.tenant_id}:{},"X-User-ID":j.id},body:JSON.stringify({message:a})});if(!c.ok){let a=await c.text().catch(()=>"");throw Error(a||`Failed with ${c.status}`)}let e=await c.json(),f=e?.response||"";m(a=>[...a,{role:"assistant",text:f}])}catch(a){m(b=>[...b,{role:"assistant",text:a.message||"Agent error"}])}finally{q(!1)}}}return((0,c.useEffect)(()=>{let a=!0;return(async()=>{try{let b=await (0,d.getAuthJSON)("/api/v1/auth/me");if(!a)return;k(b)}finally{a&&i(!1)}})(),()=>{a=!1}},[]),(0,c.useEffect)(()=>{r.current?.scrollIntoView({behavior:"smooth"})},[l]),a)?(0,b.jsxs)("div",{className:"space-y-4 rounded-3xl border border-white/15 bg-white/10 p-6 shadow-[0_32px_120px_-60px_rgba(16,185,129,0.75)] backdrop-blur-xl",children:[(0,b.jsx)(g.Skeleton,{className:"h-8 w-64"}),(0,b.jsx)("div",{className:"space-y-2",children:Array.from({length:6}).map((a,c)=>(0,b.jsx)(g.Skeleton,{className:"h-6"},c))})]}):(0,b.jsxs)("div",{className:"flex h-full max-h-[calc(100vh-140px)] flex-col gap-4",children:[(0,b.jsxs)("div",{className:"rounded-3xl border border-white/15 bg-white/10 p-6 shadow-[0_28px_120px_-60px_rgba(16,185,129,0.75)] backdrop-blur-xl",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold leading-tight text-white",children:"Zemen AI Operations Assistant"}),(0,b.jsx)("p",{className:"mt-2 max-w-2xl text-sm leading-relaxed text-emerald-100/80",children:"Ask the agent for sales breakdowns, inventory alerts, and compliance insights. Responses are powered by safe, read-only analytics across your tenant data."})]}),(0,b.jsx)("div",{className:"flex-1 overflow-hidden rounded-3xl border border-white/15 bg-white/5 shadow-[0_28px_110px_-60px_rgba(16,185,129,0.7)] backdrop-blur-xl",children:(0,b.jsxs)("div",{className:"flex h-full flex-col gap-3 overflow-auto p-5",children:[0===l.length&&(0,b.jsx)("div",{className:"rounded-2xl border border-white/15 bg-white/5 p-5 text-sm text-emerald-100/80",children:"Ask the Zemen AI Agent anything about your inventory, sales, or operations."}),l.map((a,c)=>(0,b.jsx)("div",{className:`flex ${"user"===a.role?"justify-end":"justify-start"}`,children:(0,b.jsx)("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 text-sm shadow ${h[a.role]} whitespace-pre-wrap`,children:a.text})},c)),(0,b.jsx)("div",{ref:r})]})}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),p||s()},className:"flex flex-col gap-3 rounded-3xl border border-white/15 bg-white/10 p-4 backdrop-blur-xl",children:[(0,b.jsx)("label",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-emerald-100/80",children:"Type a message"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(f.Input,{placeholder:"Type your message...",value:n,onChange:a=>o(a.target.value),className:"flex-1 rounded-2xl border border-white/15 bg-white/10 text-emerald-100/90 shadow-inner backdrop-blur focus:border-emerald-300/60 focus:outline-none focus:ring-2 focus:ring-emerald-200/40"}),(0,b.jsx)(e.Button,{type:"submit",disabled:p||!n.trim(),children:p?"Sending...":"Send"})]})]})]})}}];

//# sourceMappingURL=_2ef57260._.js.map