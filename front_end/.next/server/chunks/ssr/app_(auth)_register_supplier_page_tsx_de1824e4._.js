module.exports=[92262,a=>{"use strict";a.s(["default",()=>p],92262);var b=a.i(90944),c=a.i(72131),d=a.i(38246),e=a.i(50944),f=a.i(46271),g=a.i(40695),h=a.i(5522),i=a.i(64037),j=a.i(75320),k=a.i(21781),l=a.i(43213),m=a.i(71987);let n={src:a.i(16336).default,width:1248,height:832,blurWidth:8,blurHeight:5,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAFAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD0hLkuskuxQV4A7ffxV3MbaXP/2Q=="},o=()=>({supplierName:null,email:null,password:null,nationalId:null,tinNumber:null,licenseImage:null});function p(){(0,e.useRouter)();let{show:a}=(0,i.useToast)(),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(()=>o()),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)(""),[N,O]=(0,c.useState)(""),[P,Q]=(0,c.useState)(null),[R,S]=(0,c.useState)(""),[T,U]=(0,c.useState)(""),V=a=>w(b=>({...b,[a]:null}));async function W(b){b.preventDefault(),s(null),u(null),w(o());let c=F.trim(),d=H.trim(),e=L.trim(),f=N.trim(),g={};if(c||(g.supplierName="Enter your registered supplier/company name."),d&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d)||(g.email="Enter a valid email like supplier@company.com."),(!J||J.length<6)&&(g.password="Password must be at least 6 characters."),e||(g.nationalId="Provide your national ID number."),f||(g.tinNumber="Provide your TIN (Tax Identification Number)."),P||(g.licenseImage="Upload your supplier license image."),Object.keys(g).length>0){w(()=>{let a=o();return Object.keys(g).forEach(b=>{a[b]=g[b]??null}),a}),s("Please correct the highlighted fields."),a({variant:"destructive",title:"Missing information",description:"Fix the highlighted inputs and try again."});return}q(!0);try{let a="";if(P){let b=new FileReader;a=await new Promise((a,c)=>{b.onload=()=>a(b.result),b.onerror=c,b.readAsDataURL(P)})}let b=await j.AuthAPI.registerSupplier({email:d,password:J,supplier_name:c,national_id:e,tin_number:f,business_license_image:a,phone:R.trim()||null,address:T.trim()||null});b.access_token&&(localStorage.setItem("access_token",b.access_token),localStorage.setItem("token",b.access_token)),b.refresh_token&&localStorage.setItem("refresh_token",b.refresh_token),b.user?.role&&localStorage.setItem("user_role",b.user.role),C(d),y(!0),u("Registration successful! Please verify your email."),E(!0)}catch(c){let b=c?.message||"Failed to register";s(b),a({variant:"destructive",title:"Registration Failed",description:b})}finally{q(!1)}}async function X(b){if(b.preventDefault(),!z||z.length<4)return void s("Please enter the verification code.");q(!0);try{let b=await j.AuthAPI.registerVerify(B,z);b.access_token&&(localStorage.setItem("access_token",b.access_token),localStorage.setItem("token",b.access_token)),b.refresh_token&&localStorage.setItem("refresh_token",b.refresh_token),b.user?.role&&localStorage.setItem("user_role",b.user.role),u("Email verified! Redirecting to dashboard..."),a({variant:"success",title:"Verification Complete",description:"Your account has been verified. Redirecting to dashboard."}),setTimeout(()=>window.location.href="/dashboard/supplier",1500)}catch(c){let b=c?.message||"Verification failed";s(b),a({variant:"destructive",title:"Verification Failed",description:b})}finally{q(!1)}}return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.default,{}),(0,b.jsx)(l.OtpSentDialog,{isOpen:D,onClose:()=>E(!1),email:B,purpose:"register"}),(0,b.jsxs)("div",{className:"relative flex min-h-screen flex-col lg:flex-row text-white",children:[(0,b.jsxs)("div",{className:"absolute inset-0 -z-10",children:[(0,b.jsx)("div",{className:"absolute top-10 left-10 h-80 w-80 rounded-full bg-green-500/15 blur-3xl"}),(0,b.jsx)("div",{className:"absolute bottom-10 right-10 h-96 w-96 rounded-full bg-blue-600/20 blur-3xl"})]}),(0,b.jsxs)("div",{className:"relative w-full flex-1 flex-col justify-between overflow-hidden bg-white p-6 lg:p-12 lg:flex",children:[(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-lg mx-auto lg:mx-0",children:[(0,b.jsx)("div",{className:"mt-6 lg:mt-8",children:(0,b.jsx)(m.default,{src:n,alt:"Supplier registration",className:"rounded-xl shadow-lg mx-auto max-w-full",width:600,height:3e3})}),(0,b.jsx)("h1",{className:"mt-17 lg:mt-10 text-4xl font-bold leading-tight text-black text-center",children:"Join our supplier network"}),(0,b.jsx)("p",{className:"mt-4 text-lg text-slate-500 text-center",children:"Manage your entire business seamlessly with our powerful business management software designed for growth and efficiency."}),(0,b.jsx)("ul",{className:"mt-10 space-y-4 text-slate-700",children:["Access to verified bussiness network","Real-time order management system","Advanced analytics and reporting","Secure payment processing"].map(a=>(0,b.jsxs)("li",{className:"flex items-start gap-3",children:[(0,b.jsx)("span",{className:"mt-1 inline-flex h-2.5 w-2.5 rounded-full bg-black"}),(0,b.jsx)("span",{children:a})]},a))})]}),(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:1,delay:.2},className:"space-y-4 text-sm text-slate-700 mt-8 lg:mt-0",children:[(0,b.jsx)("p",{className:"text-center lg:text-left",children:'"Mesob\'s business management platform has streamlined our operations and connected us with quality business partners nationwide."'}),(0,b.jsx)("div",{className:"h-px w-24 bg-slate-300 mx-auto lg:mx-0"}),(0,b.jsxs)("p",{className:"text-center lg:text-left",children:["Need help?"," ",(0,b.jsx)(d.default,{href:"/contact",className:"text-black hover:underline",children:"Contact our supplier support team"})]})]})]}),(0,b.jsx)("div",{className:"relative flex w-full flex-col justify-center px-4 py-8 sm:px-6 lg:w-[560px] lg:px-12 lg:py-16 bg-white",children:(0,b.jsxs)(f.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"mx-auto w-full max-w-md rounded-3xl border border-slate-200 p-6 lg:p-8 shadow-[0_25px_80px_-40px_rgba(34,197,94,0.65)] backdrop-blur",children:[(0,b.jsxs)("div",{className:"mb-6 lg:mb-8 text-center",children:[(0,b.jsx)("h2",{className:"text-2xl lg:text-3xl font-bold text-black",children:"Register as Supplier"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-slate-600",children:"Join our verified supplier network today."})]}),r&&(0,b.jsx)("div",{className:"mb-4 rounded-xl border border-red-400/30 bg-red-500/10 p-3 text-sm text-red-600",children:r}),t&&(0,b.jsx)("div",{className:"mb-4 rounded-xl border border-green-400/30 bg-green-500/10 p-3 text-sm text-green-600",children:t}),(0,b.jsxs)("form",{onSubmit:x?X:W,className:"space-y-5",children:[x?(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-900",children:"Verification Code"}),(0,b.jsx)(h.Input,{value:z,onChange:a=>A(a.target.value),placeholder:"Enter 6-digit code",className:"mt-2 border border-slate-200 bg-white text-slate-700",maxLength:6}),(0,b.jsxs)("p",{className:"mt-1 text-xs text-slate-500",children:["Check your email (",B,") for the verification code."]})]}):(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-900",children:"Supplier/Company Name*"}),(0,b.jsx)(h.Input,{value:F,onChange:a=>{V("supplierName"),G(a.target.value)},className:`mt-2 border bg-white text-slate-700 placeholder:text-slate-700 transition focus-visible:ring-2 ${v.supplierName?"border-red-400/60 focus-visible:border-red-300 focus-visible:ring-red-300/60":"border-slate-200 focus-visible:border-green-400 focus-visible:ring-green-400/50"}`}),(0,b.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:"Use your registered business name."}),v.supplierName&&(0,b.jsx)("p",{className:"mt-1 text-xs text-red-500",children:v.supplierName})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-900",children:"Email Address*"}),(0,b.jsx)(h.Input,{type:"email",value:H,onChange:a=>{V("email"),I(a.target.value)},className:`mt-2 border bg-white text-slate-700 placeholder:text-slate-700 transition focus-visible:ring-2 ${v.email?"border-red-400/60 focus-visible:border-red-300 focus-visible:ring-red-300/60":"border-slate-200 focus-visible:border-green-400 focus-visible:ring-green-400/50"}`}),(0,b.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:"Business email for account notifications."}),v.email&&(0,b.jsx)("p",{className:"mt-1 text-xs text-red-500",children:v.email})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-900",children:"Password*"}),(0,b.jsx)(h.Input,{type:"password",value:J,onChange:a=>{V("password"),K(a.target.value)},className:`mt-2 border bg-white text-slate-700 placeholder:text-slate-700 transition focus-visible:ring-2 ${v.password?"border-red-400/60 focus-visible:border-red-300 focus-visible:ring-red-300/60":"border-slate-200 focus-visible:border-green-400 focus-visible:ring-green-400/50"}`}),(0,b.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:"Minimum 6 characters for security."}),v.password&&(0,b.jsx)("p",{className:"mt-1 text-xs text-red-500",children:v.password})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-900",children:"National ID Number*"}),(0,b.jsx)(h.Input,{value:L,onChange:a=>{V("nationalId"),M(a.target.value)},className:`mt-2 border bg-white text-slate-700 placeholder:text-slate-700 transition focus-visible:ring-2 ${v.nationalId?"border-red-400/60 focus-visible:border-red-300 focus-visible:ring-red-300/60":"border-slate-200 focus-visible:border-green-400 focus-visible:ring-green-400/50"}`}),(0,b.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:"Government-issued identification number."}),v.nationalId&&(0,b.jsx)("p",{className:"mt-1 text-xs text-red-500",children:v.nationalId})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-900",children:"TIN Number*"}),(0,b.jsx)(h.Input,{value:N,onChange:a=>{V("tinNumber"),O(a.target.value)},className:`mt-2 border bg-white text-slate-700 placeholder:text-slate-700 transition focus-visible:ring-2 ${v.tinNumber?"border-red-400/60 focus-visible:border-red-300 focus-visible:ring-red-300/60":"border-slate-200 focus-visible:border-green-400 focus-visible:ring-green-400/50"}`}),(0,b.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:"Tax Identification Number for business verification."}),v.tinNumber&&(0,b.jsx)("p",{className:"mt-1 text-xs text-red-500",children:v.tinNumber})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-900",children:"Supplier License Image*"}),(0,b.jsxs)("div",{className:"relative mt-2",children:[(0,b.jsx)("input",{type:"file",id:"license-upload",accept:"image/*",onChange:a=>{V("licenseImage"),Q(a.target.files?.[0]||null)},className:"hidden"}),(0,b.jsxs)("label",{htmlFor:"license-upload",className:`flex items-center justify-between px-4 py-2.5 border rounded-lg cursor-pointer transition bg-white ${v.licenseImage?"border-red-400/60 hover:border-red-300":"border-slate-200 hover:border-green-400"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[P&&(0,b.jsx)("div",{className:"w-10 h-10 rounded bg-emerald-50 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)("svg",{className:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,b.jsx)("span",{className:"text-sm text-slate-700 truncate",children:P?P.name:"No file selected"})]}),(0,b.jsx)("span",{className:"px-4 py-1.5 bg-emerald-600 text-white text-sm font-semibold rounded-lg hover:bg-emerald-700 transition ml-3 flex-shrink-0",children:"BROWSE"})]})]}),(0,b.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:"Upload official pharmaceutical supplier license image."}),v.licenseImage&&(0,b.jsx)("p",{className:"mt-1 text-xs text-red-500",children:v.licenseImage})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-900",children:"Phone Number"}),(0,b.jsx)(h.Input,{value:R,onChange:a=>S(a.target.value),placeholder:"+251...",className:"mt-2 border border-slate-200 bg-white text-slate-700 placeholder:text-slate-700 transition focus-visible:border-green-400 focus-visible:ring-green-400/40"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:"Optional contact number."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-semibold uppercase tracking-wide text-slate-900",children:"Business Address"}),(0,b.jsx)(h.Input,{value:T,onChange:a=>U(a.target.value),className:"mt-2 border border-slate-200 bg-white text-slate-700 placeholder:text-slate-700 transition focus-visible:border-green-400 focus-visible:ring-green-400/40"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-slate-500",children:"Optional business location."})]})]}),(0,b.jsxs)(g.Button,{type:"submit",disabled:p,className:"group relative inline-flex w-full items-center justify-center overflow-hidden rounded-2xl bg-green-600 hover:bg-green-700 px-6 py-3 font-semibold text-white shadow-lg shadow-green-500/30 transition duration-300 hover:scale-[1.01] hover:shadow-green-400/40",children:[p?(0,b.jsxs)("svg",{className:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[(0,b.jsx)("circle",{className:"opacity-20",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-90",fill:"currentColor",d:"M4 12a8 8 0 018-8v8z"})]}):null,p?x?"Verifying...":"Registering...":x?"Verify Email":"Register as Supplier"]}),(0,b.jsxs)("p",{className:"text-center text-xs text-slate-700",children:["Already have a supplier account?"," ",(0,b.jsx)(d.default,{href:"/supplier-signin",className:"font-medium text-green-600 hover:underline",children:"Sign in"})]})]}),(0,b.jsxs)("p",{className:"mt-6 lg:mt-8 text-center text-[11px] text-slate-700",children:["By continuing you agree to our"," ",(0,b.jsx)(d.default,{href:"/terms",className:"text-green-600 hover:underline",children:"Terms"})," ","and"," ",(0,b.jsx)(d.default,{href:"/privacy",className:"text-green-600 hover:underline",children:"Privacy Policy"}),"."]})]})})]})]})}}];

//# sourceMappingURL=app_%28auth%29_register_supplier_page_tsx_de1824e4._.js.map