module.exports=[3130,a=>{"use strict";a.s(["Card",()=>e,"CardContent",()=>h,"CardFooter",()=>i,"CardHeader",()=>f,"CardTitle",()=>g]);var b=a.i(90944),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-2xl border border-white/20 bg-white/70 p-6 shadow-[0_20px_70px_-40px_rgba(16,185,129,0.65)] backdrop-blur-md",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("mb-3 flex items-center justify-between gap-4",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h4",{ref:e,className:(0,d.cn)("text-lg font-semibold leading-tight text-emerald-900",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm leading-relaxed text-slate-700",a),...c}));h.displayName="CardContent";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("mt-4 flex flex-wrap items-center justify-between gap-3",a),...c}));i.displayName="CardFooter"},5522,a=>{"use strict";a.s(["Input",()=>c]);var b=a.i(90944);let c=a.i(72131).forwardRef(({className:a="",...c},d)=>(0,b.jsx)("input",{ref:d,className:"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 "+a,...c}));c.displayName="Input"},50463,a=>{"use strict";a.s(["Skeleton",()=>c,"TableSkeletonRows",()=>d]);var b=a.i(90944);function c({className:a=""}){return(0,b.jsx)("div",{className:`animate-pulse bg-gray-200 rounded ${a}`})}function d({rows:a=6,cols:d=6}){return(0,b.jsx)("tbody",{children:Array.from({length:a}).map((a,e)=>(0,b.jsx)("tr",{className:"border-t",children:Array.from({length:d}).map((a,d)=>(0,b.jsx)("td",{className:"px-3 py-2",children:(0,b.jsx)(c,{className:"h-4 w-full"})},d))},e))})}},66233,a=>{"use strict";a.s(["default",()=>m]);var b=a.i(90944),c=a.i(72131),d=a.i(75320),e=a.i(3130),f=a.i(50463),g=a.i(5522),h=a.i(40695),i=a.i(64037);let j=["username","first_name","last_name","phone"];function k(a){return(a??"").trim()}function l({label:a,value:c}){return(0,b.jsxs)("div",{className:"flex flex-col gap-1 rounded border border-gray-200 bg-white/80 p-3",children:[(0,b.jsx)("span",{className:"text-xs uppercase tracking-wide text-gray-500",children:a}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-900 break-words",children:c})]})}function m(){let{show:a}=(0,i.useToast)(),[m,o]=(0,c.useState)(null),[p,q]=(0,c.useState)({username:"",first_name:"",last_name:"",phone:""}),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)("system"),[z,A]=(0,c.useState)(!0),[B,C]=(0,c.useState)({productUpdates:!0,inventoryAlerts:!0,securityEmails:!0});(0,c.useEffect)(()=>{let a=!0;return async function(){s(!0);try{let b=await d.AuthAPI.me();if(!a)return;o(b),q({username:b.username??"",first_name:b.first_name??"",last_name:b.last_name??"",phone:b.phone??""}),w(null)}catch(b){if(!a)return;w(b?.message||"Unable to load profile")}finally{a&&s(!1)}}(),()=>{a=!1}},[]),(0,c.useEffect)(()=>{let a="system";y(a),n(a),A(!1)},[]),(0,c.useEffect)(()=>{z||n(x)},[x,z]),(0,c.useEffect)(()=>{},[x]);let D=(0,c.useMemo)(()=>!!m&&j.some(a=>k(p[a])!==k(m[a])),[p,m]),E=(0,c.useMemo)(()=>m?[{label:"Email",value:m.email},{label:"Role",value:m.role??"—"},{label:"KYC Status",value:m.kyc_status??"—"},{label:"Subscription",value:m.subscription_status??"—"}]:[],[m]),F=a=>b=>{let c=b.target.value;q(b=>({...b,[a]:c}))},G=async b=>{if(b.preventDefault(),!m)return;let c={};if(j.forEach(a=>{k(p[a])!==k(m[a])&&(c[a]=function(a){let b=a.trim();return""===b?null:b}(p[a]))}),0===Object.keys(c).length)return void a({title:"No changes to save",description:"Update the fields before saving."});u(!0);try{let b=await d.AuthAPI.updateProfile(c);o(b),q({username:b.username??"",first_name:b.first_name??"",last_name:b.last_name??"",phone:b.phone??""}),w(null),a({variant:"success",title:"Profile updated",description:"Your profile details were saved."})}catch(b){a({variant:"destructive",title:"Update failed",description:b?.message||"Unable to update profile"})}finally{u(!1)}},H=a=>{C(b=>({...b,[a]:!b[a]}))};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Profile"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Review and update the account details for this user and tenant."})]}),r?(0,b.jsxs)(e.Card,{className:"border border-emerald-100 shadow-sm",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Loading profile…"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsx)("div",{className:"grid gap-3 md:grid-cols-2",children:Array.from({length:4}).map((a,c)=>(0,b.jsx)(f.Skeleton,{className:"h-16 w-full"},`form-${c}`))}),(0,b.jsx)("div",{className:"grid gap-3 md:grid-cols-2",children:Array.from({length:4}).map((a,c)=>(0,b.jsx)(f.Skeleton,{className:"h-16 w-full"},`summary-${c}`))})]})]}):v?(0,b.jsxs)(e.Card,{className:"border border-red-200 bg-red-50 shadow-sm",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-red-700",children:"Unable to load profile"})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"text-sm text-red-700",children:v})})]}):m?(0,b.jsxs)("div",{className:"grid gap-6 xl:grid-cols-2",children:[(0,b.jsxs)(e.Card,{className:"border border-emerald-100 shadow-sm",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Edit profile"})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("form",{onSubmit:G,className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Update how your name and contact information appear across the pharmacy tools. Leave a field blank to clear it."}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-600",children:"Username"}),(0,b.jsx)(g.Input,{value:p.username,onChange:F("username"),placeholder:"Preferred username",maxLength:64})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-600",children:"First name"}),(0,b.jsx)(g.Input,{value:p.first_name,onChange:F("first_name"),placeholder:"e.g. Alex",maxLength:120})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-600",children:"Last name"}),(0,b.jsx)(g.Input,{value:p.last_name,onChange:F("last_name"),placeholder:"e.g. Bekele",maxLength:120})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("label",{className:"text-xs font-medium text-gray-600",children:"Phone"}),(0,b.jsx)(g.Input,{value:p.phone,onChange:F("phone"),placeholder:"e.g. +2519...",maxLength:32})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-end gap-2",children:[(0,b.jsx)(h.Button,{type:"button",variant:"outline",onClick:()=>{m&&q({username:m.username??"",first_name:m.first_name??"",last_name:m.last_name??"",phone:m.phone??""})},disabled:!D||t,children:"Reset"}),(0,b.jsx)(h.Button,{type:"submit",disabled:!D||t,children:t?"Saving...":"Save changes"})]})]})})]}),(0,b.jsxs)(e.Card,{className:"border border-gray-200 shadow-sm",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Account summary"})}),(0,b.jsx)(e.CardContent,{className:"grid gap-3",children:E.map(a=>(0,b.jsx)(l,{label:a.label,value:a.value},a.label))})]})]}):(0,b.jsxs)(e.Card,{className:"border border-gray-200 shadow-sm",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"No profile data"})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"We could not retrieve your profile details. Try refreshing the page."})})]}),(0,b.jsxs)("div",{className:"grid gap-6 xl:grid-cols-2",children:[(0,b.jsxs)(e.Card,{className:"border border-gray-200 shadow-sm",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Appearance"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Choose how the dashboard looks across the app."}),(0,b.jsx)("div",{className:"grid gap-3 sm:grid-cols-3",children:[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"system",label:"System"}].map(c=>{let d=x===c.value;return(0,b.jsx)("button",{type:"button",onClick:()=>{var b;y(b=c.value),a({variant:"success",title:"Appearance updated",description:`Theme set to ${b}.`})},className:`rounded border px-3 py-2 text-sm font-medium transition ${d?"border-emerald-400 bg-emerald-50 text-emerald-700":"border-gray-200 hover:bg-gray-50"}`,children:c.label},c.value)})})]})]}),(0,b.jsxs)(e.Card,{className:"border border-gray-200 shadow-sm",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Notifications"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3 text-sm",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"These preferences are stored in your browser for now. Backend delivery will be wired soon."}),(0,b.jsxs)("label",{className:"flex items-center justify-between rounded border border-gray-200 bg-white px-3 py-2",children:[(0,b.jsx)("span",{children:"Product updates"}),(0,b.jsx)("input",{type:"checkbox",checked:B.productUpdates,onChange:()=>H("productUpdates")})]}),(0,b.jsxs)("label",{className:"flex items-center justify-between rounded border border-gray-200 bg-white px-3 py-2",children:[(0,b.jsx)("span",{children:"Inventory alerts"}),(0,b.jsx)("input",{type:"checkbox",checked:B.inventoryAlerts,onChange:()=>H("inventoryAlerts")})]}),(0,b.jsxs)("label",{className:"flex items-center justify-between rounded border border-gray-200 bg-white px-3 py-2",children:[(0,b.jsx)("span",{children:"Security emails"}),(0,b.jsx)("input",{type:"checkbox",checked:B.securityEmails,onChange:()=>H("securityEmails")})]})]})]})]}),(0,b.jsxs)(e.Card,{className:"border border-gray-200 shadow-sm",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{children:"Account security"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-4 text-sm",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"Looking to reset your password or review active sessions? These controls will appear here as soon as the security service is connected."}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)(h.Button,{variant:"outline",onClick:()=>{a({variant:"default",title:"Password reset",description:"A password reset link will be available once the security service is connected."})},children:"Request password reset"}),(0,b.jsx)(h.Button,{variant:"outline",disabled:!0,children:"Manage active sessions (coming soon)"})]})]})]})]})}function n(a){if("undefined"==typeof document)return;let b=document.documentElement,c=window.matchMedia?.("(prefers-color-scheme: dark)").matches??!1,d="dark"===a||"system"===a&&c;b.classList.toggle("dark",d),b.dataset.theme=d?"dark":"light"}}];

//# sourceMappingURL=_d67bdeaf._.js.map