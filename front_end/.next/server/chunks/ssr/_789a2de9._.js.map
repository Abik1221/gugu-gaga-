{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/input.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\n\r\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className = \"\", ...props }, ref) => {\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        className={\r\n          \"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 \" +\r\n          className\r\n        }\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nInput.displayName = \"Input\";\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAKO,MAAM,sBAAQ,mNAAgB,CACnC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAC7B,qBACE,8OAAC;QACC,KAAK;QACL,WACE,uHACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/app/%28dashboard%29/dashboard/affiliate/payouts/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { AffiliateAPI } from \"@/utils/api\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { useToast } from \"@/components/ui/toast\";\r\nimport { SectionCard, StatCard } from \"../_components/cards\";\r\nimport { useAffiliateDashboardContext } from \"../_context/affiliate-dashboard-context\";\r\n\r\ntype PayoutRow = {\r\n  id: number;\r\n  month?: string;\r\n  percent?: number;\r\n  amount: number;\r\n  status: string;\r\n};\r\n\r\nconst statusOptions = [\r\n  { value: \"\", label: \"All statuses\" },\r\n  { value: \"pending\", label: \"Pending\" },\r\n  { value: \"approved\", label: \"Approved\" },\r\n  { value: \"paid\", label: \"Paid\" },\r\n];\r\n\r\nexport default function AffiliatePayoutsPage() {\r\n  const { show } = useToast();\r\n  const { stats, monthLabel, payoutPercent, actions, payoutMonth, setPayoutMonth, setPayoutPercent } = useAffiliateDashboardContext();\r\n\r\n  const [statusFilter, setStatusFilter] = useState<string>(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [rows, setRows] = useState<PayoutRow[]>([]);\r\n\r\n  const [requesting, setRequesting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    refresh();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [statusFilter]);\r\n\r\n  async function refresh() {\r\n    setLoading(true);\r\n    try {\r\n      const data = await AffiliateAPI.payouts(statusFilter || undefined);\r\n      setRows(Array.isArray(data) ? data : []);\r\n      setError(null);\r\n    } catch (err: any) {\r\n      setError(err?.message || \"Failed to load payouts\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function submitPayoutRequest(event: React.FormEvent<HTMLFormElement>) {\r\n    event.preventDefault();\r\n    setRequesting(true);\r\n    try {\r\n      await actions.requestPayout();\r\n      setStatusFilter(\"pending\");\r\n      refresh();\r\n    } catch (err: any) {\r\n      show({ variant: \"destructive\", title: \"Request failed\", description: err?.message || \"Unable to submit payout\" });\r\n    } finally {\r\n      setRequesting(false);\r\n    }\r\n  }\r\n\r\n  const totalRequested = useMemo(\r\n    () => rows.reduce((sum: number, row: PayoutRow) => sum + (row.amount || 0), 0),\r\n    [rows]\r\n  );\r\n\r\n  const filteredRows = rows;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <SectionCard\r\n        title=\"Payout overview\"\r\n        description={`Snapshot for ${monthLabel.toLowerCase()} including pending and paid amounts.`}\r\n      >\r\n        <div className=\"grid gap-4 sm:grid-cols-2 xl:grid-cols-4\">\r\n          <StatCard title=\"Current commission\" value={formatCurrency(stats.currentCommission)} icon={null} description=\"Earned this period\" />\r\n          <StatCard title=\"Pending payout\" value={formatCurrency(stats.pendingPayout)} icon={null} description=\"Awaiting approval\" />\r\n          <StatCard title=\"Paid to date\" value={formatCurrency(stats.paidPayout)} icon={null} description=\"All-time payouts\" />\r\n          <StatCard title=\"Requests loaded\" value={filteredRows.length} icon={null} description=\"Visible in table\" />\r\n        </div>\r\n      </SectionCard>\r\n\r\n      <SectionCard\r\n        title=\"Request a payout\"\r\n        description=\"Choose the month and commission percentage you&apos;re eligible for, then submit the request.\"\r\n      >\r\n        <form onSubmit={submitPayoutRequest} className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4\">\r\n          <div className=\"sm:col-span-1\">\r\n            <label className=\"text-xs font-medium text-emerald-600\">Month (YYYY-MM)</label>\r\n            <Input\r\n              required\r\n              value={payoutMonth}\r\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) => setPayoutMonth(event.target.value)}\r\n              placeholder=\"2025-10\"\r\n              className=\"mt-2 h-11 rounded-xl border-emerald-200 bg-white/90 focus:border-emerald-400 focus:ring-emerald-400\"\r\n            />\r\n          </div>\r\n          <div className=\"sm:col-span-1\">\r\n            <label className=\"text-xs font-medium text-emerald-600\">Commission percent</label>\r\n            <Input\r\n              type=\"number\"\r\n              min={1}\r\n              max={20}\r\n              step={0.5}\r\n              value={payoutPercent}\r\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) => setPayoutPercent(Number(event.target.value))}\r\n              className=\"mt-2 h-11 rounded-xl border-emerald-200 bg-white/90 focus:border-emerald-400 focus:ring-emerald-400\"\r\n            />\r\n          </div>\r\n          <div className=\"sm:col-span-1\">\r\n            <label className=\"text-xs font-medium text-emerald-600\">Status filter</label>\r\n            <select\r\n              value={statusFilter}\r\n              onChange={(event: React.ChangeEvent<HTMLSelectElement>) => setStatusFilter(event.target.value)}\r\n              className=\"mt-2 h-11 w-full rounded-xl border border-emerald-200 bg-white/90 px-3 text-sm text-emerald-800 focus:border-emerald-400 focus:outline-none\"\r\n            >\r\n              {statusOptions.map((option) => (\r\n                <option key={option.value} value={option.value}>\r\n                  {option.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div className=\"flex items-end justify-end sm:col-span-2 lg:col-span-1\">\r\n            <Button\r\n              type=\"submit\"\r\n              disabled={requesting}\r\n              className=\"h-11 w-full rounded-xl bg-emerald-600 text-sm font-semibold text-white shadow-lg transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:bg-emerald-200\"\r\n            >\r\n              {requesting ? \"Submitting...\" : \"Submit request\"}\r\n            </Button>\r\n          </div>\r\n          <div className=\"sm:col-span-2 lg:col-span-4 text-xs text-emerald-700/80\">\r\n            Finance reviews payout requests within two business days. You&apos;ll receive an email update once the status changes.\r\n          </div>\r\n        </form>\r\n      </SectionCard>\r\n\r\n      <SectionCard\r\n        title=\"Payout history\"\r\n        description={`Showing ${filteredRows.length} request${filteredRows.length === 1 ? \"\" : \"s\"}. Total loaded amount ${formatCurrency(totalRequested)}.`}\r\n      >\r\n        {loading ? (\r\n          <Skeleton className=\"h-56 rounded-2xl\" />\r\n        ) : error ? (\r\n          <div className=\"rounded-2xl border border-red-200 bg-red-50/80 p-6 text-sm text-red-600\">{error}</div>\r\n        ) : filteredRows.length === 0 ? (\r\n          <div className=\"rounded-2xl border border-dashed border-emerald-200 bg-emerald-50/60 p-8 text-center text-sm text-emerald-700/80\">\r\n            No payout requests yet. Submit a request above to get started.\r\n          </div>\r\n        ) : (\r\n          <div className=\"overflow-hidden rounded-2xl border border-emerald-100/70\">\r\n            <table className=\"min-w-full divide-y divide-emerald-100/70 text-sm text-emerald-900\">\r\n              <thead className=\"bg-emerald-50/70 text-xs uppercase tracking-wide text-emerald-600\">\r\n                <tr>\r\n                  <th className=\"px-4 py-3 text-left\">Request ID</th>\r\n                  <th className=\"px-4 py-3 text-left\">Month</th>\r\n                  <th className=\"px-4 py-3 text-left\">Percent</th>\r\n                  <th className=\"px-4 py-3 text-left\">Amount</th>\r\n                  <th className=\"px-4 py-3 text-left\">Status</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-emerald-50/80 bg-white\">\r\n                {filteredRows.map((row) => (\r\n                  <tr key={row.id} className=\"hover:bg-emerald-50/50\">\r\n                    <td className=\"px-4 py-3 font-medium text-emerald-900\">#{row.id}</td>\r\n                    <td className=\"px-4 py-3 text-emerald-700\">{row.month || \"—\"}</td>\r\n                    <td className=\"px-4 py-3 text-emerald-700\">{row.percent ?? \"—\"}</td>\r\n                    <td className=\"px-4 py-3 text-emerald-900\">{formatCurrency(row.amount)}</td>\r\n                    <td className=\"px-4 py-3\">\r\n                      <StatusBadge status={row.status} />\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </SectionCard>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction StatusBadge({ status }: { status: string }) {\r\n  const normalized = status?.toLowerCase();\r\n  const styles =\r\n    normalized === \"approved\"\r\n      ? \"bg-emerald-50 text-emerald-700\"\r\n      : normalized === \"paid\"\r\n      ? \"bg-blue-50 text-blue-600\"\r\n      : \"bg-amber-50 text-amber-700\";\r\n\r\n  return (\r\n    <span className={`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${styles}`}>\r\n      {status || \"Pending\"}\r\n    </span>\r\n  );\r\n}\r\n\r\nfunction formatCurrency(amount: number) {\r\n  return new Intl.NumberFormat(\"en-US\", { style: \"currency\", currency: \"USD\" }).format(amount || 0);\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}