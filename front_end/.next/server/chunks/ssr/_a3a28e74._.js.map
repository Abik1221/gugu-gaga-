{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/input.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\n\r\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className = \"\", ...props }, ref) => {\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        className={\r\n          \"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 \" +\r\n          className\r\n        }\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nInput.displayName = \"Input\";\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAKO,MAAM,sBAAQ,mNAAgB,CACnC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAC7B,qBACE,8OAAC;QACC,KAAK;QACL,WACE,uHACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/skeleton.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\nexport function Skeleton({ className = \"\" }: { className?: string }) {\r\n  return <div className={`animate-pulse bg-gray-200 rounded ${className}`} />;\r\n}\r\n\r\nexport function TableSkeletonRows({ rows = 6, cols = 6 }: { rows?: number; cols?: number }) {\r\n  return (\r\n    <tbody>\r\n      {Array.from({ length: rows }).map((_, r) => (\r\n        <tr key={r} className=\"border-t\">\r\n          {Array.from({ length: cols }).map((__, c) => (\r\n            <td key={c} className=\"px-3 py-2\">\r\n              <Skeleton className=\"h-4 w-full\" />\r\n            </td>\r\n          ))}\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;;AAGO,SAAS,SAAS,EAAE,YAAY,EAAE,EAA0B;IACjE,qBAAO,8OAAC;QAAI,WAAW,CAAC,kCAAkC,EAAE,WAAW;;;;;;AACzE;AAEO,SAAS,kBAAkB,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,EAAoC;IACxF,qBACE,8OAAC;kBACE,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAK,GAAG,GAAG,CAAC,CAAC,GAAG,kBACpC,8OAAC;gBAAW,WAAU;0BACnB,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAK,GAAG,GAAG,CAAC,CAAC,IAAI,kBACrC,8OAAC;wBAAW,WAAU;kCACpB,cAAA,8OAAC;4BAAS,WAAU;;;;;;uBADb;;;;;eAFJ;;;;;;;;;;AAUjB","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/app/%28dashboard%29/dashboard/owner/chat/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { useToast } from \"@/components/ui/toast\";\r\nimport { AuthAPI, ChatAPI, PharmaciesAPI } from \"@/utils/api\";\r\n\r\nexport default function ChatThreadsPage() {\r\n  const { show } = useToast();\r\n  const [loading, setLoading] = useState(true);\r\n  const [tenantId, setTenantId] = useState<string | null>(null);\r\n  const [pharmacies, setPharmacies] = useState<any[]>([]);\r\n  const [threads, setThreads] = useState<Array<{id:number; title:string}>>([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  async function refresh(tid: string) {\r\n    setLoading(true);\r\n    try {\r\n      const rows = await ChatAPI.listThreads(tid);\r\n      setThreads(rows || []);\r\n      setError(null);\r\n    } catch (e:any) {\r\n      setError(e.message || \"Failed to load threads\");\r\n      show({ variant: \"destructive\", title: \"Error\", description: e.message || \"Failed\" });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async ()=>{\r\n      try {\r\n        const me = await AuthAPI.me();\r\n        const ph = await PharmaciesAPI.list(1, 100);\r\n        const items = ph?.items || [];\r\n        setPharmacies(items);\r\n        const defaultTid = me?.tenant_id || (items[0]?.tenant_id ?? null);\r\n        if (defaultTid) { setTenantId(defaultTid); await refresh(defaultTid); }\r\n        else { setError(\"No tenant context\"); setLoading(false); }\r\n      } catch (e:any) { setError(e.message || \"Failed\"); setLoading(false); }\r\n    })();\r\n  }, []);\r\n\r\n  async function createThread() {\r\n    if (!tenantId) return;\r\n    try {\r\n      const t = title.trim() || \"New chat\";\r\n      await ChatAPI.createThread(tenantId, t);\r\n      setTitle(\"\");\r\n      await refresh(tenantId);\r\n    } catch (e:any) { show({ variant: \"destructive\", title: \"Create failed\", description: e.message }); }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-xl font-semibold\">Chat Threads</h1>\r\n        <div className=\"flex gap-2 items-center\">\r\n          <select\r\n            className=\"border rounded px-2 py-1\"\r\n            value={tenantId ?? \"\"}\r\n            onChange={async (e)=>{ const tid = e.target.value || null; setTenantId(tid); if (tid) await refresh(tid); }}\r\n          >\r\n            {pharmacies.map((p:any)=>(<option key={p.tenant_id} value={p.tenant_id}>{p.name} ({p.tenant_id})</option>))}\r\n          </select>\r\n          <Input placeholder=\"Thread title\" value={title} onChange={(e)=>setTitle(e.target.value)} />\r\n          <Button onClick={createThread} disabled={!tenantId}>Create</Button>\r\n        </div>\r\n      </div>\r\n      {tenantId && (<div className=\"text-xs text-gray-600\">Tenant: <span className=\"font-mono\">{tenantId}</span></div>)}\r\n      {loading ? (<Skeleton className=\"h-64\" />) : error ? (<div className=\"text-sm text-red-600\">{error}</div>) : (\r\n        <div className=\"grid gap-2\">\r\n          {threads.map((t)=> (\r\n            <Link key={t.id} href={`/dashboard/owner/chat/${t.id}`} className=\"border rounded p-3 hover:bg-gray-50\">\r\n              <div className=\"font-medium\">{t.title}</div>\r\n              <div className=\"text-xs text-gray-500\">Thread #{t.id}</div>\r\n            </Link>\r\n          ))}\r\n          {threads.length === 0 && <div className=\"text-sm text-gray-500\">No threads yet.</div>}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}