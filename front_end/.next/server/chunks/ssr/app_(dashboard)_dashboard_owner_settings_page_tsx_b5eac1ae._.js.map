{"version":3,"sources":["turbopack:///[project]/app/(dashboard)/dashboard/owner/settings/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport Link from \"next/link\";\n\nimport {\n  AuthAPI,\n  StaffAPI,\n  TenantAPI,\n  type AuthProfile,\n  type SessionInfo,\n  type TenantActivityRecord,\n} from \"@/utils/api\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { useToast } from \"@/components/ui/toast\";\n\ntype EditableFields = Pick<AuthProfile, \"username\" | \"first_name\" | \"last_name\" | \"phone\">;\ntype ThemeOption = \"light\" | \"dark\" | \"system\";\n\ntype StaffMember = {\n  id: number;\n  email: string;\n  role?: string | null;\n  phone?: string | null;\n  is_active?: boolean | null;\n};\n\nconst editableKeys: Array<keyof EditableFields> = [\"username\", \"first_name\", \"last_name\", \"phone\"];\nconst THEME_STORAGE_KEY = \"dashboard_theme_preference\";\nconst PREF_STORAGE_KEY = \"dashboard_notification_prefs\";\n\nfunction toInputValue(value: string | null | undefined) {\n  return value ?? \"\";\n}\n\nfunction normalize(value: string | null | undefined) {\n  return (value ?? \"\").trim();\n}\n\nfunction sanitizePayloadValue(value: string) {\n  const trimmed = value.trim();\n  return trimmed === \"\" ? null : trimmed;\n}\n\nfunction ProfileField({ label, value }: { label: string; value: React.ReactNode }) {\n  return (\n    <div className=\"flex flex-col gap-1 rounded-lg border border-slate-200 bg-slate-50 p-3\">\n      <span className=\"text-xs font-medium text-slate-600\">{label}</span>\n      <span className=\"break-words text-sm font-semibold text-slate-900\">{value}</span>\n    </div>\n  );\n}\n\nexport default function OwnerSettingsPage() {\n  const { show } = useToast();\n  const [profile, setProfile] = useState<AuthProfile | null>(null);\n  const [form, setForm] = useState<Record<keyof EditableFields, string>>({\n    username: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    phone: \"\",\n  });\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const [staff, setStaff] = useState<StaffMember[]>([]);\n  const [staffLoading, setStaffLoading] = useState(true);\n  const [staffError, setStaffError] = useState<string | null>(null);\n\n  const [sessions, setSessions] = useState<SessionInfo[]>([]);\n  const [sessionsLoading, setSessionsLoading] = useState(true);\n  const [sessionsError, setSessionsError] = useState<string | null>(null);\n  const [revokingSessionId, setRevokingSessionId] = useState<number | null>(null);\n\n  const [activity, setActivity] = useState<TenantActivityRecord[]>([]);\n  const [activityLoading, setActivityLoading] = useState(true);\n  const [activityError, setActivityError] = useState<string | null>(null);\n\n  const [theme, setTheme] = useState<ThemeOption>(\"system\");\n  const [themeLoading, setThemeLoading] = useState(true);\n  const [notifications, setNotifications] = useState({\n    productUpdates: true,\n    inventoryAlerts: true,\n    securityEmails: true,\n  });\n  const [passwordCurrent, setPasswordCurrent] = useState(\"\");\n  const [passwordNew, setPasswordNew] = useState(\"\");\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n  const [passwordError, setPasswordError] = useState<string | null>(null);\n  const [changingPassword, setChangingPassword] = useState(false);\n  const [showSessionDetails, setShowSessionDetails] = useState(false);\n  const [showActivityDetails, setShowActivityDetails] = useState(false);\n\n  useEffect(() => {\n    let active = true;\n    async function loadProfile() {\n      setLoading(true);\n      try {\n        const me = await AuthAPI.me();\n        if (!active) return;\n        setProfile(me);\n        setForm({\n          username: toInputValue(me.username),\n          first_name: toInputValue(me.first_name),\n          last_name: toInputValue(me.last_name),\n          phone: toInputValue(me.phone),\n        });\n        setError(null);\n      } catch (err: any) {\n        if (!active) return;\n        setError(err?.message || \"Unable to load profile\");\n      } finally {\n        if (active) setLoading(false);\n      }\n    }\n    loadProfile();\n    return () => {\n      active = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!profile?.tenant_id) {\n      setStaff([]);\n      setStaffLoading(false);\n      setSessions([]);\n      setSessionsLoading(false);\n      setActivity([]);\n      setActivityLoading(false);\n      return;\n    }\n    let active = true;\n    setStaffLoading(true);\n    setStaffError(null);\n    StaffAPI.list(profile.tenant_id)\n      .then((rows) => {\n        if (!active) return;\n        setStaff(Array.isArray(rows) ? rows : []);\n      })\n      .catch((err: any) => {\n        if (!active) return;\n        setStaffError(err?.message || \"Unable to load staff\");\n      })\n      .finally(() => {\n        if (active) setStaffLoading(false);\n      });\n\n    setSessionsLoading(true);\n    setSessionsError(null);\n    AuthAPI.sessions()\n      .then((items) => {\n        if (!active) return;\n        setSessions(items);\n      })\n      .catch((err: any) => {\n        if (!active) return;\n        setSessionsError(err?.message || \"Unable to load sessions\");\n      })\n      .finally(() => {\n        if (active) setSessionsLoading(false);\n      });\n\n    setActivityLoading(true);\n    setActivityError(null);\n    TenantAPI.activity({ limit: 25 })\n      .then((records) => {\n        if (!active) return;\n        setActivity(records);\n      })\n      .catch((err: any) => {\n        if (!active) return;\n        setActivityError(err?.message || \"Unable to load activity log\");\n      })\n      .finally(() => {\n        if (active) setActivityLoading(false);\n      });\n\n    return () => {\n      active = false;\n    };\n  }, [profile?.tenant_id]);\n\n  useEffect(() => {\n    const storedTheme = typeof window !== \"undefined\" ? (localStorage.getItem(THEME_STORAGE_KEY) as ThemeOption | null) : null;\n    const initialTheme: ThemeOption = storedTheme || \"system\";\n    setTheme(initialTheme);\n    applyTheme(initialTheme);\n    setThemeLoading(false);\n\n    if (typeof window !== \"undefined\") {\n      const storedPrefs = localStorage.getItem(PREF_STORAGE_KEY);\n      if (storedPrefs) {\n        try {\n          const parsed = JSON.parse(storedPrefs) as typeof notifications;\n          setNotifications((prev) => ({ ...prev, ...parsed }));\n        } catch {\n          // ignore invalid JSON\n        }\n      }\n    }\n  }, []);\n\n  useEffect(() => {\n    if (themeLoading) return;\n    applyTheme(theme);\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(THEME_STORAGE_KEY, theme);\n    }\n  }, [theme, themeLoading]);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const media = window.matchMedia(\"(prefers-color-scheme: dark)\");\n    const listener = () => {\n      if (theme === \"system\") {\n        applyTheme(\"system\");\n      }\n    };\n    media.addEventListener(\"change\", listener);\n    return () => media.removeEventListener(\"change\", listener);\n  }, [theme]);\n\n  const isDirty = useMemo(() => {\n    if (!profile) return false;\n    return editableKeys.some((key) => normalize(form[key]) !== normalize(profile[key] as string | null | undefined));\n  }, [form, profile]);\n\n  const summaryFields = useMemo(() => {\n    if (!profile) return [];\n    return [\n      { label: \"Email\", value: profile.email },\n\n      { label: \"Primary role\", value: profile.role ?? \"—\" },\n      { label: \"KYC status\", value: profile.kyc_status ?? \"—\" },\n      { label: \"Subscription\", value: profile.subscription_status ?? \"—\" },\n      { label: \"Next due date\", value: profile.subscription_next_due_date ?? \"—\" },\n      { label: \"Latest payment\", value: profile.latest_payment_status ?? \"—\" },\n    ];\n  }, [profile]);\n\n  const staffStats = useMemo(() => {\n    const activeCount = staff.filter((member) => member.is_active !== false).length;\n    const inactiveCount = staff.length - activeCount;\n    return {\n      total: staff.length,\n      active: activeCount,\n      inactive: inactiveCount,\n    };\n  }, [staff]);\n\n  const topStaff = useMemo(() => staff.slice(0, 5), [staff]);\n\n  const currentSession = useMemo(() => {\n    if (sessions.length === 0) return null;\n    return sessions.find((session) => session.is_current) ?? sessions[0];\n  }, [sessions]);\n\n  const latestActivity = useMemo(() => (activity.length > 0 ? activity[0] : null), [activity]);\n\n  const handleChange = (key: keyof EditableFields) => (event: React.ChangeEvent<HTMLInputElement>) => {\n    const value = event.target.value;\n    setForm((prev) => ({ ...prev, [key]: value }));\n  };\n\n  const resetForm = () => {\n    if (!profile) return;\n    setForm({\n      username: toInputValue(profile.username),\n      first_name: toInputValue(profile.first_name),\n      last_name: toInputValue(profile.last_name),\n      phone: toInputValue(profile.phone),\n    });\n  };\n\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    if (!profile) return;\n\n    const payload: Partial<Record<keyof EditableFields, string | null>> = {};\n    editableKeys.forEach((key) => {\n      const next = normalize(form[key]);\n      const current = normalize(profile[key] as string | null | undefined);\n      if (next !== current) {\n        payload[key] = sanitizePayloadValue(form[key]);\n      }\n    });\n\n    if (Object.keys(payload).length === 0) {\n      show({ title: \"No changes to save\", description: \"Update the fields before saving.\" });\n      return;\n    }\n\n    setSaving(true);\n    try {\n      const updated = await AuthAPI.updateProfile(payload);\n      setProfile(updated);\n      setForm({\n        username: toInputValue(updated.username),\n        first_name: toInputValue(updated.first_name),\n        last_name: toInputValue(updated.last_name),\n        phone: toInputValue(updated.phone),\n      });\n      setError(null);\n      show({ variant: \"success\", title: \"Profile updated\", description: \"Your profile details were saved.\" });\n    } catch (err: any) {\n      show({ variant: \"destructive\", title: \"Update failed\", description: err?.message || \"Unable to update profile\" });\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleThemeChange = (next: ThemeOption) => {\n    setTheme(next);\n    show({ variant: \"success\", title: \"Appearance updated\", description: `Theme set to ${next}.` });\n  };\n\n  const handleNotificationToggle = (key: keyof typeof notifications) => {\n    setNotifications((prev) => {\n      const updated = { ...prev, [key]: !prev[key] };\n      if (typeof window !== \"undefined\") {\n        localStorage.setItem(PREF_STORAGE_KEY, JSON.stringify(updated));\n      }\n      return updated;\n    });\n  };\n\n  const refreshSessions = async () => {\n    if (!profile?.tenant_id) return;\n    setSessionsLoading(true);\n    setSessionsError(null);\n    try {\n      const items = await AuthAPI.sessions();\n      setSessions(items);\n    } catch (err: any) {\n      setSessionsError(err?.message || \"Unable to refresh sessions\");\n    } finally {\n      setSessionsLoading(false);\n    }\n  };\n\n  const handleRevokeSession = async (sessionId: number) => {\n    setRevokingSessionId(sessionId);\n    try {\n      await AuthAPI.revokeSession(sessionId);\n      await refreshSessions();\n      show({\n        variant: \"success\",\n        title: \"Session revoked\",\n        description: \"The device was disconnected successfully.\",\n      });\n    } catch (err: any) {\n      show({ variant: \"destructive\", title: \"Failed to revoke\", description: err?.message || \"Unable to revoke session\" });\n    } finally {\n      setRevokingSessionId(null);\n    }\n  };\n\n  const refreshActivity = async () => {\n    if (!profile?.tenant_id) return;\n    setActivityLoading(true);\n    setActivityError(null);\n    try {\n      const records = await TenantAPI.activity({ limit: 25 });\n      setActivity(records);\n    } catch (err: any) {\n      setActivityError(err?.message || \"Unable to load activity log\");\n    } finally {\n      setActivityLoading(false);\n    }\n  };\n\n  const handlePasswordChange = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    if (!profile) return;\n    if (!passwordCurrent || !passwordNew || !passwordConfirm) {\n      setPasswordError(\"Enter current password, new password, and confirmation.\");\n      return;\n    }\n    if (passwordNew !== passwordConfirm) {\n      setPasswordError(\"New password and confirmation do not match.\");\n      return;\n    }\n    setPasswordError(null);\n    setChangingPassword(true);\n    try {\n      await AuthAPI.changePassword({ current_password: passwordCurrent, new_password: passwordNew });\n      setPasswordCurrent(\"\");\n      setPasswordNew(\"\");\n      setPasswordConfirm(\"\");\n      show({ variant: \"success\", title: \"Password updated\", description: \"Other devices have been signed out.\" });\n      await refreshSessions();\n    } catch (err: any) {\n      setPasswordError(err?.message || \"Unable to change password\");\n    } finally {\n      setChangingPassword(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <div className=\"mx-auto max-w-7xl space-y-8\">\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm\">\n          <h1 className=\"text-3xl font-bold text-slate-900\">Owner Settings</h1>\n          <p className=\"mt-2 text-slate-600\">Control profile details, monitor your team, and keep subscription data in one place.</p>\n        </div>\n\n        {loading ? (\n          <Card className=\"rounded-2xl border border-slate-200 bg-white shadow-sm\">\n            <CardHeader>\n              <CardTitle className=\"text-slate-900\">Loading profile…</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <div className=\"grid gap-3 md:grid-cols-2\">\n                {Array.from({ length: 4 }).map((_, idx) => (\n                  <Skeleton key={`form-${idx}`} className=\"h-16 w-full rounded-xl bg-slate-100\" />\n                ))}\n              </div>\n              <div className=\"grid gap-3 md:grid-cols-2\">\n                {Array.from({ length: 4 }).map((_, idx) => (\n                  <Skeleton key={`summary-${idx}`} className=\"h-16 w-full rounded-xl bg-slate-100\" />\n                ))}\n              </div>\n            </CardContent>\n          </Card>\n        ) : error ? (\n          <Card className=\"rounded-2xl border border-red-200 bg-red-50 shadow-sm\">\n            <CardHeader>\n              <CardTitle className=\"text-red-800\">Unable to load profile</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-sm text-red-700\">{error}</div>\n            </CardContent>\n          </Card>\n        ) : !profile ? (\n          <Card className=\"rounded-2xl border border-slate-200 bg-white shadow-sm\">\n            <CardHeader>\n              <CardTitle className=\"text-slate-900\">No profile data</CardTitle>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-sm text-slate-600\">We could not retrieve your owner profile. Please refresh or contact support.</div>\n            </CardContent>\n          </Card>\n        ) : (\n          <div className=\"grid gap-6 xl:grid-cols-2\">\n            <Card className=\"rounded-2xl border border-slate-200 bg-white shadow-sm\">\n              <CardHeader>\n                <CardTitle className=\"text-slate-900\">Edit Owner Profile</CardTitle>\n              </CardHeader>\n              <CardContent>\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\n                  <p className=\"text-sm text-slate-600\">\n                    Update how your name and contact information appear across every pharmacy tool. Leave a field blank to clear it.\n                  </p>\n                  <div className=\"grid gap-4 md:grid-cols-2\">\n                    <div className=\"space-y-2\">\n                      <label className=\"text-sm font-medium text-slate-700\">Username</label>\n                      <Input \n                        value={form.username} \n                        onChange={handleChange(\"username\")} \n                        placeholder=\"Preferred username\" \n                        maxLength={64} \n                        className=\"rounded-lg border-slate-300 bg-white text-slate-900 placeholder:text-slate-400 focus:border-emerald-500 focus:ring-emerald-500\" \n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <label className=\"text-sm font-medium text-slate-700\">First Name</label>\n                      <Input \n                        value={form.first_name} \n                        onChange={handleChange(\"first_name\")} \n                        placeholder=\"e.g. Alex\" \n                        maxLength={120} \n                        className=\"rounded-lg border-slate-300 bg-white text-slate-900 placeholder:text-slate-400 focus:border-emerald-500 focus:ring-emerald-500\" \n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <label className=\"text-sm font-medium text-slate-700\">Last Name</label>\n                      <Input \n                        value={form.last_name} \n                        onChange={handleChange(\"last_name\")} \n                        placeholder=\"e.g. Bekele\" \n                        maxLength={120} \n                        className=\"rounded-lg border-slate-300 bg-white text-slate-900 placeholder:text-slate-400 focus:border-emerald-500 focus:ring-emerald-500\" \n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <label className=\"text-sm font-medium text-slate-700\">Phone</label>\n                      <Input \n                        value={form.phone} \n                        onChange={handleChange(\"phone\")} \n                        placeholder=\"e.g. +2519…\" \n                        maxLength={32} \n                        className=\"rounded-lg border-slate-300 bg-white text-slate-900 placeholder:text-slate-400 focus:border-emerald-500 focus:ring-emerald-500\" \n                      />\n                    </div>\n                  </div>\n                  <div className=\"flex flex-wrap items-center justify-end gap-3\">\n                    <Button \n                      type=\"button\" \n                      variant=\"outline\" \n                      onClick={resetForm} \n                      disabled={!isDirty || saving} \n                      className=\"rounded-lg border-slate-300 bg-white text-slate-700 hover:bg-slate-50\"\n                    >\n                      Reset\n                    </Button>\n                    <Button \n                      type=\"submit\" \n                      disabled={!isDirty || saving} \n                      className=\"rounded-lg bg-emerald-600 text-white hover:bg-emerald-700\"\n                    >\n                      {saving ? \"Saving...\" : \"Save Changes\"}\n                    </Button>\n                  </div>\n                </form>\n              </CardContent>\n            </Card>\n\n            <Card className=\"rounded-2xl border border-slate-200 bg-white shadow-sm\">\n              <CardHeader>\n                <CardTitle className=\"text-slate-900\">Tenant & Subscription Overview</CardTitle>\n              </CardHeader>\n              <CardContent className=\"grid gap-3\">\n                {summaryFields.map((item) => (\n                  <ProfileField key={item.label} label={item.label} value={item.value} />\n                ))}\n                <Link\n                  href=\"/dashboard/owner/payment\"\n                  className=\"inline-flex items-center justify-center rounded-lg border border-emerald-200 bg-emerald-50 px-4 py-2 text-sm font-semibold text-emerald-700 transition hover:bg-emerald-100\"\n                >\n                  Review Subscription & Payments\n                </Link>\n              </CardContent>\n            </Card>\n          </div>\n        )}\n\n        <Card className=\"rounded-2xl border border-slate-200 bg-white shadow-sm\">\n          <CardHeader>\n            <CardTitle className=\"text-slate-900\">Team Insights</CardTitle>\n          </CardHeader>\n          <CardContent className=\"space-y-6\">\n            {staffLoading ? (\n              <div className=\"grid gap-3 md:grid-cols-3\">\n                {Array.from({ length: 3 }).map((_, idx) => (\n                  <Skeleton key={`staff-${idx}`} className=\"h-20 w-full rounded-xl bg-slate-100\" />\n                ))}\n              </div>\n            ) : staffError ? (\n              <div className=\"rounded-xl border border-red-200 bg-red-50 p-3 text-sm text-red-700\">{staffError}</div>\n            ) : staff.length === 0 ? (\n              <div className=\"rounded-xl border border-dashed border-slate-300 bg-slate-50 p-4 text-sm text-slate-600\">\n                No staff members found for this tenant yet. Invite your first cashier or manager to get started.\n              </div>\n            ) : (\n              <>\n                <div className=\"grid gap-3 md:grid-cols-3\">\n                  <ProfileField label=\"Total staff\" value={staffStats.total} />\n                  <ProfileField label=\"Active\" value={staffStats.active} />\n                  <ProfileField label=\"Inactive\" value={staffStats.inactive} />\n                </div>\n                <div className=\"space-y-3\">\n                  <div className=\"text-sm font-semibold text-slate-700\">Recent Members</div>\n                  <div className=\"space-y-2\">\n                    {topStaff.map((member) => (\n                      <div\n                        key={member.id}\n                        className=\"flex flex-col gap-1 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-700 md:flex-row md:items-center md:justify-between\"\n                      >\n                        <div>\n                          <div className=\"font-semibold text-slate-900\">{member.email}</div>\n                          <div className=\"text-xs text-slate-500 capitalize\">{(member.role || \"staff\").toLowerCase()}</div>\n                        </div>\n                        <span\n                          className={`inline-flex h-6 items-center justify-center rounded-full px-3 text-xs font-medium ${\n                            member.is_active === false\n                              ? \"border border-red-200 bg-red-100 text-red-700\"\n                              : \"border border-green-200 bg-green-100 text-green-700\"\n                          }`}\n                        >\n                          {member.is_active === false ? \"Suspended\" : \"Active\"}\n                        </span>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              </>\n            )}\n            <div className=\"flex flex-wrap gap-3\">\n              <Link\n                href=\"/dashboard/owner/staff\"\n                className=\"inline-flex items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50\"\n              >\n                Manage Staff Access\n              </Link>\n              <Link\n                href=\"/dashboard/owner/staff/new\"\n                className=\"inline-flex items-center justify-center rounded-lg border border-emerald-200 bg-emerald-50 px-4 py-2 text-sm font-semibold text-emerald-700 transition hover:bg-emerald-100\"\n              >\n                Invite New Member\n              </Link>\n              <Link\n                href=\"/dashboard/inventory\"\n                className=\"inline-flex items-center justify-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-semibold text-slate-700 transition hover:bg-slate-50\"\n              >\n                Review Inventory Settings\n              </Link>\n            </div>\n          </CardContent>\n        </Card>\n\n        <div className=\"grid gap-6 xl:grid-cols-2\">\n          <Card className=\"rounded-2xl border border-slate-200 bg-white shadow-sm\">\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <CardTitle className=\"text-slate-900\">Appearance</CardTitle>\n                <Button \n                  variant=\"ghost\" \n                  size=\"sm\" \n                  className=\"rounded-lg text-slate-600 hover:bg-slate-100\" \n                  onClick={() => handleThemeChange(\"system\")}\n                >\n                  Reset\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <p className=\"text-sm text-slate-600\">Choose how the dashboard looks across the app.</p>\n              <div className=\"grid gap-3 sm:grid-cols-3\">\n                {[\n                  { value: \"light\", label: \"Light\" },\n                  { value: \"dark\", label: \"Dark\" },\n                  { value: \"system\", label: \"System\" },\n                ].map((option) => {\n                  const active = theme === option.value;\n                  return (\n                    <button\n                      key={option.value}\n                      type=\"button\"\n                      onClick={() => handleThemeChange(option.value as ThemeOption)}\n                      className={`rounded-lg border px-4 py-2 text-sm font-semibold transition ${\n                        active\n                          ? \"border-emerald-300 bg-emerald-100 text-emerald-800\"\n                          : \"border-slate-300 bg-white text-slate-700 hover:bg-slate-50\"\n                      }`}\n                    >\n                      {option.label}\n                    </button>\n                  );\n                })}\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"rounded-2xl border border-slate-200 bg-white shadow-sm\">\n            <CardHeader>\n              <CardTitle className=\"text-slate-900\">Notifications</CardTitle>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <p className=\"text-sm text-slate-600\">Preferences are stored locally while backend delivery is in progress.</p>\n              <div className=\"space-y-3\">\n                <label className=\"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-3 py-2\">\n                  <span className=\"text-slate-700\">Product updates</span>\n                  <input \n                    type=\"checkbox\" \n                    className=\"h-4 w-4 accent-emerald-600\" \n                    checked={notifications.productUpdates} \n                    onChange={() => handleNotificationToggle(\"productUpdates\")} \n                  />\n                </label>\n                <label className=\"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-3 py-2\">\n                  <span className=\"text-slate-700\">Inventory alerts</span>\n                  <input \n                    type=\"checkbox\" \n                    className=\"h-4 w-4 accent-emerald-600\" \n                    checked={notifications.inventoryAlerts} \n                    onChange={() => handleNotificationToggle(\"inventoryAlerts\")} \n                  />\n                </label>\n                <label className=\"flex items-center justify-between rounded-lg border border-slate-200 bg-slate-50 px-3 py-2\">\n                  <span className=\"text-slate-700\">Security emails</span>\n                  <input \n                    type=\"checkbox\" \n                    className=\"h-4 w-4 accent-emerald-600\" \n                    checked={notifications.securityEmails} \n                    onChange={() => handleNotificationToggle(\"securityEmails\")} \n                  />\n                </label>\n              </div>\n            </CardContent>\n          </Card>\n        </div>\n\n        <div className=\"grid gap-6 xl:grid-cols-2\">\n          <Card className=\"rounded-2xl border border-slate-200 bg-white shadow-sm\">\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <CardTitle className=\"text-slate-900\">Account Security</CardTitle>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={refreshSessions}\n                  disabled={sessionsLoading}\n                  className=\"rounded-lg border-slate-300 bg-white text-slate-700 hover:bg-slate-50\"\n                >\n                  Refresh Sessions\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent className=\"space-y-6\">\n              <form onSubmit={handlePasswordChange} className=\"space-y-4\">\n                <p className=\"text-sm text-slate-600\">\n                  Change your password. All other active sessions will be signed out immediately.\n                </p>\n                <div className=\"grid gap-3 sm:grid-cols-3\">\n                  <Input\n                    type=\"password\"\n                    placeholder=\"Current password\"\n                    value={passwordCurrent}\n                    onChange={(e) => setPasswordCurrent(e.target.value)}\n                    required\n                    className=\"rounded-lg border-slate-300 bg-white text-slate-900 placeholder:text-slate-400 focus:border-emerald-500 focus:ring-emerald-500\"\n                  />\n                  <Input\n                    type=\"password\"\n                    placeholder=\"New password\"\n                    value={passwordNew}\n                    onChange={(e) => setPasswordNew(e.target.value)}\n                    required\n                    className=\"rounded-lg border-slate-300 bg-white text-slate-900 placeholder:text-slate-400 focus:border-emerald-500 focus:ring-emerald-500\"\n                  />\n                  <Input\n                    type=\"password\"\n                    placeholder=\"Confirm new password\"\n                    value={passwordConfirm}\n                    onChange={(e) => setPasswordConfirm(e.target.value)}\n                    required\n                    className=\"rounded-lg border-slate-300 bg-white text-slate-900 placeholder:text-slate-400 focus:border-emerald-500 focus:ring-emerald-500\"\n                  />\n                </div>\n                {passwordError ? <div className=\"text-sm text-red-600\">{passwordError}</div> : null}\n                <div className=\"flex justify-end\">\n                  <Button\n                    type=\"submit\"\n                    disabled={changingPassword}\n                    className=\"rounded-lg bg-emerald-600 text-white hover:bg-emerald-700\"\n                  >\n                    {changingPassword ? \"Updating…\" : \"Change Password\"}\n                  </Button>\n                </div>\n              </form>\n              \n              <div className=\"space-y-4\">\n                {sessionsLoading ? (\n                  <div className=\"space-y-2\">\n                    {Array.from({ length: 2 }).map((_, idx) => (\n                      <Skeleton key={`session-${idx}`} className=\"h-16 w-full rounded-xl bg-slate-100\" />\n                    ))}\n                  </div>\n                ) : sessionsError ? (\n                  <div className=\"rounded-xl border border-red-200 bg-red-50 p-3 text-sm text-red-700\">{sessionsError}</div>\n                ) : sessions.length === 0 ? (\n                  <div className=\"rounded-xl border border-dashed border-slate-300 bg-slate-50 p-4 text-sm text-slate-600\">\n                    No active sessions found. Devices will appear here after logging in.\n                  </div>\n                ) : (\n                  <div className=\"rounded-xl border border-slate-200 bg-slate-50 p-4\">\n                    <div className=\"flex flex-wrap items-start justify-between gap-3\">\n                      <div>\n                        <p className=\"text-sm font-medium text-slate-600\">Active Session</p>\n                        <div className=\"mt-1 text-sm font-semibold text-slate-900\">\n                          {currentSession?.user_agent || \"Unknown device\"}\n                        </div>\n                        <div className=\"text-xs text-slate-500\">\n                          {currentSession?.ip_address ? `IP ${currentSession.ip_address}` : \"IP unknown\"}\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        {currentSession?.is_current && (\n                          <span className=\"rounded-full border border-green-200 bg-green-100 px-3 py-1 text-xs font-semibold text-green-700\">\n                            Current\n                          </span>\n                        )}\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          disabled={currentSession?.is_current || !currentSession || currentSession.is_revoked || revokingSessionId === currentSession.id}\n                          onClick={() => currentSession && handleRevokeSession(currentSession.id)}\n                          className=\"rounded-lg border-slate-300 bg-white text-slate-700 hover:bg-slate-50\"\n                        >\n                          {currentSession?.is_revoked\n                            ? \"Revoked\"\n                            : revokingSessionId === currentSession?.id\n                            ? \"Revoking…\"\n                            : \"Sign Out\"}\n                        </Button>\n                      </div>\n                    </div>\n                    {currentSession ? (\n                      <div className=\"mt-3 grid gap-2 text-xs text-slate-500 sm:grid-cols-3\">\n                        <span>Created: {new Date(currentSession.created_at).toLocaleString()}</span>\n                        <span>Last seen: {new Date(currentSession.last_seen_at).toLocaleString()}</span>\n                        <span>Expires: {new Date(currentSession.expires_at).toLocaleString()}</span>\n                      </div>\n                    ) : null}\n                    {sessions.length > 1 && (\n                      <div className=\"mt-4 flex items-center justify-between\">\n                        <span className=\"text-sm text-slate-600\">\n                          {sessions.length - 1} other session{sessions.length - 1 === 1 ? \"\" : \"s\"}\n                        </span>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"sm\"\n                          onClick={() => setShowSessionDetails((prev) => !prev)}\n                          className=\"rounded-lg text-slate-600 hover:bg-slate-100\"\n                        >\n                          {showSessionDetails ? \"Hide Details\" : \"View Details\"}\n                        </Button>\n                      </div>\n                    )}\n                    {showSessionDetails && (\n                      <div className=\"mt-4 space-y-3\">\n                        {sessions.map((session) => (\n                          <div\n                            key={session.id}\n                            className={`rounded-xl border px-3 py-3 text-sm ${\n                              session.is_current\n                                ? \"border-green-200 bg-green-50\"\n                                : \"border-slate-200 bg-white\"\n                            }`}\n                          >\n                            <div className=\"flex flex-wrap items-start justify-between gap-3\">\n                              <div>\n                                <div className=\"font-semibold text-slate-900\">{session.user_agent || \"Unknown device\"}</div>\n                                <div className=\"text-xs text-slate-500\">\n                                  {session.ip_address ? `IP ${session.ip_address}` : \"IP unknown\"}\n                                </div>\n                              </div>\n                              <div className=\"flex items-center gap-2\">\n                                {session.is_current && (\n                                  <span className=\"rounded-full border border-green-200 bg-green-100 px-2 py-0.5 text-xs font-semibold text-green-700\">\n                                    Current\n                                  </span>\n                                )}\n                                <Button\n                                  variant=\"ghost\"\n                                  size=\"sm\"\n                                  disabled={session.is_current || session.is_revoked || revokingSessionId === session.id}\n                                  onClick={() => handleRevokeSession(session.id)}\n                                  className=\"rounded-lg text-slate-600 hover:bg-slate-100\"\n                                >\n                                  {session.is_revoked ? \"Revoked\" : revokingSessionId === session.id ? \"Revoking…\" : \"Revoke\"}\n                                </Button>\n                              </div>\n                            </div>\n                            <div className=\"mt-2 grid gap-1 text-xs text-slate-500 sm:grid-cols-3\">\n                              <span>Created: {new Date(session.created_at).toLocaleString()}</span>\n                              <span>Last seen: {new Date(session.last_seen_at).toLocaleString()}</span>\n                              <span>Expires: {new Date(session.expires_at).toLocaleString()}</span>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            </CardContent>\n          </Card>\n\n          <Card className=\"rounded-2xl border border-slate-200 bg-white shadow-sm\">\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <CardTitle className=\"text-slate-900\">Activity Log</CardTitle>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  onClick={refreshActivity}\n                  disabled={activityLoading}\n                  className=\"rounded-lg border-slate-300 bg-white text-slate-700 hover:bg-slate-50\"\n                >\n                  Refresh\n                </Button>\n              </div>\n            </CardHeader>\n            <CardContent className=\"space-y-4\">\n              <p className=\"text-sm text-slate-600\">\n                Monitor recent sessions, staff updates, and tenant-level actions.\n              </p>\n              {activityLoading ? (\n                <div className=\"space-y-2\">\n                  {Array.from({ length: 4 }).map((_, idx) => (\n                    <Skeleton key={`activity-${idx}`} className=\"h-14 w-full rounded-xl bg-slate-100\" />\n                  ))}\n                </div>\n              ) : activityError ? (\n                <div className=\"rounded-xl border border-red-200 bg-red-50 p-3 text-sm text-red-700\">{activityError}</div>\n              ) : activity.length === 0 ? (\n                <div className=\"rounded-xl border border-dashed border-slate-300 bg-slate-50 p-4 text-sm text-slate-600\">\n                  No activity recorded yet. Actions such as staff changes or logins will appear here.\n                </div>\n              ) : (\n                <div className=\"rounded-xl border border-slate-200 bg-slate-50 p-4\">\n                  <div className=\"flex flex-wrap items-start justify-between gap-3\">\n                    <div>\n                      <p className=\"text-sm font-medium text-slate-600\">Latest Event</p>\n                      <div className=\"mt-1 text-sm font-semibold text-slate-900\">{latestActivity?.message}</div>\n                      <div className=\"text-xs text-slate-500\">\n                        {latestActivity?.action} • {latestActivity ? new Date(latestActivity.created_at).toLocaleString() : \"\"}\n                      </div>\n                    </div>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      onClick={() => setShowActivityDetails((prev) => !prev)}\n                      className=\"rounded-lg text-slate-600 hover:bg-slate-100\"\n                    >\n                      {showActivityDetails ? \"Hide Log\" : \"View Log\"}\n                    </Button>\n                  </div>\n                  {showActivityDetails && (\n                    <ul className=\"mt-4 space-y-3\">\n                      {activity.map((item) => (\n                        <li key={item.id} className=\"rounded-xl border border-slate-200 bg-white p-3 text-sm\">\n                          <div className=\"flex flex-wrap items-center justify-between gap-2\">\n                            <span className=\"text-xs font-semibold uppercase text-slate-600\">{item.action}</span>\n                            <span className=\"text-xs text-slate-500\">{new Date(item.created_at).toLocaleString()}</span>\n                          </div>\n                          <div className=\"mt-1 font-semibold text-slate-900\">{item.message}</div>\n                          <div className=\"mt-1 space-y-1 text-xs text-slate-500\">\n                            {item.target_type && (\n                              <div>\n                                Target: {item.target_type}\n                                {item.target_id ? ` • ${item.target_id}` : \"\"}\n                              </div>\n                            )}\n                            {item.actor_user_id ? <div>Actor ID: {item.actor_user_id}</div> : null}\n                            {item.metadata ? (\n                              <pre className=\"whitespace-pre-wrap rounded-lg border border-slate-200 bg-slate-50 p-2 text-xs text-slate-600\">\n                                {JSON.stringify(item.metadata, null, 2)}\n                              </pre>\n                            ) : null}\n                          </div>\n                        </li>\n                      ))}\n                    </ul>\n                  )}\n                </div>\n              )}\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction applyTheme(theme: ThemeOption) {\n  if (typeof document === \"undefined\") return;\n  const root = document.documentElement;\n  const prefersDark = window.matchMedia?.(\"(prefers-color-scheme: dark)\").matches ?? false;\n  const shouldUseDark = theme === \"dark\" || (theme === \"system\" && prefersDark);\n  root.classList.toggle(\"dark\", shouldUseDark);\n  root.dataset.theme = shouldUseDark ? \"dark\" : \"light\";\n}"],"names":[],"mappings":"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"}