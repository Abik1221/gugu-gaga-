{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/skeleton.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\nexport function Skeleton({ className = \"\" }: { className?: string }) {\r\n  return <div className={`animate-pulse bg-gray-200 rounded ${className}`} />;\r\n}\r\n\r\nexport function TableSkeletonRows({ rows = 6, cols = 6 }: { rows?: number; cols?: number }) {\r\n  return (\r\n    <tbody>\r\n      {Array.from({ length: rows }).map((_, r) => (\r\n        <tr key={r} className=\"border-t\">\r\n          {Array.from({ length: cols }).map((__, c) => (\r\n            <td key={c} className=\"px-3 py-2\">\r\n              <Skeleton className=\"h-4 w-full\" />\r\n            </td>\r\n          ))}\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;;AAGO,SAAS,SAAS,EAAE,YAAY,EAAE,EAA0B;IACjE,qBAAO,8OAAC;QAAI,WAAW,CAAC,kCAAkC,EAAE,WAAW;;;;;;AACzE;AAEO,SAAS,kBAAkB,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,EAAoC;IACxF,qBACE,8OAAC;kBACE,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAK,GAAG,GAAG,CAAC,CAAC,GAAG,kBACpC,8OAAC;gBAAW,WAAU;0BACnB,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAK,GAAG,GAAG,CAAC,CAAC,IAAI,kBACrC,8OAAC;wBAAW,WAAU;kCACpB,cAAA,8OAAC;4BAAS,WAAU;;;;;;uBADb;;;;;eAFJ;;;;;;;;;;AAUjB","debugId":null}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/input.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\n\r\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className = \"\", ...props }, ref) => {\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        className={\r\n          \"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 \" +\r\n          className\r\n        }\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nInput.displayName = \"Input\";\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAKO,MAAM,sBAAQ,mNAAgB,CACnC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAC7B,qBACE,8OAAC;QACC,KAAK;QACL,WACE,uHACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/app/%28dashboard%29/dashboard/pos/page.tsx"],"sourcesContent":["// POS page\r\n\"use client\";\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { API_BASE, getAccessToken, getAuthJSON, postAuthJSON } from \"@/utils/api\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useToast } from \"@/components/ui/toast\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ntype Item = {\r\n  id: string;\r\n  name: string;\r\n  sku: string;\r\n  sale_price: number;\r\n  stock_qty: number;\r\n};\r\n\r\ntype CartLine = {\r\n  id: string;\r\n  name: string;\r\n  price: number;\r\n  qty: number;\r\n};\r\n\r\nexport default function POSPage() {\r\n  const router = useRouter();\r\n  const { show } = useToast();\r\n  const [items, setItems] = useState<Item[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [query, setQuery] = useState(\"\");\r\n  const [cart, setCart] = useState<CartLine[]>([]);\r\n  const [sessionId, setSessionId] = useState<string | null>(null);\r\n  const [lastTxn, setLastTxn] = useState<any | null>(null);\r\n  const [isCheckingOut, setIsCheckingOut] = useState(false);\r\n  const [branchId, setBranchId] = useState<string>(\"\");\r\n  const [branches, setBranches] = useState<{ id: string; name: string }[]>([]);\r\n\r\n  function extractReceiptId(tx: any): string | null {\r\n    if (!tx) return null;\r\n    if (tx.receipt_id) return String(tx.receipt_id);\r\n    if (tx.receipt && tx.receipt.id) return String(tx.receipt.id);\r\n    if (Array.isArray(tx.receipts) && tx.receipts.length > 0) {\r\n      const r = tx.receipts[0];\r\n      if (r && r.id) return String(r.id);\r\n    }\r\n\r\n  function authHeaders(): HeadersInit {\r\n    const t = getAccessToken();\r\n    return t ? { Authorization: `Bearer ${t}`, \"Content-Type\": \"application/json\" } : { \"Content-Type\": \"application/json\" };\r\n  }\r\n\r\n  function mapCartResponseToLocal(resp: any): CartLine[] {\r\n    const lines = Array.isArray(resp?.items) ? resp.items : [];\r\n    return lines.map((ln: any) => ({\r\n      id: String(ln.item_id),\r\n      name: String(ln.name || \"\"),\r\n      price: Number(ln.unit_price || 0),\r\n      qty: Number(ln.quantity || 0),\r\n    }));\r\n  }\r\n\r\n  async function serverGetCart(sid: string) {\r\n    const res = await fetch(`${API_BASE}/pos/sessions/${sid}/cart`, { headers: authHeaders() });\r\n    if (!res.ok) return;\r\n    const data = await res.json();\r\n    setCart(mapCartResponseToLocal(data));\r\n  }\r\n\r\n  async function serverAddToCart(sid: string, itemId: string, quantity: number) {\r\n    const res = await fetch(`${API_BASE}/pos/sessions/${sid}/cart`, {\r\n      method: \"POST\",\r\n      headers: authHeaders(),\r\n      body: JSON.stringify({ item_id: itemId, quantity }),\r\n    });\r\n    if (!res.ok) {\r\n      const msg = await res.text().catch(() => \"\");\r\n      show({ variant: \"destructive\", title: \"Cart update failed\", description: msg });\r\n      return;\r\n    }\r\n    const data = await res.json();\r\n    setCart(mapCartResponseToLocal(data));\r\n  }\r\n\r\n  async function serverRemoveFromCart(sid: string, itemId: string) {\r\n    const res = await fetch(`${API_BASE}/pos/sessions/${sid}/cart/${encodeURIComponent(itemId)}`, {\r\n      method: \"DELETE\",\r\n      headers: authHeaders(),\r\n    });\r\n    if (!res.ok) return;\r\n    await serverGetCart(sid);\r\n  }\r\n\r\n  async function clearCart() {\r\n    if (cart.length === 0) return;\r\n    if (typeof window !== \"undefined\" && !window.confirm(\"Clear all items from cart?\")) return;\r\n    try {\r\n      if (sessionId) {\r\n        await postAuthJSON(`/pos/sessions/${sessionId}/clear`, {});\r\n      }\r\n    } catch (e) {\r\n      // non-fatal; still clear local cart\r\n    }\r\n    setCart([]);\r\n    show({ variant: \"success\", title: \"Cart cleared\" });\r\n  }\r\n\r\n  useEffect(() => {\r\n    let active = true;\r\n    async function load() {\r\n      try {\r\n        const data = await getAuthJSON<Item[]>(\"/inventory/items\");\r\n        if (!active) return;\r\n        setItems(data);\r\n      } catch (e: any) {\r\n        if (!active) return;\r\n        show({ variant: \"destructive\", title: \"Failed to load items\", description: e.message || \"\" });\r\n      } finally {\r\n        if (active) setLoading(false);\r\n      }\r\n    }\r\n    async function loadBranches() {\r\n      try {\r\n        const res = await fetch(`${API_BASE}/admin/branches`, { headers: { ...(getAccessToken()? { Authorization: `Bearer ${getAccessToken()}` } : {}) } });\r\n        if (!res.ok) return;\r\n        const b = await res.json();\r\n        if (!active) return;\r\n        if (Array.isArray(b)) setBranches(b);\r\n      } catch {}\r\n    }\r\n    // restore existing POS session id if present\r\n    try {\r\n      const sid = typeof window !== \"undefined\" ? localStorage.getItem(\"pos_session_id\") : null;\r\n      if (sid) setSessionId(sid);\r\n    } catch {}\r\n    load();\r\n    loadBranches();\r\n    // hydrate cart from server if we have a session id\r\n    (async () => {\r\n      const sid = typeof window !== \"undefined\" ? localStorage.getItem(\"pos_session_id\") : null;\r\n      if (sid) await serverGetCart(sid);\r\n    })();\r\n    return () => {\r\n      active = false;\r\n    };\r\n  }, [show]);\r\n\r\n  const filtered = useMemo(() => {\r\n    const q = query.trim().toLowerCase();\r\n    if (!q) return items;\r\n    return items.filter(\r\n      (it) => it.name.toLowerCase().includes(q) || it.sku.toLowerCase().includes(q)\r\n    );\r\n  }, [items, query]);\r\n\r\n  async function addToCart(item: Item) {\r\n    const sid = await ensureSession();\r\n    if (sid) {\r\n      await serverAddToCart(sid, item.id, 1);\r\n    } else {\r\n      // Fallback local if session cannot be created\r\n      setCart((prev) => {\r\n        const found = prev.find((l) => l.id === item.id);\r\n        if (found) return prev.map((l) => (l.id === item.id ? { ...l, qty: l.qty + 1 } : l));\r\n        return [...prev, { id: item.id, name: item.name, price: item.sale_price, qty: 1 }];\r\n      });\r\n    }\r\n  }\r\n\r\n  async function removeFromCart(id: string) {\r\n    if (sessionId) {\r\n      await serverRemoveFromCart(sessionId, id);\r\n    }\r\n    setCart((prev) => prev.filter((l) => l.id !== id));\r\n  }\r\n\r\n  async function updateQty(id: string, qty: number) {\r\n    if (qty <= 0) return removeFromCart(id);\r\n    const sid = await ensureSession();\r\n    if (sid) {\r\n      await serverAddToCart(sid, id, qty);\r\n    }\r\n    setCart((prev) => prev.map((l) => (l.id === id ? { ...l, qty } : l)));\r\n  }\r\n\r\n  const subtotal = useMemo(() => cart.reduce((s, l) => s + l.price * l.qty, 0), [cart]);\r\n  const tax = 0; // adjust when tax rules available\r\n  const total = subtotal + tax;\r\n\r\n  async function ensureSession(): Promise<string | null> {\r\n    if (sessionId) return sessionId;\r\n    try {\r\n      // Create session with cashier context\r\n      const me = await getAuthJSON<{ id: string }>(\"/auth/me\");\r\n      const payload: any = { cashier_id: me?.id };\r\n      if (branchId.trim()) payload.branch_id = branchId.trim();\r\n      const res = await postAuthJSON<{ id: string }>(\"/pos/sessions\", payload);\r\n      const id = (res as any)?.id;\r\n      if (id) {\r\n        setSessionId(id);\r\n        try {\r\n          if (typeof window !== \"undefined\") localStorage.setItem(\"pos_session_id\", id);\r\n        } catch {}\r\n        // Initialize fresh cart state from server\r\n        await serverGetCart(id);\r\n        return id;\r\n      }\r\n      return null;\r\n    } catch (e: any) {\r\n      show({ variant: \"destructive\", title: \"Session creation failed\", description: e.message || \"Provide POS session schema to finalize\" });\r\n      return null;\r\n    }\r\n  }\r\n\r\n  async function checkout() {\r\n    if (cart.length === 0) {\r\n      show({ variant: \"destructive\", title: \"Cart is empty\", description: \"Add items to proceed\" });\r\n      return;\r\n    }\r\n    if (isCheckingOut) return;\r\n    setIsCheckingOut(true);\r\n    const sid = await ensureSession();\r\n    if (!sid) {\r\n      setIsCheckingOut(false);\r\n      return;\r\n    }\r\n    const payload = {\r\n      items: cart.map((l) => ({ item_id: l.id, quantity: l.qty })),\r\n    };\r\n    try {\r\n      const tx = await postAuthJSON(`/pos/sessions/${sid}/checkout`, payload);\r\n      show({ variant: \"success\", title: \"Checkout completed\" });\r\n      setCart([]);\r\n      setLastTxn(tx);\r\n      const rid = extractReceiptId(tx);\r\n      if (rid) {\r\n        router.push(`/dashboard/receipts/${rid}`);\r\n      }\r\n    } catch (e: any) {\r\n      const msg = String(e?.message || \"\");\r\n      const variant = msg.includes(\"409\") ? \"destructive\" : \"destructive\";\r\n      show({ variant: variant as any, title: \"Checkout failed\", description: msg || \"Please try again\" });\r\n    }\r\n    setIsCheckingOut(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-12 gap-6\">\r\n      <section className=\"col-span-12 md:col-span-7\">\r\n        <div className=\"flex items-center justify-between mb-3\">\r\n          <h1 className=\"text-xl font-semibold\">Point of Sale</h1>\r\n          {loading ? (\r\n            <Skeleton className=\"h-9 w-64\" />\r\n          ) : (\r\n            <Input\r\n              value={query}\r\n              onChange={(e) => setQuery(e.target.value)}\r\n              placeholder=\"Search by name or SKU\"\r\n              className=\"w-64\"\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"border rounded bg-white overflow-hidden\">\r\n          {loading ? (\r\n            <div className=\"max-h-[520px] overflow-auto divide-y\">\r\n              {Array.from({ length: 8 }).map((_, i) => (\r\n                <div key={i} className=\"flex items-center justify-between p-3\">\r\n                  <div className=\"space-y-2\">\r\n                    <Skeleton className=\"h-4 w-48\" />\r\n                    <Skeleton className=\"h-3 w-32\" />\r\n                  </div>\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <Skeleton className=\"h-4 w-16\" />\r\n                    <Skeleton className=\"h-9 w-20\" />\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"max-h-[520px] overflow-auto divide-y\">\r\n              {filtered.map((it) => (\r\n                <div key={it.id} className=\"flex items-center justify-between p-3\">\r\n                  <div>\r\n                    <div className=\"font-medium\">{it.name}</div>\r\n                    <div className=\"text-xs text-gray-500\">SKU: {it.sku}</div>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <div className=\"text-sm text-gray-700\">${it.sale_price.toFixed(2)}</div>\r\n                    <Button variant=\"outline\" onClick={() => addToCart(it)}>\r\n                      Add\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              {filtered.length === 0 && (\r\n                <div className=\"p-6 text-gray-500\">No matching items.</div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </section>\r\n\r\n      <aside className=\"col-span-12 md:col-span-5\">\r\n        <div className=\"border rounded bg-white\">\r\n          <div className=\"border-b p-3 font-medium flex items-center justify-between\">\r\n            <span>Cart</span>\r\n            <button\r\n              className=\"text-xs border rounded px-2 py-1 hover:bg-gray-50\"\r\n              onClick={() => {\r\n                setSessionId(null);\r\n                try {\r\n                  if (typeof window !== \"undefined\") localStorage.removeItem(\"pos_session_id\");\r\n                } catch {}\r\n                show({ variant: \"success\", title: \"New session ready\" });\r\n              }}\r\n            >\r\n              New Session\r\n            </button>\r\n          </div>\r\n          <div className=\"p-3 border-b flex items-center gap-2\">\r\n            <div className=\"text-xs text-gray-600\">Branch</div>\r\n            <select\r\n              value={branchId}\r\n              onChange={(e)=>setBranchId(e.target.value)}\r\n              className=\"border rounded px-2 py-2 text-sm w-80\"\r\n            >\r\n              <option value=\"\">Select a branch</option>\r\n              {branches.map((b)=> (\r\n                <option key={b.id} value={b.id}>{b.name}</option>\r\n              ))}\r\n            </select>\r\n            <div className=\"text-xs text-gray-500\">Choose before creating a new session</div>\r\n          </div>\r\n          {loading ? (\r\n            <div className=\"divide-y max-h-[420px] overflow-auto\">\r\n              {Array.from({ length: 4 }).map((_, i) => (\r\n                <div key={i} className=\"p-3 flex items-center justify-between gap-3\">\r\n                  <div className=\"min-w-0 space-y-2\">\r\n                    <Skeleton className=\"h-4 w-40\" />\r\n                    <Skeleton className=\"h-3 w-24\" />\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Skeleton className=\"h-9 w-20\" />\r\n                    <Skeleton className=\"h-4 w-12\" />\r\n                    <Skeleton className=\"h-9 w-24\" />\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"divide-y max-h-[420px] overflow-auto\">\r\n                {cart.map((l) => (\r\n                  <div key={l.id} className=\"p-3 flex items-center justify-between gap-3\">\r\n                    <div className=\"min-w-0\">\r\n                      <div className=\"truncate\">{l.name}</div>\r\n                      <div className=\"text-xs text-gray-500\">${l.price.toFixed(2)} each</div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Input\r\n                        type=\"number\"\r\n                        min={1}\r\n                        value={l.qty}\r\n                        onChange={(e) => updateQty(l.id, Number(e.target.value))}\r\n                        className=\"w-20\"\r\n                      />\r\n                      <div className=\"w-20 text-right font-medium\">${(l.price * l.qty).toFixed(2)}</div>\r\n                      <Button variant=\"outline\" onClick={() => removeFromCart(l.id)}>\r\n                        Remove\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n                {cart.length === 0 && (\r\n                  <div className=\"p-6 text-gray-500\">No items in cart.</div>\r\n                )}\r\n              </div>\r\n              <div className=\"border-t p-3 space-y-1 text-sm\">\r\n                <div className=\"flex justify-between\"><span>Subtotal</span><span>${subtotal.toFixed(2)}</span></div>\r\n                <div className=\"flex justify-between text-gray-600\"><span>Tax</span><span>${tax.toFixed(2)}</span></div>\r\n                <div className=\"flex justify-between font-semibold\"><span>Total</span><span>${total.toFixed(2)}</span></div>\r\n                <div className=\"flex gap-2 mt-2\">\r\n                  <Button className=\"flex-1\" onClick={checkout} disabled={isCheckingOut}>\r\n                    {isCheckingOut ? \"Processing...\" : \"Checkout\"}\r\n                  </Button>\r\n                  <Button variant=\"outline\" className=\"w-36\" onClick={clearCart}>\r\n                    Clear Cart\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {lastTxn && (\r\n          <div className=\"border rounded bg-white mt-4\">\r\n            <details>\r\n              <summary className=\"cursor-pointer p-3 border-b font-medium\">Last Transaction</summary>\r\n              <div className=\"p-3 space-y-2\">\r\n                <pre className=\"text-xs overflow-auto max-h-64 bg-gray-50 p-2 rounded\">{JSON.stringify(lastTxn, null, 2)}</pre>\r\n                {extractReceiptId(lastTxn) && (\r\n                  <Button\r\n                    onClick={() => router.push(`/dashboard/receipts/${extractReceiptId(lastTxn)}`)}\r\n                  >\r\n                    View Receipt\r\n                  </Button>\r\n                )}\r\n                <Button variant=\"outline\" onClick={() => setLastTxn(null)}>Clear</Button>\r\n              </div>\r\n            </details>\r\n          </div>\r\n        )}\r\n      </aside>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}