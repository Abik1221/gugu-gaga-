module.exports=[5522,a=>{"use strict";a.s(["Input",()=>c]);var b=a.i(90944);let c=a.i(72131).forwardRef(({className:a="",...c},d)=>(0,b.jsx)("input",{ref:d,className:"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 "+a,...c}));c.displayName="Input"},50463,a=>{"use strict";a.s(["Skeleton",()=>c,"TableSkeletonRows",()=>d]);var b=a.i(90944);function c({className:a=""}){return(0,b.jsx)("div",{className:`animate-pulse bg-gray-200 rounded ${a}`})}function d({rows:a=6,cols:d=6}){return(0,b.jsx)("tbody",{children:Array.from({length:a}).map((a,e)=>(0,b.jsx)("tr",{className:"border-t",children:Array.from({length:d}).map((a,d)=>(0,b.jsx)("td",{className:"px-3 py-2",children:(0,b.jsx)(c,{className:"h-4 w-full"})},d))},e))})}},70188,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(90944),c=a.i(72131),d=a.i(75320),e=a.i(64037),f=a.i(50463),g=a.i(5522);function h(){let[a,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),{show:m}=(0,e.useToast)(),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)({name:"",sku:"",category:"",cost_price:"",sale_price:"",stock_qty:"",units:"pcs",barcode:"",lot_no:"",expiry_date:""}),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)("");if((0,c.useEffect)(()=>{let a=!0;return async function(){try{let b=await (0,d.getAuthJSON)("/api/v1/inventory/items"),c=Array.isArray(b?.items)?b.items:[];if(!a)return;h(c)}catch(b){if(!a)return;l(b.message||"Failed to load inventory"),h([])}finally{a&&j(!1)}}(),()=>{a=!1}},[]),i)return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"text-xl font-semibold",children:"Inventory Management"}),(0,b.jsx)("div",{className:"h-9 w-24 bg-gray-200 animate-pulse rounded"})]}),(0,b.jsx)("div",{className:"overflow-x-auto border rounded bg-white",children:(0,b.jsxs)("table",{className:"min-w-full text-sm",children:[(0,b.jsx)("thead",{className:"bg-gray-50 text-gray-600",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left px-3 py-2",children:"Name"}),(0,b.jsx)("th",{className:"text-left px-3 py-2",children:"SKU"}),(0,b.jsx)("th",{className:"text-left px-3 py-2",children:"Category"}),(0,b.jsx)("th",{className:"text-right px-3 py-2",children:"Stock"}),(0,b.jsx)("th",{className:"text-right px-3 py-2",children:"Sale Price"}),(0,b.jsx)("th",{className:"text-right px-3 py-2",children:"Cost"}),(0,b.jsx)("th",{className:"text-left px-3 py-2",children:"Expiry"})]})}),(0,b.jsx)(f.TableSkeletonRows,{rows:6,cols:7})]})})]});if(k)return(0,b.jsx)("div",{className:"rounded-3xl border border-red-400/30 bg-red-500/15 p-4 text-sm text-red-100 backdrop-blur",children:k});let z=a.filter(a=>{let b=p.trim().toLowerCase();return!b||a.name.toLowerCase().includes(b)||a.sku.toLowerCase().includes(b)||(a.category||"").toLowerCase().includes(b)});return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3 rounded-3xl border border-white/10 bg-white/10 p-4 shadow-[0_32px_120px_-60px_rgba(16,185,129,0.6)] backdrop-blur-xl",children:[(0,b.jsx)("h1",{className:"text-xl font-semibold text-white",children:"Inventory Management"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Input,{placeholder:"Search name/SKU/category",value:p,onChange:a=>q(a.target.value),className:"w-64 rounded-full border border-white/15 bg-white/10 text-sm text-white placeholder:text-emerald-100/60"}),(0,b.jsx)("button",{className:"rounded-full border border-white/15 bg-white/10 px-3 py-2 text-sm font-semibold text-emerald-100 transition hover:border-emerald-300/40 hover:bg-white/20",onClick:()=>o(a=>!a),children:n?"Close":"Add Item"})]})]}),n&&(0,b.jsxs)("div",{className:"rounded-3xl border border-white/10 bg-white/10 p-4 shadow-[0_32px_120px_-60px_rgba(59,130,246,0.55)] backdrop-blur",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-3",children:[(0,b.jsx)(g.Input,{placeholder:"Name",value:r.name,onChange:a=>s({...r,name:a.target.value}),className:"rounded-xl border-white/15 bg-white/10 text-white placeholder:text-emerald-100/60"}),(0,b.jsx)(g.Input,{placeholder:"SKU",value:r.sku,onChange:a=>s({...r,sku:a.target.value}),className:"rounded-xl border-white/15 bg-white/10 text-white placeholder:text-emerald-100/60"}),(0,b.jsx)(g.Input,{placeholder:"Category",value:r.category,onChange:a=>s({...r,category:a.target.value}),className:"rounded-xl border-white/15 bg-white/10 text-white placeholder:text-emerald-100/60"}),(0,b.jsx)(g.Input,{placeholder:"Cost Price",type:"number",min:"0",step:"0.01",value:r.cost_price,onChange:a=>s({...r,cost_price:a.target.value}),className:"rounded-xl border-white/15 bg-white/10 text-white placeholder:text-emerald-100/60"}),(0,b.jsx)(g.Input,{placeholder:"Sale Price",type:"number",min:"0",step:"0.01",value:r.sale_price,onChange:a=>s({...r,sale_price:a.target.value}),className:"rounded-xl border-white/15 bg-white/10 text-white placeholder:text-emerald-100/60"}),(0,b.jsx)(g.Input,{placeholder:"Stock Qty",type:"number",min:"0",step:"0.01",value:r.stock_qty,onChange:a=>s({...r,stock_qty:a.target.value}),className:"rounded-xl border-white/15 bg-white/10 text-white placeholder:text-emerald-100/60"}),(0,b.jsx)(g.Input,{placeholder:"Units (e.g. pcs)",value:r.units,onChange:a=>s({...r,units:a.target.value}),className:"rounded-xl border-white/15 bg-white/10 text-white placeholder:text-emerald-100/60"}),(0,b.jsx)(g.Input,{placeholder:"Barcode (optional)",value:r.barcode,onChange:a=>s({...r,barcode:a.target.value}),className:"rounded-xl border-white/15 bg-white/10 text-white placeholder:text-emerald-100/60"}),(0,b.jsx)(g.Input,{placeholder:"Lot No (optional)",value:r.lot_no,onChange:a=>s({...r,lot_no:a.target.value}),className:"rounded-xl border-white/15 bg-white/10 text-white placeholder:text-emerald-100/60"}),(0,b.jsx)(g.Input,{placeholder:"Expiry Date (YYYY-MM-DD optional)",value:r.expiry_date,onChange:a=>s({...r,expiry_date:a.target.value}),className:"rounded-xl border-white/15 bg-white/10 text-white placeholder:text-emerald-100/60"})]}),(0,b.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,b.jsx)("button",{className:"rounded-full border border-emerald-300/40 bg-emerald-500/20 px-3 py-2 text-sm font-semibold text-emerald-100 transition hover:bg-emerald-500/30",onClick:async()=>{try{let a={name:r.name.trim(),sku:r.sku.trim(),category:r.category.trim()||void 0,barcode:r.barcode.trim()||void 0,units:r.units.trim()||"pcs",lot_no:r.lot_no.trim()||void 0,expiry_date:r.expiry_date.trim()||void 0,cost_price:Number(r.cost_price),sale_price:Number(r.sale_price),stock_qty:Number(r.stock_qty)};if(!a.name||!a.sku||isNaN(a.cost_price)||isNaN(a.sale_price)||isNaN(a.stock_qty))return void m({variant:"destructive",title:"Invalid input",description:"Fill required fields correctly"});await (0,d.postAuthJSON)("/api/v1/inventory/items",a),m({variant:"success",title:"Item created"}),o(!1),s({name:"",sku:"",category:"",cost_price:"",sale_price:"",stock_qty:"",units:"pcs",barcode:"",lot_no:"",expiry_date:""}),j(!0);try{let a=await (0,d.getAuthJSON)("/api/v1/inventory/items");h(Array.isArray(a?.items)?a.items:[])}finally{j(!1)}}catch(a){m({variant:"destructive",title:"Create failed",description:a.message||""})}},children:"Save Item"}),(0,b.jsx)("button",{className:"rounded-full border border-white/15 bg-white/10 px-3 py-2 text-sm font-semibold text-emerald-100 transition hover:border-emerald-300/40 hover:bg-white/20",onClick:()=>o(!1),children:"Cancel"})]})]}),(0,b.jsx)("div",{className:"overflow-x-auto rounded-3xl border border-white/10 bg-white/10 shadow-[0_30px_110px_-60px_rgba(147,197,253,0.5)] backdrop-blur-xl",children:(0,b.jsxs)("table",{className:"min-w-full text-sm text-emerald-100/85",children:[(0,b.jsx)("thead",{className:"bg-white/5 text-emerald-100",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-[0.3em]",children:"Name"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-[0.3em]",children:"SKU"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-[0.3em]",children:"Category"}),(0,b.jsx)("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-[0.3em]",children:"Stock"}),(0,b.jsx)("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-[0.3em]",children:"Sale Price"}),(0,b.jsx)("th",{className:"px-3 py-2 text-right text-xs font-semibold uppercase tracking-[0.3em]",children:"Cost"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-[0.3em]",children:"Expiry"}),(0,b.jsx)("th",{className:"px-3 py-2 text-left text-xs font-semibold uppercase tracking-[0.3em]",children:"Actions"})]})}),(0,b.jsxs)("tbody",{children:[z.map(a=>(0,b.jsxs)("tr",{className:"border-t border-white/10 align-top",children:[(0,b.jsx)("td",{className:"px-3 py-2 font-semibold text-white",children:a.name}),(0,b.jsx)("td",{className:"px-3 py-2 text-emerald-100/70",children:a.sku}),(0,b.jsx)("td",{className:"px-3 py-2 text-emerald-100/70",children:a.category||"-"}),(0,b.jsx)("td",{className:"px-3 py-2 text-right text-emerald-100",children:a.stock_qty}),(0,b.jsx)("td",{className:"px-3 py-2 text-right text-emerald-100",children:a.sale_price.toFixed(2)}),(0,b.jsx)("td",{className:"px-3 py-2 text-right text-emerald-100",children:a.cost_price.toFixed(2)}),(0,b.jsx)("td",{className:"px-3 py-2 text-emerald-100/70",children:a.expiry_date||"-"}),(0,b.jsxs)("td",{className:"px-3 py-2",children:[(0,b.jsx)("button",{className:"rounded-full border border-emerald-300/40 bg-emerald-500/15 px-2 py-1 text-xs font-semibold text-emerald-100 transition hover:bg-emerald-500/25",onClick:()=>{u(a.id),w(""),y("")},children:"Adjust Stock"}),t===a.id&&(0,b.jsxs)("div",{className:"mt-2 space-y-2 rounded-2xl border border-white/15 bg-white/8 p-3 text-emerald-100/80",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Input,{type:"number",step:"0.01",className:"w-32 rounded-xl border-white/15 bg-white/10 text-white placeholder:text-emerald-100/60",placeholder:"Delta (+/-)",value:v,onChange:a=>w(a.target.value)}),(0,b.jsx)(g.Input,{placeholder:"Reason",value:x,onChange:a=>y(a.target.value),className:"rounded-xl border-white/15 bg-white/10 text-white placeholder:text-emerald-100/60"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("button",{className:"rounded-full border border-emerald-300/40 bg-emerald-500/25 px-3 py-1 text-xs font-semibold text-emerald-100 transition hover:bg-emerald-500/35",onClick:async()=>{let b=Number(v);if(!x.trim()||isNaN(b)||0===b)return void m({variant:"destructive",title:"Invalid adjustment",description:"Enter non-zero delta and reason"});try{await (0,d.postAuthJSON)(`/api/v1/inventory/items/${a.id}/adjust-stock`,{delta:b,reason:x.trim()}),m({variant:"success",title:"Stock adjusted"}),u(null),j(!0);try{let a=await (0,d.getAuthJSON)("/api/v1/inventory/items");h(Array.isArray(a?.items)?a.items:[])}finally{j(!1)}}catch(a){m({variant:"destructive",title:"Adjust failed",description:a.message||""})}},children:"Save"}),(0,b.jsx)("button",{className:"rounded-full border border-white/15 bg-white/10 px-3 py-1 text-xs font-semibold text-emerald-100 transition hover:border-emerald-300/40 hover:bg-white/20",onClick:()=>u(null),children:"Cancel"})]})]})]})]},a.id)),0===z.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{className:"px-3 py-6 text-center text-emerald-100/70",colSpan:7,children:"No items yet."})})]})]})})]})}}];

//# sourceMappingURL=_d279ff0d._.js.map