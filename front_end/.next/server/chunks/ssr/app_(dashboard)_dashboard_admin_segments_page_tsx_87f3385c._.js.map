{"version":3,"sources":["turbopack:///[project]/app/(dashboard)/dashboard/admin/segments/page.tsx","turbopack:///[project]/components/ui/alert.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { AdminAPI } from \"@/utils/api\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\nimport { useToast } from \"@/components/ui/toast\";\n\ntype PharmacySummaryItem = {\n  tenant_id: string;\n  name?: string | null;\n  status: string;\n  status_label: string;\n  branch_count: number;\n  user_count: number;\n  trial_ends_at?: string | null;\n  last_payment_verified_at?: string | null;\n  pending_payment_submitted_at?: string | null;\n};\n\ntype PharmacySummaryResponse = {\n  totals: {\n    total: number;\n    paid: number;\n    free_trial: number;\n    payment_pending: number;\n    blocked: number;\n    onboarding: number;\n    unpaid: number;\n  };\n  items: PharmacySummaryItem[];\n};\n\nconst SEGMENTS: {\n  key: PharmacySummaryItem[\"status\"];\n  title: string;\n  description: string;\n  tone?: \"default\" | \"warning\" | \"danger\" | \"info\";\n}[] = [\n  {\n    key: \"paid\",\n    title: \"Active (Paid)\",\n    description: \"Fully onboarded pharmacies with verified payments.\",\n  },\n  {\n    key: \"free_trial\",\n    title: \"Free Trial\",\n    description: \"Tenants still within their free-trial window.\",\n    tone: \"info\",\n  },\n  {\n    key: \"payment_pending\",\n    title: \"Payment Under Review\",\n    description: \"Submitted payment codes awaiting admin verification.\",\n    tone: \"warning\",\n  },\n  {\n    key: \"unpaid\",\n    title: \"Awaiting Payment\",\n    description: \"Approved KYC but no payment received yet.\",\n    tone: \"warning\",\n  },\n  {\n    key: \"blocked\",\n    title: \"Blocked\",\n    description: \"Access suspended due to missing or rejected payments.\",\n    tone: \"danger\",\n  },\n  {\n    key: \"onboarding\",\n    title: \"Onboarding\",\n    description: \"KYC still pending approval.\",\n    tone: \"info\",\n  },\n];\n\nfunction summarizeDate(label: string, iso?: string | null) {\n  if (!iso) return null;\n  const date = new Date(iso);\n  if (Number.isNaN(date.getTime())) return `${label}: ${iso}`;\n  return `${label}: ${date.toLocaleString(undefined, {\n    dateStyle: \"medium\",\n    timeStyle: \"short\",\n  })}`;\n}\n\nexport default function AdminSegmentsPage() {\n  const { show } = useToast();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [data, setData] = useState<PharmacySummaryResponse | null>(null);\n  const [activeTab, setActiveTab] =\n    useState<PharmacySummaryItem[\"status\"]>(\"paid\");\n\n  useEffect(() => {\n    let active = true;\n    async function load() {\n      setLoading(true);\n      try {\n        const response =\n          (await AdminAPI.pharmacySummary()) as PharmacySummaryResponse;\n        if (!active) return;\n        setData(response);\n        setError(null);\n      } catch (err: any) {\n        if (!active) return;\n        const message = err?.message || \"Failed to load pharmacy summary\";\n        setError(message);\n        show({ variant: \"destructive\", title: \"Error\", description: message });\n      } finally {\n        if (active) setLoading(false);\n      }\n    }\n    load();\n    return () => {\n      active = false;\n    };\n  }, [show]);\n\n  const grouped = useMemo(() => {\n    const map = new Map<string, PharmacySummaryItem[]>();\n    SEGMENTS.forEach((segment) => map.set(segment.key, []));\n    data?.items.forEach((item) => {\n      const segmentList = map.get(item.status) || [];\n      segmentList.push(item);\n      map.set(item.status, segmentList);\n    });\n    return map;\n  }, [data]);\n\n  if (loading) {\n    return (\n      <div className=\"space-y-4\">\n        <Skeleton className=\"h-8 w-56\" />\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          {Array.from({ length: 6 }).map((_, idx) => (\n            <Skeleton key={idx} className=\"h-32\" />\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <Alert variant=\"destructive\">\n        <AlertTitle>Error</AlertTitle>\n        <AlertDescription>{error}</AlertDescription>\n      </Alert>\n    );\n  }\n\n  if (!data) {\n    return (\n      <div className=\"text-sm text-muted-foreground\">No data available.</div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <div className=\"mx-auto max-w-7xl space-y-8\">\n        <div className=\"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm\">\n          <h1 className=\"text-3xl font-bold text-slate-900\">Pharmacy Segments</h1>\n          <p className=\"mt-2 text-slate-600\">\n            Track every tenant across onboarding, payment, and retention states.\n            Use these segments to drive outreach and support.\n          </p>\n        </div>\n\n        <div className=\"grid gap-4 md:grid-cols-2 xl:grid-cols-4\">\n          <SummaryCard label=\"Total Pharmacies\" value={data.totals.total} />\n          <SummaryCard\n            label=\"Active (Paid)\"\n            value={data.totals.paid}\n            tone=\"success\"\n          />\n          <SummaryCard\n            label=\"Free Trial\"\n            value={data.totals.free_trial}\n            tone=\"info\"\n          />\n          <SummaryCard\n            label=\"Payment Pending\"\n            value={data.totals.payment_pending}\n            tone=\"warning\"\n          />\n          <SummaryCard\n            label=\"Awaiting Payment\"\n            value={data.totals.unpaid}\n            tone=\"muted\"\n          />\n          <SummaryCard\n            label=\"Blocked\"\n            value={data.totals.blocked}\n            tone=\"danger\"\n          />\n          <SummaryCard\n            label=\"Onboarding\"\n            value={data.totals.onboarding}\n            tone=\"info\"\n          />\n        </div>\n\n        <div className=\"rounded-2xl border border-slate-200 bg-white shadow-sm\">\n          <Tabs\n            value={activeTab}\n            onValueChange={(val) =>\n              setActiveTab(val as PharmacySummaryItem[\"status\"])\n            }\n            className=\"p-6\"\n          >\n            <TabsList className=\"mb-8 flex flex-wrap gap-3 bg-transparent p-0 h-auto\">\n              {SEGMENTS.map((segment) => {\n                const count = grouped.get(segment.key)?.length || 0;\n                const isActive = activeTab === segment.key;\n                return (\n                  <TabsTrigger\n                    key={segment.key}\n                    value={segment.key}\n                    className={`inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all border-0 ${\n                      isActive \n                        ? \"bg-emerald-600 text-white data-[state=active]:bg-emerald-600 data-[state=active]:text-white\" \n                        : \"bg-slate-100 text-slate-700 hover:bg-slate-200\"\n                    }`}\n                  >\n                    {segment.title}\n                    <span className={`inline-flex items-center justify-center rounded-full px-2 py-0.5 text-xs font-medium ${\n                      isActive \n                        ? \"bg-emerald-500 text-white\" \n                        : \"bg-white text-slate-600\"\n                    }`}>\n                      {count}\n                    </span>\n                  </TabsTrigger>\n                );\n              })}\n            </TabsList>\n\n            {SEGMENTS.map((segment) => {\n              const list = grouped.get(segment.key) || [];\n              return (\n                <TabsContent\n                  key={segment.key}\n                  value={segment.key}\n                  className=\"space-y-6\"\n                >\n                  <SegmentHeader segment={segment} count={list.length} />\n                  {list.length === 0 ? (\n                    <div className=\"rounded-xl border border-slate-200 bg-slate-50 p-12 text-center\">\n                      <div className=\"text-slate-400 mb-4\">\n                        <svg className=\"mx-auto h-12 w-12\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\" />\n                        </svg>\n                      </div>\n                      <h3 className=\"text-lg font-medium text-slate-900 mb-1\">No pharmacies found</h3>\n                      <p className=\"text-slate-500\">No pharmacies found in this segment.</p>\n                    </div>\n                  ) : (\n                    <div className=\"grid gap-4 lg:grid-cols-2 xl:grid-cols-3\">\n                      {list.map((item) => (\n                        <SegmentCard key={item.tenant_id} item={item} />\n                      ))}\n                    </div>\n                  )}\n                </TabsContent>\n              );\n            })}\n          </Tabs>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SummaryCard({\n  label,\n  value,\n  tone = \"default\",\n}: {\n  label: string;\n  value: number;\n  tone?: \"default\" | \"success\" | \"warning\" | \"danger\" | \"info\" | \"muted\";\n}) {\n  const toneClasses: Record<typeof tone, string> = {\n    default: \"border-slate-200 bg-white\",\n    success: \"border-emerald-200 bg-emerald-50\",\n    warning: \"border-amber-200 bg-amber-50\",\n    danger: \"border-red-200 bg-red-50\",\n    info: \"border-blue-200 bg-blue-50\",\n    muted: \"border-slate-200 bg-slate-50\",\n  };\n  \n  const textClasses: Record<typeof tone, string> = {\n    default: \"text-slate-900\",\n    success: \"text-emerald-900\",\n    warning: \"text-amber-900\",\n    danger: \"text-red-900\",\n    info: \"text-blue-900\",\n    muted: \"text-slate-700\",\n  };\n  \n  return (\n    <Card className={`${toneClasses[tone]} shadow-sm`}>\n      <CardHeader className=\"pb-2\">\n        <CardTitle className=\"text-sm font-medium text-slate-600\">\n          {label}\n        </CardTitle>\n      </CardHeader>\n      <CardContent>\n        <div className={`text-3xl font-bold ${textClasses[tone]}`}>\n          {value.toLocaleString()}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction SegmentHeader({\n  segment,\n  count,\n}: {\n  segment: (typeof SEGMENTS)[number];\n  count: number;\n}) {\n  const badgeTone =\n    segment.tone === \"danger\"\n      ? \"bg-red-100 text-red-700 border-red-200\"\n      : segment.tone === \"warning\"\n      ? \"bg-amber-100 text-amber-700 border-amber-200\"\n      : segment.tone === \"info\"\n      ? \"bg-blue-100 text-blue-700 border-blue-200\"\n      : \"bg-slate-100 text-slate-700 border-slate-200\";\n\n  return (\n    <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between border-b border-slate-200 pb-4\">\n      <div>\n        <h2 className=\"text-xl font-semibold text-slate-900 flex items-center gap-3\">\n          {segment.title}\n          <span\n            className={`inline-flex items-center rounded-full border px-2.5 py-0.5 text-sm font-medium ${badgeTone}`}\n          >\n            {count}\n          </span>\n        </h2>\n        <p className=\"text-slate-600 mt-1\">\n          {segment.description}\n        </p>\n      </div>\n      <Button variant=\"outline\" size=\"sm\" className=\"rounded-lg border-slate-300 bg-white text-slate-700 hover:bg-slate-50\">\n        Export Segment\n      </Button>\n    </div>\n  );\n}\n\nfunction SegmentCard({ item }: { item: PharmacySummaryItem }) {\n  return (\n    <Card className=\"border-slate-200 bg-white shadow-sm hover:shadow-md transition-shadow\">\n      <CardHeader className=\"pb-3\">\n        <CardTitle className=\"text-lg font-semibold text-slate-900\">\n          {item.name || item.tenant_id}\n        </CardTitle>\n        <p className=\"text-sm text-slate-500 font-mono bg-slate-100 rounded px-2 py-1 inline-block\">\n          {item.tenant_id}\n        </p>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <div className=\"grid grid-cols-2 gap-4\">\n          <div className=\"text-center p-3 bg-slate-50 rounded-lg\">\n            <div className=\"text-2xl font-bold text-slate-900\">{item.branch_count}</div>\n            <div className=\"text-sm text-slate-600\">Branches</div>\n          </div>\n          <div className=\"text-center p-3 bg-slate-50 rounded-lg\">\n            <div className=\"text-2xl font-bold text-slate-900\">{item.user_count}</div>\n            <div className=\"text-sm text-slate-600\">Users</div>\n          </div>\n        </div>\n        \n        <div className=\"space-y-2 text-sm\">\n          {summarizeDate(\"Trial ends\", item.trial_ends_at) && (\n            <div className=\"text-slate-600\">{summarizeDate(\"Trial ends\", item.trial_ends_at)}</div>\n          )}\n          {summarizeDate(\"Last payment\", item.last_payment_verified_at) && (\n            <div className=\"text-emerald-700 bg-emerald-50 rounded px-2 py-1\">\n              {summarizeDate(\"Last payment\", item.last_payment_verified_at)}\n            </div>\n          )}\n          {summarizeDate(\n            \"Payment submitted\",\n            item.pending_payment_submitted_at\n          ) && (\n            <div className=\"text-amber-700 bg-amber-50 rounded px-2 py-1\">\n              {summarizeDate(\n                \"Payment submitted\",\n                item.pending_payment_submitted_at\n              )}\n            </div>\n          )}\n        </div>\n        \n        <div>\n          <Badge\n            variant=\"outline\"\n            className=\"bg-slate-100 text-slate-700 border-slate-300 font-medium\"\n          >\n            {item.status_label}\n          </Badge>\n        </div>\n        \n        <div className=\"flex gap-2\">\n          <Button size=\"sm\" className=\"flex-1 bg-emerald-600 text-white hover:bg-emerald-700\">\n            Open Details\n          </Button>\n          <Button size=\"sm\" variant=\"outline\" className=\"flex-1 border-slate-300 text-slate-700 hover:bg-slate-50\">\n            Message Owner\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-card text-card-foreground\",\n        destructive:\n          \"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        \"col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        \"text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n"],"names":[],"mappings":"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"}