{"version":3,"sources":["turbopack:///[project]/app/(dashboard)/dashboard/owner/staff/new/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState } from \"react\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { useToast } from \"@/components/ui/toast\";\nimport { StaffAPI } from \"@/utils/api\";\n\nexport default function CreateCashierPage() {\n  const { show } = useToast();\n  const [tenantId, setTenantId] = useState<string | null>(null);\n  React.useEffect(() => {\n    (async () => {\n      try {\n        // Use AuthAPI.me to get owner's tenant\n        const me = await import(\"@/utils/api\").then(m => m.AuthAPI.me());\n        setTenantId(me.tenant_id || \"\");\n      } catch {}\n    })();\n  }, []);\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [role, setRole] = useState(\"cashier\");\n  const [loading, setLoading] = useState(false);\n\n  async function onSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    if (!tenantId) { show({ variant: \"destructive\", title: \"Missing Tenant\", description: \"No tenant context. Please reload or contact admin.\" }); return; }\n    setLoading(true);\n    try {\n      await StaffAPI.createCashier(tenantId, { email, password, phone, role: \"cashier\" });\n      show({ variant: \"success\", title: \"Cashier created\", description: email });\n      setEmail(\"\"); setPassword(\"\"); setPhone(\"\");\n    } catch (e:any) {\n      show({ variant: \"destructive\", title: \"Failed\", description: e.message });\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"space-y-6 max-w-xl\">\n      <h1 className=\"text-xl font-semibold\">Create Cashier</h1>\n      <form onSubmit={onSubmit} className=\"space-y-4\">\n        <div>\n          <label className=\"text-sm text-gray-600\">Tenant ID</label>\n          <Input value={tenantId ?? \"\"} readOnly disabled />\n        </div>\n        <div>\n          <label className=\"text-sm\">Email</label>\n          <Input type=\"email\" value={email} onChange={(e)=>setEmail(e.target.value)} required />\n        </div>\n        <div>\n          <label className=\"text-sm\">Password</label>\n          <Input type=\"password\" value={password} onChange={(e)=>setPassword(e.target.value)} required />\n        </div>\n        <div>\n          <label className=\"text-sm\">Phone</label>\n          <Input value={phone} onChange={(e)=>setPhone(e.target.value)} />\n        </div>\n        <Button type=\"submit\" disabled={loading}>{loading ? \"Creating...\" : \"Create\"}</Button>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}