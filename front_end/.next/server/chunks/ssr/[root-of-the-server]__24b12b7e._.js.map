{"version":3,"sources":["turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","turbopack:///[project]/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","turbopack:///[project]/node_modules/next/navigation.js","turbopack:///[project]/app/(dashboard)/dashboard/receipts/[id]/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = require('./dist/client/components/navigation')\n","// Receipt view page\n\"use client\";\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"next/navigation\";\nimport { API_BASE, getAccessToken } from \"@/utils/api\";\n\nexport default function ReceiptPage() {\n  const params = useParams();\n  const id = (params?.id as string) || \"\";\n  const [html, setHtml] = useState<string>(\"\");\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    let active = true;\n    async function load() {\n      setLoading(true);\n      setError(null);\n      try {\n        const token = getAccessToken();\n        const res = await fetch(`${API_BASE}/api/v1/receipts/${encodeURIComponent(id)}/content`, {\n          headers: token ? { Authorization: `Bearer ${token}` } : {},\n        });\n        if (!res.ok) {\n          const text = await res.text().catch(() => \"\");\n          throw new Error(text || `Failed to load receipt (${res.status})`);\n        }\n        const content = await res.text();\n        if (!active) return;\n        setHtml(content);\n      } catch (e: any) {\n        if (!active) return;\n        setError(e.message || \"Failed to load receipt\");\n      } finally {\n        if (active) setLoading(false);\n      }\n    }\n    if (id) load();\n    return () => {\n      active = false;\n    };\n  }, [id]);\n\n  if (!id) return <div className=\"p-6 text-sm text-gray-600\">Missing receipt id</div>;\n  if (loading) return <div className=\"p-6 text-sm text-gray-600\">Loading receipt...</div>;\n  if (error) return <div className=\"p-6 text-sm text-red-600\">{error}</div>;\n\n  return (\n    <div className=\"p-4\">\n      <div className=\"max-w-3xl mx-auto bg-white border rounded\">\n        <div className=\"p-4\" dangerouslySetInnerHTML={{ __html: html }} />\n      </div>\n    </div>\n  );\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml"],"mappings":"+iBAAAA,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACC,gBAAgB,+BCFvCJ,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACE,kBAAkB,+BCFzCL,EAAOC,OAAO,CACZC,EAAQ,CAAA,CAAA,IAAA,GACRC,QAAQ,CAAC,QAAW,CAACG,kBAAkB,kBCFzC,EAAO,OAAO,CAAA,EAAA,CAAA,CAAA,uECEd,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAM,GAAQ,IAAiB,GAC/B,CAAC,EAAM,EAAQ,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAS,IACnC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GACjC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,YAgClD,CA9BA,CAAA,EAAA,AA8BI,EA9BJ,SAAA,AAAS,EAAC,KACR,IAAI,GAAS,EACb,eAAe,IACb,GAAW,GACX,EAAS,MACT,GAAI,CACF,IAAM,EAAQ,CAAA,EAAA,EAAA,cAAA,AAAc,IACtB,EAAM,MAAM,MAAM,CAAA,EAAG,EAAA,QAAQ,CAAC,iBAAiB,EAAE,mBAAmB,GAAI,QAAQ,CAAC,CAAE,CACvF,QAAS,EAAQ,CAAE,cAAe,CAAC,OAAO,EAAE,EAAA,CAAO,AAAC,EAAI,CAAC,CAC3D,GACA,GAAI,CAAC,EAAI,EAAE,CAAE,CACX,IAAM,EAAO,MAAM,EAAI,IAAI,GAAG,KAAK,CAAC,IAAM,GAC1C,OAAM,AAAI,MAAM,GAAQ,CAAC,wBAAwB,EAAE,EAAI,MAAM,CAAC,CAAC,CAAC,CAClE,CACA,IAAM,EAAU,MAAM,EAAI,IAAI,GAC9B,GAAI,CAAC,EAAQ,OACb,EAAQ,EACV,CAAE,MAAO,EAAQ,CACf,GAAI,CAAC,EAAQ,OACb,EAAS,EAAE,OAAO,EAAI,yBACxB,QAAU,CACJ,GAAQ,GAAW,EACzB,CACF,CAEA,OADI,GAAI,IACD,KACL,GAAS,CACX,CACF,EAAG,CAAC,EAAG,EAEF,GACD,CADK,CACW,CAAA,EAAA,EAAA,EAAP,CAAO,EAAC,MAAA,CAAI,UAAU,qCAA4B,uBAC3D,EAAc,CAAA,EAAA,EAAP,AAAO,GAAA,EAAC,MAAA,CAAI,UAAU,oCAA4B,IAG3D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,eACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qDACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,MAAM,wBAAyB,CAAE,OAAQ,CAAK,QAPnD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCAA4B,sBAW7D","ignoreList":[0,1,2,3]}