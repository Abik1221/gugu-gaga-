module.exports=[3130,a=>{"use strict";a.s(["Card",()=>e,"CardContent",()=>h,"CardFooter",()=>i,"CardHeader",()=>f,"CardTitle",()=>g]);var b=a.i(90944),c=a.i(72131),d=a.i(97895);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-2xl border border-white/20 bg-white/70 p-6 shadow-[0_20px_70px_-40px_rgba(16,185,129,0.65)] backdrop-blur-md",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("mb-3 flex items-center justify-between gap-4",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h4",{ref:e,className:(0,d.cn)("text-lg font-semibold leading-tight text-emerald-900",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("text-sm leading-relaxed text-slate-700",a),...c}));h.displayName="CardContent";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("mt-4 flex flex-wrap items-center justify-between gap-3",a),...c}));i.displayName="CardFooter"},54161,a=>{"use strict";a.s(["Badge",()=>f]);var b=a.i(90944),c=a.i(187),d=a.i(97895);let e=(0,c.cva)("inline-flex items-center border rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow",outline:"border-border bg-background text-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}},16201,a=>{"use strict";a.s(["CheckCircle",()=>b],16201);let b=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},41710,a=>{"use strict";a.s(["Clock",()=>b],41710);let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},65733,a=>{"use strict";a.s(["Dialog",()=>f,"DialogContent",()=>j,"DialogHeader",()=>k,"DialogTitle",()=>l,"DialogTrigger",()=>g]);var b=a.i(90944),c=a.i(97942),d=a.i(22262),e=a.i(97895);function f({...a}){return(0,b.jsx)(c.Root,{"data-slot":"dialog",...a})}function g({...a}){return(0,b.jsx)(c.Trigger,{"data-slot":"dialog-trigger",...a})}function h({...a}){return(0,b.jsx)(c.Portal,{"data-slot":"dialog-portal",...a})}function i({className:a,...d}){return(0,b.jsx)(c.Overlay,{"data-slot":"dialog-overlay",className:(0,e.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...d})}function j({className:a,children:f,showCloseButton:g=!0,...j}){return(0,b.jsxs)(h,{"data-slot":"dialog-portal",children:[(0,b.jsx)(i,{}),(0,b.jsxs)(c.Content,{"data-slot":"dialog-content",className:(0,e.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...j,children:[f,g&&(0,b.jsxs)(c.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,b.jsx)(d.XIcon,{}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function k({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"dialog-header",className:(0,e.cn)("flex flex-col gap-2 text-center sm:text-left",a),...c})}function l({className:a,...d}){return(0,b.jsx)(c.Title,{"data-slot":"dialog-title",className:(0,e.cn)("text-lg leading-none font-semibold",a),...d})}},10227,a=>{"use strict";a.s(["Truck",()=>b],10227);let b=(0,a.i(70106).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},33508,a=>{"use strict";a.s(["X",()=>b.default]);var b=a.i(62213)},11156,a=>{"use strict";a.s(["CreditCard",()=>b],11156);let b=(0,a.i(70106).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},34157,a=>{"use strict";a.s(["default",()=>b]);let b=(0,a.i(70106).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},33441,a=>{"use strict";a.s(["Check",()=>b.default]);var b=a.i(34157)},10645,a=>{"use strict";a.s(["default",()=>r],10645);var b=a.i(90944),c=a.i(72131),d=a.i(3130),e=a.i(54161),f=a.i(40695),g=a.i(38784),h=a.i(41710),i=a.i(16201),j=a.i(11156),k=a.i(10227),l=a.i(33508),m=a.i(33441),n=a.i(65733);function o({orderId:a,paymentCode:d,onVerify:g,onReject:h,children:i}){let[j,k]=(0,c.useState)(!1);return(0,b.jsxs)(n.Dialog,{open:j,onOpenChange:k,children:[(0,b.jsx)(n.DialogTrigger,{asChild:!0,children:i}),(0,b.jsxs)(n.DialogContent,{children:[(0,b.jsx)(n.DialogHeader,{children:(0,b.jsx)(n.DialogTitle,{children:"Verify Payment"})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Order ID"}),(0,b.jsx)("p",{className:"font-medium",children:a})]}),(0,b.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,b.jsx)("p",{className:"text-sm text-blue-600 mb-2",children:"Payment Code"}),(0,b.jsx)(e.Badge,{variant:"outline",className:"font-mono text-lg px-3 py-1",children:d})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Please verify this payment code with your payment records before proceeding."}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),(0,b.jsxs)(f.Button,{variant:"destructive",onClick:()=>{h(),k(!1)},className:"flex items-center gap-1",children:[(0,b.jsx)(l.X,{className:"h-4 w-4"}),"Reject Payment"]}),(0,b.jsxs)(f.Button,{onClick:()=>{g(),k(!1)},className:"flex items-center gap-1",children:[(0,b.jsx)(m.Check,{className:"h-4 w-4"}),"Verify Payment"]})]})]})]})]})}var p=a.i(75320),q=a.i(64037);function r(){let{show:a}=(0,q.useToast)(),[n,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!0);(0,c.useEffect)(()=>{u()},[]);let u=async()=>{try{t(!0);let a=await (0,p.getAuthJSON)("/api/v1/suppliers/orders");r(a||[])}catch(b){a({title:"Error",description:"Failed to load orders",variant:"destructive"})}finally{t(!1)}},v=async b=>{try{await (0,p.putAuthJSON)(`/api/v1/suppliers/orders/${b}/approve`,{}),a({title:"Success",description:"Order approved successfully",variant:"success"}),u()}catch(b){a({title:"Error",description:"Failed to approve order",variant:"destructive"})}},w=async b=>{try{await (0,p.putAuthJSON)(`/api/v1/suppliers/orders/${b}/reject`,{}),a({title:"Success",description:"Order rejected",variant:"success"}),u()}catch(b){a({title:"Error",description:"Failed to reject order",variant:"destructive"})}},x=async b=>{try{await (0,p.putAuthJSON)(`/api/v1/suppliers/orders/${b}/verify-payment`,{}),a({title:"Success",description:"Payment verified successfully",variant:"success"}),u()}catch(b){a({title:"Error",description:"Failed to verify payment",variant:"destructive"})}},y=async b=>{try{a({title:"Success",description:"Payment rejected",variant:"success"}),u()}catch(b){a({title:"Error",description:"Failed to reject payment",variant:"destructive"})}},z=async b=>{try{await (0,p.putAuthJSON)(`/api/v1/suppliers/orders/${b}/mark-delivered`,{}),a({title:"Success",description:"Order marked as delivered",variant:"success"}),u()}catch(b){a({title:"Error",description:"Failed to mark order as delivered",variant:"destructive"})}};return s?(0,b.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading orders..."})]})}):0===n.length?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Order Management"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Approve orders and manage deliveries"})]}),(0,b.jsx)(d.Card,{className:"text-center py-12",children:(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)(g.ShoppingCart,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No Orders Yet"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"You haven't received any orders yet. Orders will appear here when customers place them."})]})})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Order Management"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Approve orders and manage deliveries"})]}),(0,b.jsx)("div",{className:"grid gap-4",children:n.map(a=>{let c=(a=>{let b={pending:{label:"Pending Approval",variant:"secondary",icon:h.Clock},approved:{label:"Approved",variant:"default",icon:i.CheckCircle},payment_received:{label:"Payment Received",variant:"default",icon:j.CreditCard},delivered:{label:"Delivered",variant:"default",icon:k.Truck},cancelled:{label:"Cancelled",variant:"destructive",icon:l.X}};return b[a]||b.pending})(a.status),g=c.icon;return(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{className:"text-lg",children:a.order_number||a.id}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.customer?.email||a.customerName})]}),(0,b.jsxs)(e.Badge,{variant:c.variant,className:"flex items-center gap-1",children:[(0,b.jsx)(g,{className:"h-3 w-3"}),c.label]})]})}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Product"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:a.items?.[0]?.product?.name||a.productName})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Quantity"}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:[a.items?.[0]?.quantity||a.quantity," units"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Total Amount"}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["$",a.total_amount||a.totalAmount]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Order Date"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:new Date(a.created_at||a.orderDate).toLocaleDateString()})]})]}),a.payment_code&&(0,b.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,b.jsxs)("p",{className:"text-sm font-medium text-blue-800",children:["Payment Code: ",a.payment_code]})}),"pending"===a.status&&(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(f.Button,{size:"sm",onClick:()=>v(a.id),className:"flex items-center gap-1",children:[(0,b.jsx)(m.Check,{className:"h-4 w-4"}),"Approve Order"]}),(0,b.jsxs)(f.Button,{size:"sm",variant:"destructive",onClick:()=>w(a.id),className:"flex items-center gap-1",children:[(0,b.jsx)(l.X,{className:"h-4 w-4"}),"Reject"]})]}),"approved"===a.status&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"p-3 bg-green-50 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-green-800",children:a.payment_code?"Payment code received. Please verify to proceed.":"Order approved. Waiting for customer payment."})}),a.payment_code&&(0,b.jsx)(o,{orderId:a.id,paymentCode:a.payment_code,onVerify:()=>x(a.id),onReject:()=>y(a.id),children:(0,b.jsxs)(f.Button,{size:"sm",className:"flex items-center gap-1",children:[(0,b.jsx)(j.CreditCard,{className:"h-4 w-4"}),"Verify Payment"]})})]}),"payment_received"===a.status&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,b.jsx)("p",{className:"text-sm text-blue-800",children:"Payment received. Ready to ship."})}),(0,b.jsxs)(f.Button,{size:"sm",onClick:()=>z(a.id),className:"flex items-center gap-1",children:[(0,b.jsx)(k.Truck,{className:"h-4 w-4"}),"Mark as Delivered"]})]}),"delivered"===a.status&&(0,b.jsx)("div",{className:"p-3 bg-green-50 rounded-lg",children:(0,b.jsxs)("p",{className:"text-sm text-green-800",children:["Order delivered successfully on ",new Date(a.delivered_at||a.deliveryDate).toLocaleDateString()]})})]})]},a.id)})})]})}}];

//# sourceMappingURL=_05b5f7f6._.js.map