{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/input.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\n\r\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className = \"\", ...props }, ref) => {\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        className={\r\n          \"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 \" +\r\n          className\r\n        }\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nInput.displayName = \"Input\";\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAKO,MAAM,sBAAQ,mNAAgB,CACnC,CAAC,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO,EAAE;IAC7B,qBACE,8OAAC;QACC,KAAK;QACL,WACE,uHACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/skeleton.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\nexport function Skeleton({ className = \"\" }: { className?: string }) {\r\n  return <div className={`animate-pulse bg-gray-200 rounded ${className}`} />;\r\n}\r\n\r\nexport function TableSkeletonRows({ rows = 6, cols = 6 }: { rows?: number; cols?: number }) {\r\n  return (\r\n    <tbody>\r\n      {Array.from({ length: rows }).map((_, r) => (\r\n        <tr key={r} className=\"border-t\">\r\n          {Array.from({ length: cols }).map((__, c) => (\r\n            <td key={c} className=\"px-3 py-2\">\r\n              <Skeleton className=\"h-4 w-full\" />\r\n            </td>\r\n          ))}\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;;AAGO,SAAS,SAAS,EAAE,YAAY,EAAE,EAA0B;IACjE,qBAAO,8OAAC;QAAI,WAAW,CAAC,kCAAkC,EAAE,WAAW;;;;;;AACzE;AAEO,SAAS,kBAAkB,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,EAAoC;IACxF,qBACE,8OAAC;kBACE,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAK,GAAG,GAAG,CAAC,CAAC,GAAG,kBACpC,8OAAC;gBAAW,WAAU;0BACnB,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAK,GAAG,GAAG,CAAC,CAAC,IAAI,kBACrC,8OAAC;wBAAW,WAAU;kCACpB,cAAA,8OAAC;4BAAS,WAAU;;;;;;uBADb;;;;;eAFJ;;;;;;;;;;AAUjB","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/app/%28dashboard%29/dashboard/admin/payouts/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { useToast } from \"@/components/ui/toast\";\r\nimport { AdminAPI, AuthAPI } from \"@/utils/api\";\r\n\r\ntype Payout = {\r\n  id: number;\r\n  affiliate_user_id: number;\r\n  tenant_id?: string | null;\r\n  month?: string | null;\r\n  percent?: number | null;\r\n  amount: number;\r\n  status: string;\r\n};\r\n\r\nexport default function AdminPayoutsPage() {\r\n  const { show } = useToast();\r\n  const [meLoading, setMeLoading] = useState(true);\r\n  const [me, setMe] = useState<any>(null);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [rows, setRows] = useState<Payout[]>([]);\r\n  const [q, setQ] = useState(\"\");\r\n  const [status, setStatus] = useState<string>(\"\");\r\n\r\n  useEffect(() => {\r\n    let active = true;\r\n    (async function loadMe() {\r\n      try { const m = await AuthAPI.me(); if (active) setMe(m); } finally { if (active) setMeLoading(false); }\r\n    })();\r\n    return () => { active = false };\r\n  }, []);\r\n\r\n  async function loadPayouts() {\r\n    setLoading(true);\r\n    try {\r\n      const data = await AdminAPI.listAffiliatePayouts(status || undefined);\r\n      setRows(Array.isArray(data) ? data : []);\r\n    } catch (e:any) {\r\n      show({ variant: \"destructive\", title: \"Failed to load payouts\", description: e.message });\r\n    } finally { setLoading(false); }\r\n  }\r\n\r\n  useEffect(() => { loadPayouts(); }, [status]);\r\n\r\n  const filtered = useMemo(() => {\r\n    const query = q.trim().toLowerCase();\r\n    if (!query) return rows;\r\n    return rows.filter(r =>\r\n      String(r.id).toLowerCase().includes(query) ||\r\n      String(r.affiliate_user_id).toLowerCase().includes(query) ||\r\n      (r.tenant_id || \"\").toLowerCase().includes(query) ||\r\n      (r.month || \"\").toLowerCase().includes(query) ||\r\n      (r.status || \"\").toLowerCase().includes(query)\r\n    );\r\n  }, [rows, q]);\r\n\r\n  async function markPaid(id: number) {\r\n    try { await AdminAPI.markPayoutPaid(id); show({ variant: \"success\", title: \"Payout marked paid\" }); await loadPayouts(); }\r\n    catch(e:any){ show({ variant:\"destructive\", title:\"Mark paid failed\", description:e.message }); }\r\n  }\r\n\r\n  async function approve(id: number) {\r\n    try { await AdminAPI.approvePayout(id); show({ variant: \"success\", title: \"Payout approved\" }); await loadPayouts(); }\r\n    catch(e:any){ show({ variant:\"destructive\", title:\"Approve failed\", description:e.message }); }\r\n  }\r\n\r\n  if (meLoading || loading) {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        <Skeleton className=\"h-8 w-64\" />\r\n        <Skeleton className=\"h-10 w-full\" />\r\n        <div className=\"space-y-2\">{Array.from({ length: 8 }).map((_, i) => (<Skeleton key={i} className=\"h-14\" />))}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-xl font-semibold\">Payouts</h1>\r\n        <div className=\"flex items-center gap-2\">\r\n          <select className=\"border rounded px-2 py-1\" value={status} onChange={(e)=>setStatus(e.target.value)}>\r\n            <option value=\"\">All</option>\r\n            <option value=\"pending\">Pending</option>\r\n            <option value=\"approved\">Approved</option>\r\n            <option value=\"paid\">Paid</option>\r\n          </select>\r\n          <Input placeholder=\"Search id/affiliate/tenant/month/status\" value={q} onChange={(e)=>setQ(e.target.value)} className=\"w-64\" />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"border rounded bg-white divide-y\">\r\n        <div className=\"grid grid-cols-12 p-3 text-xs text-gray-600\">\r\n          <div className=\"col-span-3\">ID</div>\r\n          <div className=\"col-span-2\">Affiliate User</div>\r\n          <div className=\"col-span-2\">Amount</div>\r\n          <div className=\"col-span-1\">Percent</div>\r\n          <div className=\"col-span-2\">Month</div>\r\n          <div className=\"col-span-1\">Status</div>\r\n          <div className=\"col-span-2 text-right\">Actions</div>\r\n        </div>\r\n        {filtered.map((p)=> (\r\n          <div key={p.id} className=\"grid grid-cols-12 p-3 items-center\">\r\n            <div className=\"col-span-3 truncate text-xs text-gray-600\">{p.id}</div>\r\n            <div className=\"col-span-2 truncate text-xs text-gray-600\">{p.affiliate_user_id}</div>\r\n            <div className=\"col-span-2\">{p.amount?.toFixed?.(2) ?? p.amount}</div>\r\n            <div className=\"col-span-1\">{p.percent ?? \"-\"}</div>\r\n            <div className=\"col-span-2\">{p.month || \"-\"}</div>\r\n            <div className=\"col-span-1\">\r\n              <span className={`text-xs px-2 py-1 rounded ${p.status===\"pending\"?\"bg-amber-50 text-amber-700\":p.status===\"approved\"?\"bg-emerald-50 text-emerald-700\":\"bg-blue-50 text-blue-700\"}`}>{p.status}</span>\r\n            </div>\r\n            <div className=\"col-span-2 text-right flex justify-end gap-2\">\r\n              {p.status === \"pending\" && <Button variant=\"outline\" onClick={()=>approve(p.id)}>Approve</Button>}\r\n              {p.status !== \"paid\" && <Button onClick={()=>markPaid(p.id)}>Mark Paid</Button>}\r\n            </div>\r\n          </div>\r\n        ))}\r\n        {filtered.length === 0 && <div className=\"p-6 text-gray-500\">No payouts yet.</div>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}