module.exports=[66755,a=>{"use strict";a.s(["default",()=>y],66755);var b=a.i(90944),c=a.i(72131),d=a.i(3130),e=a.i(40695),f=a.i(5522),g=a.i(54161),h=a.i(50463),i=a.i(64037),j=a.i(65733),k=a.i(17171),l=a.i(46893),m=a.i(87682),n=a.i(87532),o=a.i(21374),p=a.i(24987),q=a.i(63519),r=a.i(92258),s=a.i(38784),t=a.i(83497),u=a.i(41710),v=a.i(70106);let w=(0,v.default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),x=(0,v.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.i(75320);function y(){let{show:a}=(0,i.useToast)(),[v,y]=(0,c.useState)([]),[z,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(!0),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)("all"),[H,I]=(0,c.useState)("all"),[J,K]=(0,c.useState)("all"),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)({}),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)(null),[T,U]=(0,c.useState)(1),[V,W]=(0,c.useState)({delivery_address:"",city:"",postal_code:"",phone:"",notes:"",delivery_date:"",payment_method:"bank_transfer"}),X=async()=>{C(!0);try{throw Error("No tenant ID found")}catch(b){a({variant:"destructive",title:"Failed to load suppliers",description:b?.message||"Unable to fetch suppliers data"})}finally{C(!1)}},Y=async()=>{if(R&&L)try{throw Error("No tenant ID found")}catch(b){a({variant:"destructive",title:"Failed to place order",description:b?.message||"Unable to place order"})}},Z=a=>{let b=z.filter(b=>b.supplier_id===a);return P?b.filter(a=>a.name.toLowerCase().includes(P.toLowerCase())||a.brand.toLowerCase().includes(P.toLowerCase())||a.category.toLowerCase().includes(P.toLowerCase())||a.description.toLowerCase().includes(P.toLowerCase())):b},$=v.filter(a=>a.name.toLowerCase().includes(D.toLowerCase())||a.specialties.some(a=>a.toLowerCase().includes(D.toLowerCase())));return((0,c.useEffect)(()=>{X()},[]),B)?(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)(h.Skeleton,{className:"h-8 w-48 mb-6"}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,c)=>(0,b.jsx)(h.Skeleton,{className:"h-64"},c))})]}):(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Supplier Marketplace"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Find and order from verified pharmaceutical suppliers"})]}),(0,b.jsx)(d.Card,{className:"mb-6",children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(n.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,b.jsx)(f.Input,{placeholder:"Search suppliers by name or specialty...",value:D,onChange:a=>E(a.target.value),className:"pl-10 text-black"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(x,{className:"h-5 w-5 text-gray-400 mt-2"}),(0,b.jsx)("span",{className:"text-sm text-gray-600 mt-2",children:"Filters:"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)(m.Select,{value:F,onValueChange:G,children:[(0,b.jsx)(m.SelectTrigger,{children:(0,b.jsx)(m.SelectValue,{placeholder:"Product Category"})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"all",children:"All Categories"}),(0,b.jsx)(m.SelectItem,{value:"pharmaceuticals",children:"Pharmaceuticals"}),(0,b.jsx)(m.SelectItem,{value:"medical_devices",children:"Medical Devices"}),(0,b.jsx)(m.SelectItem,{value:"supplements",children:"Supplements"}),(0,b.jsx)(m.SelectItem,{value:"vaccines",children:"Vaccines"})]})]}),(0,b.jsxs)(m.Select,{value:H,onValueChange:I,children:[(0,b.jsx)(m.SelectTrigger,{children:(0,b.jsx)(m.SelectValue,{placeholder:"Location"})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"all",children:"All Locations"}),(0,b.jsx)(m.SelectItem,{value:"usa",children:"United States"}),(0,b.jsx)(m.SelectItem,{value:"canada",children:"Canada"}),(0,b.jsx)(m.SelectItem,{value:"uk",children:"United Kingdom"}),(0,b.jsx)(m.SelectItem,{value:"germany",children:"Germany"}),(0,b.jsx)(m.SelectItem,{value:"india",children:"India"}),(0,b.jsx)(m.SelectItem,{value:"china",children:"China"})]})]}),(0,b.jsxs)(m.Select,{value:J,onValueChange:K,children:[(0,b.jsx)(m.SelectTrigger,{children:(0,b.jsx)(m.SelectValue,{placeholder:"Business Type"})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"all",children:"All Business Types"}),(0,b.jsx)(m.SelectItem,{value:"pharmacy",children:"Pharmacy"}),(0,b.jsx)(m.SelectItem,{value:"retail_shop",children:"Retail Shop"}),(0,b.jsx)(m.SelectItem,{value:"shoes_store",children:"Shoes Store"}),(0,b.jsx)(m.SelectItem,{value:"clothing_store",children:"Clothing Store"}),(0,b.jsx)(m.SelectItem,{value:"electronics",children:"Electronics"}),(0,b.jsx)(m.SelectItem,{value:"grocery",children:"Grocery Store"}),(0,b.jsx)(m.SelectItem,{value:"restaurant",children:"Restaurant"}),(0,b.jsx)(m.SelectItem,{value:"beauty_salon",children:"Beauty Salon"}),(0,b.jsx)(m.SelectItem,{value:"automotive",children:"Automotive"}),(0,b.jsx)(m.SelectItem,{value:"hardware",children:"Hardware Store"})]})]})]}),("all"!==F||"all"!==H||"all"!==J)&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Active filters:"}),"all"!==F&&(0,b.jsx)(g.Badge,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:F}),"all"!==H&&(0,b.jsx)(g.Badge,{variant:"secondary",className:"bg-green-100 text-green-800",children:H}),"all"!==J&&(0,b.jsx)(g.Badge,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:J.replace("_"," ")}),(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",onClick:()=>{G("all"),I("all"),K("all")},className:"text-gray-500 hover:text-gray-700",children:"Clear all"})]})]})})}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(a=>(0,b.jsxs)(d.Card,{className:"hover:shadow-lg transition-shadow",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)(d.CardTitle,{className:"text-lg flex items-center gap-2",children:[a.name,a.verified&&(0,b.jsxs)(g.Badge,{variant:"secondary",className:"bg-green-100 text-green-800",children:[(0,b.jsx)(w,{className:"h-3 w-3 mr-1"}),"Verified"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[(0,b.jsx)(o.Star,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:a.rating}),(0,b.jsxs)("span",{className:"text-sm text-gray-500",children:["(",a.reviews," reviews)"]})]})]})})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:a.description}),(0,b.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(p.MapPin,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)("span",{children:a.location})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(t.Package,{className:"h-4 w-4 text-gray-400"}),(0,b.jsxs)("span",{children:[a.products_count," products"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(u.Clock,{className:"h-4 w-4 text-gray-400"}),(0,b.jsxs)("span",{children:[a.delivery_time," delivery"]})]})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Specialties:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.specialties.slice(0,3).map(a=>(0,b.jsx)(g.Badge,{variant:"outline",className:"text-xs",children:a},a))})]}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Certifications:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:a.certifications.slice(0,2).map(a=>(0,b.jsx)(g.Badge,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:a},a))})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(j.Dialog,{children:[(0,b.jsx)(j.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{className:"flex-1",onClick:()=>{M(a),Q("")},children:[(0,b.jsx)(s.ShoppingCart,{className:"h-4 w-4 mr-2"}),"Order Products"]})}),(0,b.jsxs)(j.DialogContent,{className:"max-w-7xl max-h-[90vh] overflow-hidden bg-white",children:[(0,b.jsxs)(j.DialogHeader,{className:"pb-4",children:[(0,b.jsxs)(j.DialogTitle,{className:"text-black text-xl",children:[a.name," - Product Catalog"]}),(0,b.jsxs)("div",{className:"flex items-center gap-6 text-sm text-gray-600 mt-2",children:[(0,b.jsxs)("span",{children:["Min Order: ",(0,b.jsxs)("strong",{className:"text-black",children:["$",a.min_order]})]}),(0,b.jsxs)("span",{children:["Delivery: ",(0,b.jsx)("strong",{className:"text-black",children:a.delivery_time})]}),(0,b.jsxs)("span",{children:["Contact: ",(0,b.jsx)("strong",{className:"text-black",children:a.email})]})]}),void 0!==a.upfront_payment_percent&&void 0!==a.after_delivery_percent&&(0,b.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Payment Terms:"}),(0,b.jsxs)("div",{className:"flex gap-4 text-sm text-blue-800",children:[(0,b.jsxs)("span",{children:["Upfront: ",(0,b.jsxs)("strong",{children:[a.upfront_payment_percent,"%"]})]}),(0,b.jsxs)("span",{children:["After Delivery: ",(0,b.jsxs)("strong",{children:[a.after_delivery_percent,"%"]})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"relative max-w-md",children:[(0,b.jsx)(n.Search,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,b.jsx)(f.Input,{placeholder:"Search products...",value:P,onChange:a=>Q(a.target.value),className:"pl-10 text-black"})]}),(0,b.jsx)("div",{className:"overflow-y-auto max-h-[60vh]",children:(0,b.jsx)("div",{className:"space-y-3",children:Z(a.id).map(a=>(0,b.jsx)(d.Card,{className:"w-full hover:shadow-lg transition-shadow",children:(0,b.jsx)(d.CardContent,{className:"p-4",children:(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("div",{className:"w-24 h-24 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:(0,b.jsx)("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover",onError:a=>{a.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxNTAiIGhlaWdodD0iMTUwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik03NSA2MEw5MCA3NUg2MEw3NSA2MFoiIGZpbGw9IiM5Q0EzQUYiLz4KPC9zdmc+"}})}),(0,b.jsxs)("div",{className:"flex-1 flex justify-between items-center",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h5",{className:"font-semibold text-black text-lg",children:a.name}),(0,b.jsx)(g.Badge,{variant:"in_stock"===a.availability?"secondary":"destructive",className:`text-xs ${"in_stock"===a.availability?"bg-green-100 text-green-800":""}`,children:"in_stock"===a.availability?"In Stock":a.availability.replace("_"," ")})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[a.brand," â€¢ ",a.category]}),(0,b.jsx)("p",{className:"text-sm text-gray-700",children:a.description}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[(0,b.jsxs)("span",{children:["Stock: ",a.stock_quantity]}),(0,b.jsxs)("span",{children:["Min Order: ",a.min_quantity]})]}),void 0!==a.upfront_percent&&void 0!==a.after_delivery_percent&&(0,b.jsxs)("div",{className:"mt-2 p-2 bg-blue-50 rounded border border-blue-200",children:[(0,b.jsx)("p",{className:"text-xs font-medium text-blue-900 mb-1",children:"Payment Terms:"}),(0,b.jsxs)("div",{className:"flex gap-3 text-xs text-blue-800",children:[(0,b.jsxs)("span",{children:["Upfront: ",(0,b.jsxs)("strong",{children:[a.upfront_percent,"%"]})]}),(0,b.jsxs)("span",{children:["After Delivery: ",(0,b.jsxs)("strong",{children:[a.after_delivery_percent,"%"]})]})]})]})]}),(0,b.jsxs)("div",{className:"text-right space-y-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["$",a.price.toFixed(2)]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["per ",a.unit]})]}),(0,b.jsx)(e.Button,{className:"bg-emerald-600 hover:bg-emerald-700 px-6",onClick:()=>S(a),disabled:"out_of_stock"===a.availability,children:"Order This"})]})]})]})})},a.id))})}),0===Z(a.id).length&&(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)(t.Package,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),(0,b.jsx)("p",{className:"text-gray-500 mb-4",children:"Try adjusting your search terms or browse all products"}),P&&(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>Q(""),children:"Clear Search"})]})]})]})]}),(0,b.jsx)(j.Dialog,{open:!!R,onOpenChange:()=>S(null),children:(0,b.jsx)(j.DialogContent,{className:"max-w-lg max-h-[90vh] overflow-hidden bg-white",children:R&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.DialogHeader,{children:(0,b.jsx)(j.DialogTitle,{className:"text-black text-lg",children:"Place Order"})}),(0,b.jsxs)("div",{className:"space-y-4 overflow-y-auto max-h-[70vh] pr-2",children:[(0,b.jsxs)("div",{className:"flex gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:(0,b.jsx)("img",{src:R.image,alt:R.name,className:"w-full h-full object-cover",onError:a=>{a.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxNTAiIGhlaWdodD0iMTUwIiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik03NSA2MEw5MCA3NUg2MEw3NSA2MFoiIGZpbGw9IiM5Q0EzQUYiLz4KPC9zdmc+"}})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-black",children:R.name}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:R.brand}),(0,b.jsxs)("p",{className:"text-lg font-bold text-green-600",children:["$",R.price.toFixed(2)," per ",R.unit]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-black font-medium",children:"Quantity"}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,b.jsx)(f.Input,{type:"number",min:"1",value:T||"",onChange:a=>U(Math.max(1,Number(a.target.value)||1)),className:"w-24 text-black"}),(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"units"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-black font-medium",children:"Delivery Address *"}),(0,b.jsx)(l.Textarea,{placeholder:"Enter your delivery address",value:V.delivery_address,onChange:a=>W({...V,delivery_address:a.target.value}),className:"text-black mt-2",rows:3})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-black font-medium",children:"City *"}),(0,b.jsx)(f.Input,{placeholder:"City",value:V.city,onChange:a=>W({...V,city:a.target.value}),className:"text-black mt-2"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-black font-medium",children:"Phone *"}),(0,b.jsx)(f.Input,{placeholder:"Phone number",value:V.phone,onChange:a=>W({...V,phone:a.target.value}),className:"text-black mt-2"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-black font-medium",children:"Payment Method"}),(0,b.jsxs)(m.Select,{value:V.payment_method,onValueChange:a=>W({...V,payment_method:a}),children:[(0,b.jsx)(m.SelectTrigger,{className:"text-black mt-2",children:(0,b.jsx)(m.SelectValue,{})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"bank_transfer",children:"Bank Transfer"}),(0,b.jsx)(m.SelectItem,{value:"cash_on_delivery",children:"Cash on Delivery"})]})]})]}),(0,b.jsx)("div",{className:"bg-emerald-50 p-4 rounded-lg border border-emerald-200",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("span",{className:"font-medium text-black",children:"Total Amount:"}),(0,b.jsxs)("span",{className:"text-2xl font-bold text-emerald-600",children:["$",(R.price*T).toFixed(2)]})]})}),(0,b.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>S(null),className:"flex-1",children:"Cancel"}),(0,b.jsx)(e.Button,{onClick:Y,className:"flex-1 bg-emerald-600 hover:bg-emerald-700",disabled:!V.delivery_address||!V.city||!V.phone,children:"Place Order"})]})]})]})})}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",children:(0,b.jsx)(q.Phone,{className:"h-4 w-4"})}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",children:(0,b.jsx)(r.Mail,{className:"h-4 w-4"})})]})]})]},a.id))}),0===$.length&&(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(t.Package,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-500 mb-4",children:"No suppliers found matching your search"}),(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>E(""),children:"Clear Search"})]})]})}}];

//# sourceMappingURL=app_%28dashboard%29_dashboard_owner_suppliers_page_tsx_8c190f38._.js.map