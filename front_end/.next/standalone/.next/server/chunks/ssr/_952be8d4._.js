module.exports=[65733,a=>{"use strict";a.s(["Dialog",()=>f,"DialogContent",()=>j,"DialogHeader",()=>k,"DialogTitle",()=>l,"DialogTrigger",()=>g]);var b=a.i(90944),c=a.i(97942),d=a.i(22262),e=a.i(97895);function f({...a}){return(0,b.jsx)(c.Root,{"data-slot":"dialog",...a})}function g({...a}){return(0,b.jsx)(c.Trigger,{"data-slot":"dialog-trigger",...a})}function h({...a}){return(0,b.jsx)(c.Portal,{"data-slot":"dialog-portal",...a})}function i({className:a,...d}){return(0,b.jsx)(c.Overlay,{"data-slot":"dialog-overlay",className:(0,e.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",a),...d})}function j({className:a,children:f,showCloseButton:g=!0,...j}){return(0,b.jsxs)(h,{"data-slot":"dialog-portal",children:[(0,b.jsx)(i,{}),(0,b.jsxs)(c.Content,{"data-slot":"dialog-content",className:(0,e.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),...j,children:[f,g&&(0,b.jsxs)(c.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,b.jsx)(d.XIcon,{}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function k({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"dialog-header",className:(0,e.cn)("flex flex-col gap-2 text-center sm:text-left",a),...c})}function l({className:a,...d}){return(0,b.jsx)(c.Title,{"data-slot":"dialog-title",className:(0,e.cn)("text-lg leading-none font-semibold",a),...d})}},17171,a=>{"use strict";a.s(["Label",()=>m],17171);var b=a.i(90944),c=a.i(72131);a.i(35112);var d=a.i(70121),e=Symbol.for("react.lazy"),f=c[" use ".trim().toString()];function g(a){var b;return null!=a&&"object"==typeof a&&"$$typeof"in a&&a.$$typeof===e&&"_payload"in a&&"object"==typeof(b=a._payload)&&null!==b&&"then"in b}var h=Symbol("radix.slottable");function i(a){return c.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===h}var j=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let h=function(a){let e=function(a){let b=c.forwardRef((a,b)=>{let{children:e,...h}=a;if(g(e)&&"function"==typeof f&&(e=f(e._payload)),c.isValidElement(e)){var i;let a,f,g=(i=e,(f=(a=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?i.ref:(f=(a=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?i.props.ref:i.props.ref||i.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(h,e.props);return e.type!==c.Fragment&&(j.ref=b?(0,d.composeRefs)(b,g):g),c.cloneElement(e,j)}return c.Children.count(e)>1?c.Children.only(null):null});return b.displayName=`${a}.SlotClone`,b}(a),h=c.forwardRef((a,d)=>{let{children:h,...j}=a;g(h)&&"function"==typeof f&&(h=f(h._payload));let k=c.Children.toArray(h),l=k.find(i);if(l){let a=l.props.children,f=k.map(b=>b!==l?b:c.Children.count(a)>1?c.Children.only(null):c.isValidElement(a)?a.props.children:null);return(0,b.jsx)(e,{...j,ref:d,children:c.isValidElement(a)?c.cloneElement(a,void 0,f):null})}return(0,b.jsx)(e,{...j,ref:d,children:h})});return h.displayName=`${a}.Slot`,h}(`Primitive.${e}`),j=c.forwardRef((a,c)=>{let{asChild:d,...f}=a;return(0,b.jsx)(d?h:e,{...f,ref:c})});return j.displayName=`Primitive.${e}`,{...a,[e]:j}},{}),k=c.forwardRef((a,c)=>(0,b.jsx)(j.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));k.displayName="Label";var l=a.i(97895);function m({className:a,...c}){return(0,b.jsx)(k,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...c})}},15618,81560,a=>{"use strict";a.s(["Plus",()=>c],15618);var b=a.i(70106);let c=(0,b.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Trash2",()=>d],81560);let d=(0,b.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},81912,a=>{"use strict";a.s(["default",()=>m],81912);var b=a.i(90944),c=a.i(72131),d=a.i(5522),e=a.i(40695),f=a.i(50463),g=a.i(64037),h=a.i(65733),i=a.i(17171),j=a.i(15618);let k=(0,a.i(70106).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var l=a.i(81560);function m(){let{show:a}=(0,g.useToast)(),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(!0),[m,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(!1),s=async()=>{k(!0);try{await new Promise(a=>setTimeout(a,1e3)),i([{id:1,medicine_id:1,medicine_name:"Paracetamol 500mg",sku:"PARA500",branch:"Main",quantity:150,pack_size:10,packs:15,singles:0,reorder_level:50,expiry_date:"2025-12-31",lot_number:"LOT123",sell_price:2.5},{id:2,medicine_id:2,medicine_name:"Ibuprofen 200mg",sku:"IBU200",branch:"Main",quantity:25,pack_size:20,packs:1,singles:5,reorder_level:40,expiry_date:"2024-06-15",lot_number:"LOT456",sell_price:1.9}])}catch(b){a({variant:"destructive",title:"Failed to load inventory",description:b?.message||"Unable to fetch inventory data"})}finally{k(!1)}};(0,c.useEffect)(()=>{s()},[]);let t=a=>{if(!a.expiry_date)return!1;let b=new Date(a.expiry_date),c=new Date;return 30>=Math.ceil((b.getTime()-c.getTime())/864e5)},u=async b=>{if(confirm("Are you sure you want to delete this item?"))try{a({title:"Item deleted",description:"Inventory item has been removed"}),s()}catch(b){a({variant:"destructive",title:"Failed to delete item",description:b?.message||"Unable to delete inventory item"})}};return j?(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)(f.Skeleton,{className:"h-8 w-48 mb-4"}),(0,b.jsx)(f.Skeleton,{className:"h-64 w-full"})]}):(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Inventory Management"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Manage stock levels and medicine information"})]}),(0,b.jsx)(n,{onSuccess:s})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg border p-4 mb-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Medicine"}),(0,b.jsx)(d.Input,{value:m,onChange:a=>p(a.target.value),placeholder:"Name or SKU",className:"text-black"})]}),(0,b.jsx)("div",{className:"flex items-end",children:(0,b.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:q,onChange:a=>r(a.target.checked),className:"rounded border-gray-300"}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:"Low stock only"})]})}),(0,b.jsx)("div",{className:"flex items-end",children:(0,b.jsx)(e.Button,{onClick:s,variant:"outline",children:"Refresh"})})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg border overflow-hidden",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Medicine"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Expiry"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===h.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No inventory items found"})}):h.map(a=>{var c;return(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-900",children:a.medicine_name}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["SKU: ",a.sku]}),a.lot_number&&(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Lot: ",a.lot_number]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium text-gray-900",children:[a.quantity," units"]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[a.packs," packs + ",a.singles," singles"]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Reorder at: ",a.reorder_level]})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("p",{className:"font-medium text-gray-900",children:a.sell_price?`$${a.sell_price.toFixed(2)}`:"N/A"})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("p",{className:`text-sm ${t(a)?"text-red-600 font-medium":"text-gray-900"}`,children:(c=a.expiry_date)?new Date(c).toLocaleDateString():"N/A"})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex flex-col space-y-1",children:[a.quantity<=a.reorder_level&&(0,b.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Low Stock"}),t(a)&&(0,b.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Expiring Soon"}),!(a.quantity<=a.reorder_level)&&!t(a)&&(0,b.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Good"})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)(o,{item:a,onSuccess:s}),(0,b.jsx)(e.Button,{variant:"outline",size:"sm",onClick:()=>u(a.id),className:"text-red-600 hover:text-red-700",children:(0,b.jsx)(l.Trash2,{className:"h-4 w-4"})})]})})]},a.id)})})]})})})]})}function n({onSuccess:a}){let{show:f}=(0,g.useToast)(),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)({medicine_name:"",sku:"",branch:"",quantity:"",reorder_level:"",sell_price:"",expiry_date:"",lot_number:""}),q=async b=>{b.preventDefault(),n(!0);try{await new Promise(a=>setTimeout(a,1e3)),f({title:"Item added",description:"New inventory item has been created"}),l(!1),p({medicine_name:"",sku:"",branch:"",quantity:"",reorder_level:"",sell_price:"",expiry_date:"",lot_number:""}),a()}catch(a){f({variant:"destructive",title:"Failed to add item",description:a?.message||"Unable to create inventory item"})}finally{n(!1)}};return(0,b.jsxs)(h.Dialog,{open:k,onOpenChange:l,children:[(0,b.jsx)(h.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{className:"bg-blue-600 hover:bg-blue-700",children:[(0,b.jsx)(j.Plus,{className:"h-4 w-4 mr-2"}),"Add Item"]})}),(0,b.jsxs)(h.DialogContent,{className:"max-w-md bg-white",children:[(0,b.jsx)(h.DialogHeader,{children:(0,b.jsx)(h.DialogTitle,{className:"text-black",children:"Add Inventory Item"})}),(0,b.jsxs)("form",{onSubmit:q,className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"medicine_name",className:"text-black font-medium",children:"Medicine Name"}),(0,b.jsx)(d.Input,{id:"medicine_name",value:o.medicine_name,onChange:a=>p({...o,medicine_name:a.target.value}),className:"text-black bg-white border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"sku",className:"text-black font-medium",children:"SKU"}),(0,b.jsx)(d.Input,{id:"sku",value:o.sku,onChange:a=>p({...o,sku:a.target.value}),className:"text-black bg-white border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"quantity",className:"text-black font-medium",children:"Quantity"}),(0,b.jsx)(d.Input,{id:"quantity",type:"number",value:o.quantity,onChange:a=>p({...o,quantity:a.target.value}),className:"text-black bg-white border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"sell_price",className:"text-black font-medium",children:"Sell Price"}),(0,b.jsx)(d.Input,{id:"sell_price",type:"number",step:"0.01",value:o.sell_price,onChange:a=>p({...o,sell_price:a.target.value}),className:"text-black bg-white border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"expiry_date",className:"text-black font-medium",children:"Expiry Date"}),(0,b.jsx)(d.Input,{id:"expiry_date",type:"date",value:o.expiry_date,onChange:a=>p({...o,expiry_date:a.target.value}),className:"text-black bg-white border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),(0,b.jsx)(e.Button,{type:"submit",disabled:m,children:m?"Adding...":"Add Item"})]})]})]})]})}function o({item:a,onSuccess:f}){let{show:j}=(0,g.useToast)(),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)({quantity:a.quantity.toString(),reorder_level:a.reorder_level.toString(),sell_price:a.sell_price?.toString()||"",expiry_date:a.expiry_date||"",lot_number:a.lot_number||""}),r=async a=>{a.preventDefault(),o(!0);try{await new Promise(a=>setTimeout(a,1e3)),j({title:"Item updated",description:"Inventory item has been updated"}),m(!1),f()}catch(a){j({variant:"destructive",title:"Failed to update item",description:a?.message||"Unable to update inventory item"})}finally{o(!1)}};return(0,b.jsxs)(h.Dialog,{open:l,onOpenChange:m,children:[(0,b.jsx)(h.DialogTrigger,{asChild:!0,children:(0,b.jsx)(e.Button,{variant:"outline",size:"sm",children:(0,b.jsx)(k,{className:"h-4 w-4"})})}),(0,b.jsxs)(h.DialogContent,{className:"max-w-md",children:[(0,b.jsx)(h.DialogHeader,{children:(0,b.jsxs)(h.DialogTitle,{children:["Edit ",a.medicine_name]})}),(0,b.jsxs)("form",{onSubmit:r,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"quantity",children:"Quantity"}),(0,b.jsx)(d.Input,{id:"quantity",type:"number",value:p.quantity,onChange:a=>q({...p,quantity:a.target.value}),className:"text-black",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"reorder_level",children:"Reorder Level"}),(0,b.jsx)(d.Input,{id:"reorder_level",type:"number",value:p.reorder_level,onChange:a=>q({...p,reorder_level:a.target.value}),className:"text-black"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"sell_price",children:"Sell Price"}),(0,b.jsx)(d.Input,{id:"sell_price",type:"number",step:"0.01",value:p.sell_price,onChange:a=>q({...p,sell_price:a.target.value}),className:"text-black"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"expiry_date",children:"Expiry Date"}),(0,b.jsx)(d.Input,{id:"expiry_date",type:"date",value:p.expiry_date,onChange:a=>q({...p,expiry_date:a.target.value}),className:"text-black"})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,b.jsx)(e.Button,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,b.jsx)(e.Button,{type:"submit",disabled:n,children:n?"Updating...":"Update Item"})]})]})]})]})}}];

//# sourceMappingURL=_952be8d4._.js.map