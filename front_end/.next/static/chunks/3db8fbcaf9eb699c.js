(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37727,e=>{"use strict";e.s(["X",()=>t.default]);var t=e.i(41947)},70273,e=>{"use strict";e.s(["Star",()=>t],70273);let t=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},27341,e=>{"use strict";e.s(["Tabs",()=>G,"TabsContent",()=>Y,"TabsList",()=>U,"TabsTrigger",()=>X],27341);var t=e.i(43476),s=e.i(71645),a=e.i(81140),r=e.i(30030),i=e.i(75830),n=e.i(20783),l=e.i(10772),c=e.i(48425),o=e.i(30207),d=e.i(69340),u=e.i(86318),m="rovingFocusGroup.onEntryFocus",p={bubbles:!1,cancelable:!0},x="RovingFocusGroup",[f,v,h]=(0,i.createCollection)(x),[j,g]=(0,r.createContextScope)(x,[h]),[y,b]=j(x),N=s.forwardRef((e,s)=>(0,t.jsx)(f.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(f.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,t.jsx)(w,{...e,ref:s})})}));N.displayName=x;var w=s.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:i,orientation:l,loop:f=!1,dir:h,currentTabStopId:j,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:b,onEntryFocus:N,preventScrollOnEntryFocus:w=!1,...C}=e,S=s.useRef(null),T=(0,n.useComposedRefs)(r,S),E=(0,u.useDirection)(h),[A,P]=(0,d.useControllableState)({prop:j,defaultProp:null!=g?g:null,onChange:b,caller:x}),[R,D]=s.useState(!1),F=(0,o.useCallbackRef)(N),_=v(i),I=s.useRef(!1),[L,B]=s.useState(0);return s.useEffect(()=>{let e=S.current;if(e)return e.addEventListener(m,F),()=>e.removeEventListener(m,F)},[F]),(0,t.jsx)(y,{scope:i,orientation:l,dir:E,loop:f,currentTabStopId:A,onItemFocus:s.useCallback(e=>P(e),[P]),onItemShiftTab:s.useCallback(()=>D(!0),[]),onFocusableItemAdd:s.useCallback(()=>B(e=>e+1),[]),onFocusableItemRemove:s.useCallback(()=>B(e=>e-1),[]),children:(0,t.jsx)(c.Primitive.div,{tabIndex:R||0===L?-1:0,"data-orientation":l,...C,ref:T,style:{outline:"none",...e.style},onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,()=>{I.current=!0}),onFocus:(0,a.composeEventHandlers)(e.onFocus,e=>{let t=!I.current;if(e.target===e.currentTarget&&t&&!R){let t=new CustomEvent(m,p);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=_().filter(e=>e.focusable);k([e.find(e=>e.active),e.find(e=>e.id===A),...e].filter(Boolean).map(e=>e.ref.current),w)}}I.current=!1}),onBlur:(0,a.composeEventHandlers)(e.onBlur,()=>D(!1))})})}),C="RovingFocusGroupItem",S=s.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:i,focusable:n=!0,active:o=!1,tabStopId:d,children:u,...m}=e,p=(0,l.useId)(),x=d||p,h=b(C,i),j=h.currentTabStopId===x,g=v(i),{onFocusableItemAdd:y,onFocusableItemRemove:N,currentTabStopId:w}=h;return s.useEffect(()=>{if(n)return y(),()=>N()},[n,y,N]),(0,t.jsx)(f.ItemSlot,{scope:i,id:x,focusable:n,active:o,children:(0,t.jsx)(c.Primitive.span,{tabIndex:j?0:-1,"data-orientation":h.orientation,...m,ref:r,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{n?h.onItemFocus(x):e.preventDefault()}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>h.onItemFocus(x)),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void h.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,s){var a;let r=(a=e.key,"rtl"!==s?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return T[r]}(e,h.orientation,h.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){"prev"===t&&s.reverse();let a=s.indexOf(e.currentTarget);s=h.loop?function(e,t){return e.map((s,a)=>e[(t+a)%e.length])}(s,a+1):s.slice(a+1)}setTimeout(()=>k(s))}}),children:"function"==typeof u?u({isCurrentTabStop:j,hasTabStop:null!=w}):u})})});S.displayName=C;var T={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function k(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=document.activeElement;for(let a of e)if(a===s||(a.focus({preventScroll:t}),document.activeElement!==s))return}var E=e.i(96626),A="Tabs",[P,R]=(0,r.createContextScope)(A,[g]),D=g(),[F,_]=P(A),I=s.forwardRef((e,s)=>{let{__scopeTabs:a,value:r,onValueChange:i,defaultValue:n,orientation:o="horizontal",dir:m,activationMode:p="automatic",...x}=e,f=(0,u.useDirection)(m),[v,h]=(0,d.useControllableState)({prop:r,onChange:i,defaultProp:null!=n?n:"",caller:A});return(0,t.jsx)(F,{scope:a,baseId:(0,l.useId)(),value:v,onValueChange:h,orientation:o,dir:f,activationMode:p,children:(0,t.jsx)(c.Primitive.div,{dir:f,"data-orientation":o,...x,ref:s})})});I.displayName=A;var L="TabsList",B=s.forwardRef((e,s)=>{let{__scopeTabs:a,loop:r=!0,...i}=e,n=_(L,a),l=D(a);return(0,t.jsx)(N,{asChild:!0,...l,orientation:n.orientation,dir:n.dir,loop:r,children:(0,t.jsx)(c.Primitive.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:s})})});B.displayName=L;var K="TabsTrigger",z=s.forwardRef((e,s)=>{let{__scopeTabs:r,value:i,disabled:n=!1,...l}=e,o=_(K,r),d=D(r),u=O(o.baseId,i),m=V(o.baseId,i),p=i===o.value;return(0,t.jsx)(S,{asChild:!0,...d,focusable:!n,active:p,children:(0,t.jsx)(c.Primitive.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":m,"data-state":p?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...l,ref:s,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(i)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(i)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==o.activationMode;p||n||!e||o.onValueChange(i)})})})});z.displayName=K;var H="TabsContent",M=s.forwardRef((e,a)=>{let{__scopeTabs:r,value:i,forceMount:n,children:l,...o}=e,d=_(H,r),u=O(d.baseId,i),m=V(d.baseId,i),p=i===d.value,x=s.useRef(p);return s.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(E.Presence,{present:n||p,children:s=>{let{present:r}=s;return(0,t.jsx)(c.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!r,id:m,tabIndex:0,...o,ref:a,style:{...e.style,animationDuration:x.current?"0s":void 0},children:r&&l})}})});function O(e,t){return"".concat(e,"-trigger-").concat(t)}function V(e,t){return"".concat(e,"-content-").concat(t)}M.displayName=H;var J=e.i(47163);function G(e){let{className:s,...a}=e;return(0,t.jsx)(I,{"data-slot":"tabs",className:(0,J.cn)("flex flex-col gap-2",s),...a})}function U(e){let{className:s,...a}=e;return(0,t.jsx)(B,{"data-slot":"tabs-list",className:(0,J.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...a})}function X(e){let{className:s,...a}=e;return(0,t.jsx)(z,{"data-slot":"tabs-trigger",className:(0,J.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...a})}function Y(e){let{className:s,...a}=e;return(0,t.jsx)(M,{"data-slot":"tabs-content",className:(0,J.cn)("flex-1 outline-none",s),...a})}},78745,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},43531,e=>{"use strict";e.s(["Check",()=>t.default]);var t=e.i(78745)},55436,e=>{"use strict";e.s(["Search",()=>t],55436);let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},86536,e=>{"use strict";e.s(["Eye",()=>t],86536);let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},68528,e=>{"use strict";e.s(["default",()=>f]);var t=e.i(43476),s=e.i(71645),a=e.i(70065),r=e.i(94179),i=e.i(67881),n=e.i(23750),l=e.i(27341),c=e.i(43531),o=e.i(37727),d=e.i(55436),u=e.i(86536),m=e.i(70273),p=e.i(4427),x=e.i(6799);function f(){let{show:e}=(0,x.useToast)(),[f,v]=(0,s.useState)([]),[h,j]=(0,s.useState)([]),[g,y]=(0,s.useState)(!0),[b,N]=(0,s.useState)(""),[w,C]=(0,s.useState)("suppliers");(0,s.useEffect)(()=>{S()},[]);let S=async()=>{try{y(!0);let[e,t]=await Promise.all([(0,p.getAuthJSON)("/api/v1/admin/suppliers"),(0,p.getAuthJSON)("/api/v1/admin/suppliers/payments")]);v(e.items||[]),j(t.items||[])}catch(t){e({title:"Error",description:"Failed to load supplier data",variant:"destructive"})}finally{y(!1)}},T=async t=>{try{await (0,p.postAuthJSON)("/api/v1/admin/suppliers/".concat(t,"/approve"),{}),e({title:"Success",description:"Supplier approved successfully",variant:"success"}),S()}catch(t){e({title:"Error",description:"Failed to approve supplier",variant:"destructive"})}},k=async t=>{try{await (0,p.postAuthJSON)("/api/v1/admin/suppliers/".concat(t,"/reject"),{}),e({title:"Success",description:"Supplier rejected",variant:"success"}),S()}catch(t){e({title:"Error",description:"Failed to reject supplier",variant:"destructive"})}},E=async t=>{try{await (0,p.postAuthJSON)("/api/v1/admin/suppliers/payments/".concat(t,"/verify"),{}),e({title:"Success",description:"Payment verified successfully",variant:"success"}),S()}catch(t){e({title:"Error",description:"Failed to verify payment",variant:"destructive"})}},A=async t=>{try{await (0,p.postAuthJSON)("/api/v1/admin/suppliers/payments/".concat(t,"/reject"),{}),e({title:"Success",description:"Payment rejected",variant:"success"}),S()}catch(t){e({title:"Error",description:"Failed to reject payment",variant:"destructive"})}},P=f.filter(e=>{var t,s;return(null==(t=e.company_name)?void 0:t.toLowerCase().includes(b.toLowerCase()))||(null==(s=e.email)?void 0:s.toLowerCase().includes(b.toLowerCase()))}),R=P.filter(e=>!e.is_verified);P.filter(e=>e.is_verified);let D=h.filter(e=>"pending"===e.status);return g?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading suppliers..."})]})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Supplier Management"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage supplier applications and payments"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(d.Search,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)(n.Input,{placeholder:"Search suppliers...",value:b,onChange:e=>N(e.target.value),className:"max-w-sm"})]}),(0,t.jsxs)(l.Tabs,{value:w,onValueChange:C,children:[(0,t.jsxs)(l.TabsList,{children:[(0,t.jsxs)(l.TabsTrigger,{value:"suppliers",children:["Suppliers (",P.length,")"]}),(0,t.jsxs)(l.TabsTrigger,{value:"pending",children:["Pending KYC (",R.length,")"]}),(0,t.jsxs)(l.TabsTrigger,{value:"payments",children:["Payment Verification (",D.length,")"]})]}),(0,t.jsx)(l.TabsContent,{value:"suppliers",className:"space-y-4",children:(0,t.jsx)("div",{className:"grid gap-4",children:P.map(e=>(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(a.CardTitle,{className:"text-lg",children:e.company_name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.email})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(r.Badge,{variant:e.is_verified?"default":"secondary",children:e.is_verified?"Verified":"Pending"}),(0,t.jsx)(r.Badge,{variant:e.is_active?"default":"destructive",children:e.is_active?"Active":"Inactive"})]})]})}),(0,t.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Phone"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:e.phone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Rating"}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.Star,{className:"h-4 w-4 fill-yellow-400 text-yellow-400"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:e.rating})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Total Orders"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:e.total_orders})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Joined"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:new Date(e.created_at).toLocaleDateString()})]})]}),!e.is_verified&&(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.Button,{size:"sm",onClick:()=>T(e.id),className:"flex items-center gap-1",children:[(0,t.jsx)(c.Check,{className:"h-4 w-4"}),"Approve KYC"]}),(0,t.jsxs)(i.Button,{size:"sm",variant:"destructive",onClick:()=>k(e.id),className:"flex items-center gap-1",children:[(0,t.jsx)(o.X,{className:"h-4 w-4"}),"Reject"]})]}),(0,t.jsxs)(i.Button,{size:"sm",variant:"outline",className:"flex items-center gap-1",children:[(0,t.jsx)(u.Eye,{className:"h-4 w-4"}),"View Orders"]})]})]},e.id))})}),(0,t.jsx)(l.TabsContent,{value:"pending",className:"space-y-4",children:(0,t.jsx)("div",{className:"grid gap-4",children:R.map(e=>(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(a.CardTitle,{className:"text-lg",children:e.company_name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.email})]}),(0,t.jsx)(r.Badge,{variant:"secondary",children:"Pending Review"})]})}),(0,t.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Phone"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:e.phone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Applied"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:new Date(e.created_at).toLocaleDateString()})]})]}),(0,t.jsx)("div",{className:"p-3 bg-yellow-50 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-yellow-800",children:"KYC application pending admin review"})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.Button,{size:"sm",onClick:()=>T(e.id),className:"flex items-center gap-1",children:[(0,t.jsx)(c.Check,{className:"h-4 w-4"}),"Approve KYC"]}),(0,t.jsxs)(i.Button,{size:"sm",variant:"destructive",onClick:()=>k(e.id),className:"flex items-center gap-1",children:[(0,t.jsx)(o.X,{className:"h-4 w-4"}),"Reject"]})]})]})]},e.id))})}),(0,t.jsx)(l.TabsContent,{value:"payments",className:"space-y-4",children:(0,t.jsx)("div",{className:"grid gap-4",children:D.map(e=>(0,t.jsxs)(a.Card,{children:[(0,t.jsx)(a.CardHeader,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(a.CardTitle,{className:"text-lg",children:e.company_name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.supplier_email})]}),(0,t.jsx)(r.Badge,{variant:"secondary",children:"Payment Pending"})]})}),(0,t.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Payment Code"}),(0,t.jsx)("p",{className:"text-muted-foreground font-mono",children:e.code})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Amount"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["$",e.amount]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Method"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:e.payment_method})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Submitted"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:new Date(e.submitted_at).toLocaleDateString()})]})]}),e.notes&&(0,t.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,t.jsx)("strong",{children:"Notes:"})," ",e.notes]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.Button,{size:"sm",onClick:()=>E(e.id),className:"flex items-center gap-1",children:[(0,t.jsx)(c.Check,{className:"h-4 w-4"}),"Verify Payment"]}),(0,t.jsxs)(i.Button,{size:"sm",variant:"destructive",onClick:()=>A(e.id),className:"flex items-center gap-1",children:[(0,t.jsx)(o.X,{className:"h-4 w-4"}),"Reject"]})]})]})]},e.id))})})]})]})}}]);