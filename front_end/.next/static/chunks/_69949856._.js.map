{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/habtamusemagn/Music/gugu-gaga-/front_end/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]): string {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,IAAA,uOAAO,EAAC,IAAA,iMAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///home/habtamusemagn/Music/gugu-gaga-/front_end/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,qPAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,KASb;QATa,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF,GATa;IAUd,MAAM,OAAO,UAAU,+SAAI,GAAG;IAE9B,qBACE,4TAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KAnBS","debugId":null}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///home/habtamusemagn/Music/gugu-gaga-/front_end/components/ui/input.tsx"],"sourcesContent":["\"use client\";\nimport * as React from \"react\";\n\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className = \"\", ...props }, ref) => {\n    return (\n      <input\n        ref={ref}\n        className={\n          \"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 \" +\n          className\n        }\n        {...props}\n      />\n    );\n  }\n);\nInput.displayName = \"Input\";\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAKO,MAAM,sBAAQ,0SAAgB,MACnC,QAA+B;QAA9B,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IAC3B,qBACE,4TAAC;QACC,KAAK;QACL,WACE,uHACA;QAED,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 124, "column": 0}, "map": {"version":3,"sources":["file:///home/habtamusemagn/Music/gugu-gaga-/front_end/utils/api.ts"],"sourcesContent":["export const API_BASE = process.env.NEXT_PUBLIC_API_BASE || \"http://localhost:8000/api/v1\";\nexport const TENANT_HEADER = process.env.NEXT_PUBLIC_TENANT_HEADER || \"X-Tenant-ID\";\n\nfunction buildHeaders(initHeaders?: HeadersInit, tenantId?: string): HeadersInit {\n  const headers: Record<string, string> = {\n    ...(initHeaders as Record<string, string>),\n  };\n  if (tenantId) headers[TENANT_HEADER] = tenantId;\n  return headers;\n}\n\nexport async function putAuthJSON<T = any>(path: string, bodyData: any, tenantId?: string): Promise<T> {\n  const res = await authFetch(path, {\n    method: \"PUT\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(bodyData),\n  }, true, tenantId);\n  if (!res.ok) {\n    try {\n      const data = await res.json();\n      const msg = data?.error || data?.detail || JSON.stringify(data);\n      throw new Error(msg || `Request failed with ${res.status}`);\n    } catch {\n      const text = await res.text().catch(() => \"\");\n      throw new Error(text || `Request failed with ${res.status}`);\n    }\n  }\n  return (await res.json()) as T;\n}\n\nexport async function postForm<T = any>(path: string, data: Record<string, string>, tenantId?: string): Promise<T> {\n  const body = new URLSearchParams(data);\n  const res = await fetch(`${API_BASE}${path}`, {\n    method: \"POST\",\n    headers: buildHeaders({\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n    }, tenantId),\n    body,\n  });\n  if (!res.ok) {\n    try {\n      const data = await res.json();\n      const msg = data?.error || data?.detail || JSON.stringify(data);\n      throw new Error(msg || `Request failed with ${res.status}`);\n    } catch {\n      const text = await res.text().catch(() => \"\");\n      throw new Error(text || `Request failed with ${res.status}`);\n    }\n  }\n  return (await res.json()) as T;\n}\n\nexport async function postJSON<T = any>(path: string, body: any, tenantId?: string): Promise<T> {\n  const res = await fetch(`${API_BASE}${path}`, {\n    method: \"POST\",\n    headers: buildHeaders({ \"Content-Type\": \"application/json\" }, tenantId),\n    body: JSON.stringify(body),\n  });\n  if (!res.ok) {\n    try {\n      const data = await res.json();\n      const msg = data?.error || data?.detail || JSON.stringify(data);\n      throw new Error(msg || `Request failed with ${res.status}`);\n    } catch {\n      const text = await res.text().catch(() => \"\");\n      throw new Error(text || `Request failed with ${res.status}`);\n    }\n  }\n  return (await res.json()) as T;\n}\n\nexport async function postMultipart<T = any>(path: string, formData: FormData, tenantId?: string): Promise<T> {\n  const res = await fetch(`${API_BASE}${path}`, {\n    method: \"POST\",\n    headers: buildHeaders(undefined, tenantId),\n    body: formData,\n  });\n  if (!res.ok) {\n    try {\n      const data = await res.json();\n      const msg = data?.error || data?.detail || JSON.stringify(data);\n      throw new Error(msg || `Request failed with ${res.status}`);\n    } catch {\n      let message = `Request failed with ${res.status}`;\n      throw new Error(message);\n    }\n  }\n  return (await res.json()) as T;\n}\n\nexport function getAccessToken(): string | null {\n  if (typeof window === \"undefined\") return null;\n  return localStorage.getItem(\"access_token\");\n}\n\nfunction getRefreshToken(): string | null {\n  if (typeof window === \"undefined\") return null;\n  return localStorage.getItem(\"refresh_token\");\n}\n\nasync function refreshTokens(): Promise<boolean> {\n  const rt = getRefreshToken();\n  if (!rt) return false;\n  const url = `${API_BASE}/api/v1/auth/refresh?refresh_token=${encodeURIComponent(rt)}`;\n  const res = await fetch(url, { method: \"POST\" });\n  if (!res.ok) return false;\n  try {\n    const data = (await res.json()) as {\n      access_token: string;\n      refresh_token: string;\n      token_type: string;\n      expires_in: number;\n    };\n    if (typeof window !== \"undefined\") {\n      localStorage.setItem(\"access_token\", data.access_token);\n      localStorage.setItem(\"refresh_token\", data.refresh_token);\n    }\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nasync function authFetch(path: string, init?: RequestInit, retry = true, tenantId?: string): Promise<Response> {\n  const token = getAccessToken();\n  const headers: HeadersInit = buildHeaders(\n    {\n      ...(init?.headers || {}),\n      ...(token ? { Authorization: `Bearer ${token}` } : {}),\n    },\n    tenantId,\n  );\n  const res = await fetch(`${API_BASE}${path}`, { ...(init || {}), headers });\n  if (res.status === 401 && retry) {\n    const ok = await refreshTokens();\n    if (ok) {\n      const newToken = getAccessToken();\n      const retryHeaders: HeadersInit = buildHeaders(\n        {\n          ...(init?.headers || {}),\n          ...(newToken ? { Authorization: `Bearer ${newToken}` } : {}),\n        },\n        tenantId,\n      );\n      return fetch(`${API_BASE}${path}`, { ...(init || {}), headers: retryHeaders });\n    }\n  }\n  return res;\n}\n\nexport async function getAuthJSON<T = any>(path: string, tenantId?: string): Promise<T> {\n  const res = await authFetch(path, undefined, true, tenantId);\n  if (!res.ok) {\n    try {\n      const data = await res.json();\n      const msg = data?.error || data?.detail || JSON.stringify(data);\n      throw new Error(msg || `Request failed with ${res.status}`);\n    } catch {\n      const text = await res.text().catch(() => \"\");\n      throw new Error(text || `Request failed with ${res.status}`);\n    }\n  }\n  return (await res.json()) as T;\n}\n\nexport async function postAuthJSON<T = any>(path: string, bodyData: any, tenantId?: string): Promise<T> {\n  const res = await authFetch(path, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(bodyData),\n  }, true, tenantId);\n  if (!res.ok) {\n    try {\n      const data = await res.json();\n      const msg = data?.error || data?.detail || JSON.stringify(data);\n      throw new Error(msg || `Request failed with ${res.status}`);\n    } catch {\n      const text = await res.text().catch(() => \"\");\n      throw new Error(text || `Request failed with ${res.status}`);\n    }\n  }\n  return (await res.json()) as T;\n}\n\n// Convenience wrappers for key flows\nexport const AuthAPI = {\n  registerAffiliate: (body: any) => postJSON(\"/auth/register/affiliate\", body),\n  registerPharmacy: (body: any) => postJSON(\"/auth/register/pharmacy\", body),\n  verifyRegistration: (email: string, code: string) =>\n    postForm(\"/auth/register/verify\", { email, code }),\n  login: (email: string, password: string, tenantId?: string) =>\n    postForm(\"/auth/login\", { username: email, password }, tenantId),\n  loginRequestCode: (email: string, password: string, tenantId?: string) =>\n    postForm(\"/auth/login/request-code\", { username: email, password }, tenantId),\n  loginVerify: (email: string, code: string, tenantId?: string) =>\n    postJSON(\"/auth/login/verify\", { email, code }, tenantId),\n  me: () => getAuthJSON(\"/auth/me\"),\n};\n\nexport const AffiliateAPI = {\n  getLinks: () => getAuthJSON(\"/affiliate/register-link\"),\n  createLink: () => getAuthJSON(\"/affiliate/register-link?create_new=true\"),\n  deactivate: (token: string) => postAuthJSON(`/affiliate/links/${encodeURIComponent(token)}/deactivate`, {}),\n  rotate: (token: string) => postAuthJSON(`/affiliate/links/${encodeURIComponent(token)}/rotate`, {}),\n  dashboard: () => getAuthJSON(\"/affiliate/dashboard\"),\n  payouts: (status?: string) => getAuthJSON(`/affiliate/payouts${status ? `?status_filter=${encodeURIComponent(status)}` : \"\"}`),\n  requestPayout: (month?: string, percent = 5) => postAuthJSON(\"/affiliate/payouts/request\", { month, percent }),\n  updateProfile: (body: any) => postAuthJSON(\"/affiliate/profile\", body),\n};\n\nexport const AdminAPI = {\n  pharmacies: (page = 1, pageSize = 20, q?: string) =>\n    getAuthJSON(`/admin/pharmacies?page=${page}&page_size=${pageSize}${q ? `&q=${encodeURIComponent(q)}` : \"\"}`),\n  affiliates: (page = 1, pageSize = 20, q?: string) =>\n    getAuthJSON(`/admin/affiliates?page=${page}&page_size=${pageSize}${q ? `&q=${encodeURIComponent(q)}` : \"\"}`),\n  approvePharmacy: (tenantId: string, applicationId: number, body?: { issue_temp_password?: boolean; temp_password?: string }) =>\n    postAuthJSON(`/admin/pharmacies/${applicationId}/approve`, body || {}, tenantId),\n  rejectPharmacy: (tenantId: string, applicationId: number) =>\n    postAuthJSON(`/admin/pharmacies/${applicationId}/reject`, {}, tenantId),\n  verifyPayment: (tenantId: string, code?: string | null) =>\n    postAuthJSON(`/admin/payments/verify`, { code: code || null }, tenantId),\n  rejectPayment: (tenantId: string, code?: string | null) =>\n    postAuthJSON(`/admin/payments/reject`, { code: code || null }, tenantId),\n  analyticsOverview: (days = 30) =>\n    getAuthJSON(`/admin/analytics/overview?days=${days}`),\n  downloadPharmacyLicense: async (applicationId: number) => {\n    const res = await authFetch(`/admin/pharmacies/${applicationId}/license`, { method: \"GET\" }, true);\n    if (!res.ok) {\n      const text = await res.text().catch(() => \"\");\n      throw new Error(text || `HTTP ${res.status}`);\n    }\n    const blob = await res.blob();\n    let filename = `license-${applicationId}`;\n    const disposition = res.headers.get(\"Content-Disposition\") || \"\";\n    const match = disposition.match(/filename\\*=UTF-8''([^;]+)|filename=\"?([^\";]+)\"?/i);\n    const extracted = match?.[1] || match?.[2];\n    if (extracted) {\n      try {\n        filename = decodeURIComponent(extracted);\n      } catch {\n        filename = extracted;\n      }\n    }\n    const url = window.URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.download = filename;\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n    window.URL.revokeObjectURL(url);\n  },\n  approveAffiliate: (userId: number) => postAuthJSON(`/admin/affiliates/${userId}/approve`, {}),\n  rejectAffiliate: (userId: number) => postAuthJSON(`/admin/affiliates/${userId}/reject`, {}),\n  listAffiliatePayouts: (status?: string) =>\n    getAuthJSON(`/admin/affiliate/payouts${status ? `?status=${encodeURIComponent(status)}` : \"\"}`),\n  markPayoutPaid: (payoutId: number) => postAuthJSON(`/admin/affiliate/payouts/${payoutId}/mark-paid`, {}),\n  approvePayout: (payoutId: number) => postAuthJSON(`/admin/affiliate/payouts/${payoutId}/approve`, {}),\n  usage: (days = 30) => getAuthJSON(`/admin/usage?days=${days}`),\n  audit: (params?: { tenant_id?: string; action?: string; limit?: number }) =>\n    getAuthJSON(\n      `/admin/audit${(() => {\n        const qs = new URLSearchParams();\n        if (params?.tenant_id) qs.set(\"tenant_id\", params.tenant_id);\n        if (params?.action) qs.set(\"action\", params.action);\n        if (params?.limit) qs.set(\"limit\", String(params.limit));\n        const s = qs.toString();\n        return s ? `?${s}` : \"\";\n      })()}`,\n    ),\n};\n\nexport const StaffAPI = {\n  createCashier: (tenantId: string, body: any) => postAuthJSON(\"/staff\", body, tenantId),\n  list: (tenantId: string) => getAuthJSON(\"/staff\", tenantId),\n  update: (tenantId: string, userId: number, body: { is_active?: boolean }) =>\n    authFetch(`/staff/${userId}`, { method: \"PATCH\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify(body) }, true, tenantId)\n      .then(async (res)=>{ if (!res.ok) { const t = await res.text(); throw new Error(t || `HTTP ${res.status}`); } return res.json(); }),\n  remove: (tenantId: string, userId: number) =>\n    authFetch(`/staff/${userId}`, { method: \"DELETE\" }, true, tenantId)\n      .then(async (res)=>{ if (!res.ok) { const t = await res.text(); throw new Error(t || `HTTP ${res.status}`); } return res.json(); }),\n};\n\nexport const BillingAPI = {\n  submitPaymentCode: (tenantId: string, code: string) =>\n    postAuthJSON(\"/billing/payment-code\", { code }, tenantId),\n};\n\nexport const UploadAPI = {\n  uploadKyc: async (file: File): Promise<{ path: string; size: number; filename: string }> => {\n    const fd = new FormData();\n    fd.append(\"file\", file);\n    return await postMultipart(`/uploads/kyc`, fd);\n  },\n};\n\nexport const KYCAPI = {\n  status: (tenantId: string) => getAuthJSON(`/kyc/status`, tenantId),\n  update: (tenantId: string, body: any) => putAuthJSON(`/kyc/status`, body, tenantId),\n};\n\nexport const PharmaciesAPI = {\n  list: (page = 1, pageSize = 20, q?: string) =>\n    getAuthJSON(`/pharmacies?page=${page}&page_size=${pageSize}${q ? `&q=${encodeURIComponent(q)}` : \"\"}`),\n  get: (id: number) => getAuthJSON(`/pharmacies/${id}`),\n  update: (id: number, body: { name?: string; address?: string }) =>\n    authFetch(`/pharmacies/${id}`, { method: \"PATCH\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify(body) })\n      .then(async (res)=>{ if (!res.ok) { const t = await res.text(); throw new Error(t || `HTTP ${res.status}`); } return res.json(); }),\n};\n\nexport const ChatAPI = {\n  listThreads: (tenantId: string) => getAuthJSON(`/chat/threads`, tenantId),\n  createThread: (tenantId: string, title: string) => postAuthJSON(`/chat/threads`, { title }, tenantId),\n  listMessages: (tenantId: string, threadId: number) => getAuthJSON(`/chat/threads/${threadId}/messages`, tenantId),\n  sendMessage: (tenantId: string, threadId: number, prompt: string) =>\n    postAuthJSON(`/chat/threads/${threadId}/messages`, { prompt }, tenantId),\n  usage: (tenantId: string, days = 30) => getAuthJSON(`/chat/usage?days=${days}`, tenantId),\n  sendStream: async (\n    tenantId: string,\n    threadId: number,\n    prompt: string,\n    onEvent: (evt: { event: string; data?: any }) => void,\n  ): Promise<void> => {\n    const res = await authFetch(`/chat/threads/${threadId}/messages/stream`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ prompt }),\n    }, true, tenantId);\n    if (!res.ok || !res.body) {\n      const t = await res.text().catch(()=>\"\");\n      throw new Error(t || `HTTP ${res.status}`);\n    }\n    const reader = res.body.getReader();\n    const decoder = new TextDecoder();\n    let buf = \"\";\n    while (true) {\n      const { done, value } = await reader.read();\n      if (done) break;\n      buf += decoder.decode(value, { stream: true });\n      let idx;\n      while ((idx = buf.indexOf(\"\\n\\n\")) !== -1) {\n        const chunk = buf.slice(0, idx).trim();\n        buf = buf.slice(idx + 2);\n        if (chunk.startsWith(\"data:\")) {\n          try {\n            const jsonStr = chunk.slice(5).trim();\n            const obj = JSON.parse(jsonStr);\n            onEvent(obj);\n          } catch {}\n        }\n      }\n    }\n  },\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAwB;AAAjB,MAAM,WAAW,oEAAoC;AACrD,MAAM,gBAAgB,mDAAyC;AAEtE,SAAS,aAAa,WAAyB,EAAE,QAAiB;IAChE,MAAM,UAAkC;QACtC,GAAI,WAAW;IACjB;IACA,IAAI,UAAU,OAAO,CAAC,cAAc,GAAG;IACvC,OAAO;AACT;AAEO,eAAe,YAAqB,IAAY,EAAE,QAAa,EAAE,QAAiB;IACvF,MAAM,MAAM,MAAM,UAAU,MAAM;QAChC,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB,GAAG,MAAM;IACT,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,IAAI;YACF,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM,MAAM,CAAA,iBAAA,2BAAA,KAAM,KAAK,MAAI,iBAAA,2BAAA,KAAM,MAAM,KAAI,KAAK,SAAS,CAAC;YAC1D,MAAM,IAAI,MAAM,OAAO,AAAC,uBAAiC,OAAX,IAAI,MAAM;QAC1D,EAAE,UAAM;YACN,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;YAC1C,MAAM,IAAI,MAAM,QAAQ,AAAC,uBAAiC,OAAX,IAAI,MAAM;QAC3D;IACF;IACA,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,eAAe,SAAkB,IAAY,EAAE,IAA4B,EAAE,QAAiB;IACnG,MAAM,OAAO,IAAI,gBAAgB;IACjC,MAAM,MAAM,MAAM,MAAM,AAAC,GAAa,OAAX,UAAgB,OAAL,OAAQ;QAC5C,QAAQ;QACR,SAAS,aAAa;YACpB,gBAAgB;QAClB,GAAG;QACH;IACF;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,IAAI;YACF,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM,MAAM,CAAA,iBAAA,2BAAA,KAAM,KAAK,MAAI,iBAAA,2BAAA,KAAM,MAAM,KAAI,KAAK,SAAS,CAAC;YAC1D,MAAM,IAAI,MAAM,OAAO,AAAC,uBAAiC,OAAX,IAAI,MAAM;QAC1D,EAAE,UAAM;YACN,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;YAC1C,MAAM,IAAI,MAAM,QAAQ,AAAC,uBAAiC,OAAX,IAAI,MAAM;QAC3D;IACF;IACA,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,eAAe,SAAkB,IAAY,EAAE,IAAS,EAAE,QAAiB;IAChF,MAAM,MAAM,MAAM,MAAM,AAAC,GAAa,OAAX,UAAgB,OAAL,OAAQ;QAC5C,QAAQ;QACR,SAAS,aAAa;YAAE,gBAAgB;QAAmB,GAAG;QAC9D,MAAM,KAAK,SAAS,CAAC;IACvB;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,IAAI;YACF,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM,MAAM,CAAA,iBAAA,2BAAA,KAAM,KAAK,MAAI,iBAAA,2BAAA,KAAM,MAAM,KAAI,KAAK,SAAS,CAAC;YAC1D,MAAM,IAAI,MAAM,OAAO,AAAC,uBAAiC,OAAX,IAAI,MAAM;QAC1D,EAAE,UAAM;YACN,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;YAC1C,MAAM,IAAI,MAAM,QAAQ,AAAC,uBAAiC,OAAX,IAAI,MAAM;QAC3D;IACF;IACA,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,eAAe,cAAuB,IAAY,EAAE,QAAkB,EAAE,QAAiB;IAC9F,MAAM,MAAM,MAAM,MAAM,AAAC,GAAa,OAAX,UAAgB,OAAL,OAAQ;QAC5C,QAAQ;QACR,SAAS,aAAa,WAAW;QACjC,MAAM;IACR;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,IAAI;YACF,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM,MAAM,CAAA,iBAAA,2BAAA,KAAM,KAAK,MAAI,iBAAA,2BAAA,KAAM,MAAM,KAAI,KAAK,SAAS,CAAC;YAC1D,MAAM,IAAI,MAAM,OAAO,AAAC,uBAAiC,OAAX,IAAI,MAAM;QAC1D,EAAE,UAAM;YACN,IAAI,UAAU,AAAC,uBAAiC,OAAX,IAAI,MAAM;YAC/C,MAAM,IAAI,MAAM;QAClB;IACF;IACA,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,SAAS;IACd;;IACA,OAAO,aAAa,OAAO,CAAC;AAC9B;AAEA,SAAS;IACP;;IACA,OAAO,aAAa,OAAO,CAAC;AAC9B;AAEA,eAAe;IACb,MAAM,KAAK;IACX,IAAI,CAAC,IAAI,OAAO;IAChB,MAAM,MAAM,AAAC,GAAgD,OAA9C,UAAS,uCAA4D,OAAvB,mBAAmB;IAChF,MAAM,MAAM,MAAM,MAAM,KAAK;QAAE,QAAQ;IAAO;IAC9C,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO;IACpB,IAAI;QACF,MAAM,OAAQ,MAAM,IAAI,IAAI;QAM5B,wCAAmC;YACjC,aAAa,OAAO,CAAC,gBAAgB,KAAK,YAAY;YACtD,aAAa,OAAO,CAAC,iBAAiB,KAAK,aAAa;QAC1D;QACA,OAAO;IACT,EAAE,UAAM;QACN,OAAO;IACT;AACF;AAEA,eAAe,UAAU,IAAY,EAAE,IAAkB;QAAE,QAAA,iEAAQ,MAAM;IACvE,MAAM,QAAQ;IACd,MAAM,UAAuB,aAC3B;QACE,GAAI,CAAA,iBAAA,2BAAA,KAAM,OAAO,KAAI,CAAC,CAAC;QACvB,GAAI,QAAQ;YAAE,eAAe,AAAC,UAAe,OAAN;QAAQ,IAAI,CAAC,CAAC;IACvD,GACA;IAEF,MAAM,MAAM,MAAM,MAAM,AAAC,GAAa,OAAX,UAAgB,OAAL,OAAQ;QAAE,GAAI,QAAQ,CAAC,CAAC;QAAG;IAAQ;IACzE,IAAI,IAAI,MAAM,KAAK,OAAO,OAAO;QAC/B,MAAM,KAAK,MAAM;QACjB,IAAI,IAAI;YACN,MAAM,WAAW;YACjB,MAAM,eAA4B,aAChC;gBACE,GAAI,CAAA,iBAAA,2BAAA,KAAM,OAAO,KAAI,CAAC,CAAC;gBACvB,GAAI,WAAW;oBAAE,eAAe,AAAC,UAAkB,OAAT;gBAAW,IAAI,CAAC,CAAC;YAC7D,GACA;YAEF,OAAO,MAAM,AAAC,GAAa,OAAX,UAAgB,OAAL,OAAQ;gBAAE,GAAI,QAAQ,CAAC,CAAC;gBAAG,SAAS;YAAa;QAC9E;IACF;IACA,OAAO;AACT;AAEO,eAAe,YAAqB,IAAY,EAAE,QAAiB;IACxE,MAAM,MAAM,MAAM,UAAU,MAAM,WAAW,MAAM;IACnD,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,IAAI;YACF,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM,MAAM,CAAA,iBAAA,2BAAA,KAAM,KAAK,MAAI,iBAAA,2BAAA,KAAM,MAAM,KAAI,KAAK,SAAS,CAAC;YAC1D,MAAM,IAAI,MAAM,OAAO,AAAC,uBAAiC,OAAX,IAAI,MAAM;QAC1D,EAAE,UAAM;YACN,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;YAC1C,MAAM,IAAI,MAAM,QAAQ,AAAC,uBAAiC,OAAX,IAAI,MAAM;QAC3D;IACF;IACA,OAAQ,MAAM,IAAI,IAAI;AACxB;AAEO,eAAe,aAAsB,IAAY,EAAE,QAAa,EAAE,QAAiB;IACxF,MAAM,MAAM,MAAM,UAAU,MAAM;QAChC,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB,GAAG,MAAM;IACT,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,IAAI;YACF,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,MAAM,MAAM,CAAA,iBAAA,2BAAA,KAAM,KAAK,MAAI,iBAAA,2BAAA,KAAM,MAAM,KAAI,KAAK,SAAS,CAAC;YAC1D,MAAM,IAAI,MAAM,OAAO,AAAC,uBAAiC,OAAX,IAAI,MAAM;QAC1D,EAAE,UAAM;YACN,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;YAC1C,MAAM,IAAI,MAAM,QAAQ,AAAC,uBAAiC,OAAX,IAAI,MAAM;QAC3D;IACF;IACA,OAAQ,MAAM,IAAI,IAAI;AACxB;AAGO,MAAM,UAAU;IACrB,mBAAmB,CAAC,OAAc,SAAS,4BAA4B;IACvE,kBAAkB,CAAC,OAAc,SAAS,2BAA2B;IACrE,oBAAoB,CAAC,OAAe,OAClC,SAAS,yBAAyB;YAAE;YAAO;QAAK;IAClD,OAAO,CAAC,OAAe,UAAkB,WACvC,SAAS,eAAe;YAAE,UAAU;YAAO;QAAS,GAAG;IACzD,kBAAkB,CAAC,OAAe,UAAkB,WAClD,SAAS,4BAA4B;YAAE,UAAU;YAAO;QAAS,GAAG;IACtE,aAAa,CAAC,OAAe,MAAc,WACzC,SAAS,sBAAsB;YAAE;YAAO;QAAK,GAAG;IAClD,IAAI,IAAM,YAAY;AACxB;AAEO,MAAM,eAAe;IAC1B,UAAU,IAAM,YAAY;IAC5B,YAAY,IAAM,YAAY;IAC9B,YAAY,CAAC,QAAkB,aAAa,AAAC,oBAA6C,OAA1B,mBAAmB,QAAO,gBAAc,CAAC;IACzG,QAAQ,CAAC,QAAkB,aAAa,AAAC,oBAA6C,OAA1B,mBAAmB,QAAO,YAAU,CAAC;IACjG,WAAW,IAAM,YAAY;IAC7B,SAAS,CAAC,SAAoB,YAAY,AAAC,qBAAiF,OAA7D,SAAS,AAAC,kBAA4C,OAA3B,mBAAmB,WAAY;IACzH,eAAe,SAAC;YAAgB,2EAAU;eAAM,aAAa,8BAA8B;YAAE;YAAO;QAAQ;;IAC5G,eAAe,CAAC,OAAc,aAAa,sBAAsB;AACnE;AAEO,MAAM,WAAW;IACtB,YAAY;YAAC,wEAAO,GAAG,4EAAW,IAAI;eACpC,YAAY,AAAC,0BAA2C,OAAlB,MAAK,eAAwB,OAAX,UAAkD,OAAvC,IAAI,AAAC,MAA2B,OAAtB,mBAAmB,MAAO;;IACzG,YAAY;YAAC,wEAAO,GAAG,4EAAW,IAAI;eACpC,YAAY,AAAC,0BAA2C,OAAlB,MAAK,eAAwB,OAAX,UAAkD,OAAvC,IAAI,AAAC,MAA2B,OAAtB,mBAAmB,MAAO;;IACzG,iBAAiB,CAAC,UAAkB,eAAuB,OACzD,aAAa,AAAC,qBAAkC,OAAd,eAAc,aAAW,QAAQ,CAAC,GAAG;IACzE,gBAAgB,CAAC,UAAkB,gBACjC,aAAa,AAAC,qBAAkC,OAAd,eAAc,YAAU,CAAC,GAAG;IAChE,eAAe,CAAC,UAAkB,OAChC,aAAc,0BAAyB;YAAE,MAAM,QAAQ;QAAK,GAAG;IACjE,eAAe,CAAC,UAAkB,OAChC,aAAc,0BAAyB;YAAE,MAAM,QAAQ;QAAK,GAAG;IACjE,mBAAmB;YAAC,wEAAO;eACzB,YAAY,AAAC,kCAAsC,OAAL;;IAChD,yBAAyB,OAAO;QAC9B,MAAM,MAAM,MAAM,UAAU,AAAC,qBAAkC,OAAd,eAAc,aAAW;YAAE,QAAQ;QAAM,GAAG;QAC7F,IAAI,CAAC,IAAI,EAAE,EAAE;YACX,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM;YAC1C,MAAM,IAAI,MAAM,QAAQ,AAAC,QAAkB,OAAX,IAAI,MAAM;QAC5C;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,IAAI,WAAW,AAAC,WAAwB,OAAd;QAC1B,MAAM,cAAc,IAAI,OAAO,CAAC,GAAG,CAAC,0BAA0B;QAC9D,MAAM,QAAQ,YAAY,KAAK,CAAC;QAChC,MAAM,YAAY,CAAA,kBAAA,4BAAA,KAAO,CAAC,EAAE,MAAI,kBAAA,4BAAA,KAAO,CAAC,EAAE;QAC1C,IAAI,WAAW;YACb,IAAI;gBACF,WAAW,mBAAmB;YAChC,EAAE,UAAM;gBACN,WAAW;YACb;QACF;QACA,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC;QACvC,MAAM,OAAO,SAAS,aAAa,CAAC;QACpC,KAAK,IAAI,GAAG;QACZ,KAAK,QAAQ,GAAG;QAChB,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,KAAK,KAAK;QACV,SAAS,IAAI,CAAC,WAAW,CAAC;QAC1B,OAAO,GAAG,CAAC,eAAe,CAAC;IAC7B;IACA,kBAAkB,CAAC,SAAmB,aAAa,AAAC,qBAA2B,OAAP,QAAO,aAAW,CAAC;IAC3F,iBAAiB,CAAC,SAAmB,aAAa,AAAC,qBAA2B,OAAP,QAAO,YAAU,CAAC;IACzF,sBAAsB,CAAC,SACrB,YAAY,AAAC,2BAAgF,OAAtD,SAAS,AAAC,WAAqC,OAA3B,mBAAmB,WAAY;IAC5F,gBAAgB,CAAC,WAAqB,aAAa,AAAC,4BAAoC,OAAT,UAAS,eAAa,CAAC;IACtG,eAAe,CAAC,WAAqB,aAAa,AAAC,4BAAoC,OAAT,UAAS,aAAW,CAAC;IACnG,OAAO;YAAC,wEAAO;eAAO,YAAY,AAAC,qBAAyB,OAAL;;IACvD,OAAO,CAAC,SACN,YACE,AAAC,eAOI,OAPU,CAAC;YACd,MAAM,KAAK,IAAI;YACf,IAAI,mBAAA,6BAAA,OAAQ,SAAS,EAAE,GAAG,GAAG,CAAC,aAAa,OAAO,SAAS;YAC3D,IAAI,mBAAA,6BAAA,OAAQ,MAAM,EAAE,GAAG,GAAG,CAAC,UAAU,OAAO,MAAM;YAClD,IAAI,mBAAA,6BAAA,OAAQ,KAAK,EAAE,GAAG,GAAG,CAAC,SAAS,OAAO,OAAO,KAAK;YACtD,MAAM,IAAI,GAAG,QAAQ;YACrB,OAAO,IAAI,AAAC,IAAK,OAAF,KAAM;QACvB,CAAC;AAEP;AAEO,MAAM,WAAW;IACtB,eAAe,CAAC,UAAkB,OAAc,aAAa,UAAU,MAAM;IAC7E,MAAM,CAAC,WAAqB,YAAY,UAAU;IAClD,QAAQ,CAAC,UAAkB,QAAgB,OACzC,UAAU,AAAC,UAAgB,OAAP,SAAU;YAAE,QAAQ;YAAS,SAAS;gBAAE,gBAAgB;YAAmB;YAAG,MAAM,KAAK,SAAS,CAAC;QAAM,GAAG,MAAM,UACnI,IAAI,CAAC,OAAO;YAAQ,IAAI,CAAC,IAAI,EAAE,EAAE;gBAAE,MAAM,IAAI,MAAM,IAAI,IAAI;gBAAI,MAAM,IAAI,MAAM,KAAK,AAAC,QAAkB,OAAX,IAAI,MAAM;YAAK;YAAE,OAAO,IAAI,IAAI;QAAI;IACrI,QAAQ,CAAC,UAAkB,SACzB,UAAU,AAAC,UAAgB,OAAP,SAAU;YAAE,QAAQ;QAAS,GAAG,MAAM,UACvD,IAAI,CAAC,OAAO;YAAQ,IAAI,CAAC,IAAI,EAAE,EAAE;gBAAE,MAAM,IAAI,MAAM,IAAI,IAAI;gBAAI,MAAM,IAAI,MAAM,KAAK,AAAC,QAAkB,OAAX,IAAI,MAAM;YAAK;YAAE,OAAO,IAAI,IAAI;QAAI;AACvI;AAEO,MAAM,aAAa;IACxB,mBAAmB,CAAC,UAAkB,OACpC,aAAa,yBAAyB;YAAE;QAAK,GAAG;AACpD;AAEO,MAAM,YAAY;IACvB,WAAW,OAAO;QAChB,MAAM,KAAK,IAAI;QACf,GAAG,MAAM,CAAC,QAAQ;QAClB,OAAO,MAAM,cAAe,gBAAe;IAC7C;AACF;AAEO,MAAM,SAAS;IACpB,QAAQ,CAAC,WAAqB,YAAa,eAAc;IACzD,QAAQ,CAAC,UAAkB,OAAc,YAAa,eAAc,MAAM;AAC5E;AAEO,MAAM,gBAAgB;IAC3B,MAAM;YAAC,wEAAO,GAAG,4EAAW,IAAI;eAC9B,YAAY,AAAC,oBAAqC,OAAlB,MAAK,eAAwB,OAAX,UAAkD,OAAvC,IAAI,AAAC,MAA2B,OAAtB,mBAAmB,MAAO;;IACnG,KAAK,CAAC,KAAe,YAAY,AAAC,eAAiB,OAAH;IAChD,QAAQ,CAAC,IAAY,OACnB,UAAU,AAAC,eAAiB,OAAH,KAAM;YAAE,QAAQ;YAAS,SAAS;gBAAE,gBAAgB;YAAmB;YAAG,MAAM,KAAK,SAAS,CAAC;QAAM,GAC3H,IAAI,CAAC,OAAO;YAAQ,IAAI,CAAC,IAAI,EAAE,EAAE;gBAAE,MAAM,IAAI,MAAM,IAAI,IAAI;gBAAI,MAAM,IAAI,MAAM,KAAK,AAAC,QAAkB,OAAX,IAAI,MAAM;YAAK;YAAE,OAAO,IAAI,IAAI;QAAI;AACvI;AAEO,MAAM,UAAU;IACrB,aAAa,CAAC,WAAqB,YAAa,iBAAgB;IAChE,cAAc,CAAC,UAAkB,QAAkB,aAAc,iBAAgB;YAAE;QAAM,GAAG;IAC5F,cAAc,CAAC,UAAkB,WAAqB,YAAY,AAAC,iBAAyB,OAAT,UAAS,cAAY;IACxG,aAAa,CAAC,UAAkB,UAAkB,SAChD,aAAa,AAAC,iBAAyB,OAAT,UAAS,cAAY;YAAE;QAAO,GAAG;IACjE,OAAO,SAAC;YAAkB,wEAAO;eAAO,YAAY,AAAC,oBAAwB,OAAL,OAAQ;;IAChF,YAAY,OACV,UACA,UACA,QACA;QAEA,MAAM,MAAM,MAAM,UAAU,AAAC,iBAAyB,OAAT,UAAS,qBAAmB;YACvE,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;YAAO;QAChC,GAAG,MAAM;QACT,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,IAAI,EAAE;YACxB,MAAM,IAAI,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAI;YACrC,MAAM,IAAI,MAAM,KAAK,AAAC,QAAkB,OAAX,IAAI,MAAM;QACzC;QACA,MAAM,SAAS,IAAI,IAAI,CAAC,SAAS;QACjC,MAAM,UAAU,IAAI;QACpB,IAAI,MAAM;QACV,MAAO,KAAM;YACX,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,OAAO,IAAI;YACzC,IAAI,MAAM;YACV,OAAO,QAAQ,MAAM,CAAC,OAAO;gBAAE,QAAQ;YAAK;YAC5C,IAAI;YACJ,MAAO,CAAC,MAAM,IAAI,OAAO,CAAC,OAAO,MAAM,CAAC,EAAG;gBACzC,MAAM,QAAQ,IAAI,KAAK,CAAC,GAAG,KAAK,IAAI;gBACpC,MAAM,IAAI,KAAK,CAAC,MAAM;gBACtB,IAAI,MAAM,UAAU,CAAC,UAAU;oBAC7B,IAAI;wBACF,MAAM,UAAU,MAAM,KAAK,CAAC,GAAG,IAAI;wBACnC,MAAM,MAAM,KAAK,KAAK,CAAC;wBACvB,QAAQ;oBACV,EAAE,UAAM,CAAC;gBACX;YACF;QACF;IACF;AACF","debugId":null}},
    {"offset": {"line": 570, "column": 0}, "map": {"version":3,"sources":["file:///home/habtamusemagn/Music/gugu-gaga-/front_end/app/%28auth%29/register/page.tsx"],"sourcesContent":["\"use client\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { useToast } from \"@/components/ui/toast\";\nimport { AuthAPI, UploadAPI } from \"@/utils/api\";\n\ntype Tab = \"pharmacy\" | \"affiliate\";\n\nexport default function RegisterPage() {\n  const router = useRouter();\n  const qp = useSearchParams();\n  const { show } = useToast();\n  // If ?tab=affiliate in URL, default to affiliate tab and lock\n  const tabParam = qp.get(\"tab\") as Tab | null;\n  const [tab, setTab] = useState<Tab>(tabParam === \"affiliate\" ? \"affiliate\" : \"pharmacy\");\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n  const affiliateToken = qp.get(\"token\") || qp.get(\"ref\") || undefined;\n\n  // Pharmacy form\n  const [pharmacyName, setPharmacyName] = useState(\"\");\n  const [address, setAddress] = useState(\"\");\n  const [ownerEmail, setOwnerEmail] = useState(\"\");\n  const [ownerPhone, setOwnerPhone] = useState(\"\");\n  const [ownerPassword, setOwnerPassword] = useState(\"\");\n  const [idNumber, setIdNumber] = useState(\"\");\n  const [licenseNumber, setLicenseNumber] = useState(\"\");\n  const [kycNotes, setKycNotes] = useState(\"\");\n  const [kycFile, setKycFile] = useState<File | null>(null);\n  const [kycUploadPath, setKycUploadPath] = useState<string | null>(null);\n\n  // Affiliate form\n  const [affEmail, setAffEmail] = useState(\"\");\n  const [affPassword, setAffPassword] = useState(\"\");\n  const [fullName, setFullName] = useState(\"\");\n  const [bankName, setBankName] = useState(\"\");\n  const [bankAccountName, setBankAccountName] = useState(\"\");\n  const [bankAccountNumber, setBankAccountNumber] = useState(\"\");\n  const [iban, setIban] = useState(\"\");\n\n  const fieldErrors = useMemo(() => ({} as Record<string, string>), []);\n\n  async function submitPharmacy(e: React.FormEvent) {\n    e.preventDefault();\n    setError(null); setSuccess(null); setLoading(true);\n    try {\n      if (!pharmacyName.trim()) throw new Error(\"Pharmacy name is required\");\n      if (!ownerEmail || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(ownerEmail)) throw new Error(\"Valid owner email required\");\n      if (!ownerPassword || ownerPassword.length < 6) throw new Error(\"Password must be at least 6 characters\");\n      if (!idNumber.trim() || !licenseNumber.trim()) throw new Error(\"ID number and license number are required\");\n      // Upload KYC document if provided\n      let docPath: string | undefined = undefined;\n      if (kycFile) {\n        const up = await UploadAPI.uploadKyc(kycFile);\n        docPath = up.path;\n        setKycUploadPath(up.path);\n      }\n      const registerRes = await AuthAPI.registerPharmacy({\n        pharmacy_name: pharmacyName,\n        address: address || undefined,\n        owner_email: ownerEmail,\n        owner_phone: ownerPhone || undefined,\n        owner_password: ownerPassword,\n        id_number: idNumber,\n        pharmacy_license_number: licenseNumber,\n        kyc_notes: kycNotes || undefined,\n        pharmacy_license_document_path: docPath,\n        affiliate_token: affiliateToken,\n      });\n      const auth = await AuthAPI.login(ownerEmail, ownerPassword, registerRes?.tenant_id);\n      if (typeof window !== \"undefined\") {\n        localStorage.setItem(\"access_token\", auth.access_token);\n        if (auth.refresh_token) localStorage.setItem(\"refresh_token\", auth.refresh_token);\n        if (registerRes?.tenant_id) localStorage.setItem(\"tenant_id\", registerRes.tenant_id);\n      }\n      const me = await AuthAPI.me();\n      if (typeof window !== \"undefined\" && me?.tenant_id) {\n        localStorage.setItem(\"tenant_id\", me.tenant_id);\n      }\n      setSuccess(\"Application received. Redirecting to your dashboard...\");\n      show({ variant: \"success\", title: \"Submitted\", description: \"Your dashboard will update once KYC is approved.\" });\n      setTimeout(() => router.replace(\"/dashboard/owner\"), 600);\n    } catch (err: any) {\n      setError(err.message || \"Failed to submit\");\n      show({ variant: \"destructive\", title: \"Failed\", description: err.message || \"Please try again\" });\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function submitAffiliate(e: React.FormEvent) {\n    e.preventDefault();\n    setError(null); setSuccess(null); setLoading(true);\n    try {\n      if (!affEmail || !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(affEmail)) throw new Error(\"Valid email required\");\n      if (!affPassword || affPassword.length < 6) throw new Error(\"Password must be at least 6 characters\");\n      await AuthAPI.registerAffiliate({\n        email: affEmail,\n        password: affPassword,\n        affiliate_full_name: fullName || undefined,\n        bank_name: bankName || undefined,\n        bank_account_name: bankAccountName || undefined,\n        bank_account_number: bankAccountNumber || undefined,\n      });\n      setSuccess(\"Affiliate registered. Please verify your email.\");\n      show({ variant: \"success\", title: \"Registered\", description: \"Check your email for verification code\" });\n      setTimeout(() => router.replace(`/register/verify?email=${encodeURIComponent(affEmail)}`), 800);\n    } catch (err: any) {\n      const message = err?.message || \"Registration failed\";\n      setError(message);\n      show({ variant: \"destructive\", title: \"Failed\", description: message });\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen flex items-start justify-center p-6\">\n      <div className=\"w-full max-w-3xl space-y-6\">\n        <h1 className=\"text-2xl font-semibold\">Create an account</h1>\n        {!tabParam && (\n          <div className=\"flex gap-2\">\n            <Button variant={tab === \"pharmacy\" ? \"default\" : \"outline\"} onClick={() => setTab(\"pharmacy\")}>Pharmacy</Button>\n            <Button variant={tab === \"affiliate\" ? \"default\" : \"outline\"} onClick={() => setTab(\"affiliate\")}>Affiliate</Button>\n          </div>\n        )}\n\n        {error && <p className=\"text-red-600 text-sm\">{error}</p>}\n        {success && <p className=\"text-emerald-600 text-sm\">{success}</p>}\n\n        {tab === \"pharmacy\" ? (\n          <form onSubmit={submitPharmacy} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-1\">\n                <label className=\"text-sm\">Pharmacy Name</label>\n                <Input value={pharmacyName} onChange={(e)=>setPharmacyName(e.target.value)} required />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-sm\">Address</label>\n                <Input value={address} onChange={(e)=>setAddress(e.target.value)} />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-sm\">Owner Email</label>\n                <Input type=\"email\" value={ownerEmail} onChange={(e)=>setOwnerEmail(e.target.value)} required />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-sm\">Owner Phone</label>\n                <Input value={ownerPhone} onChange={(e)=>setOwnerPhone(e.target.value)} placeholder=\"+2519...\" />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-sm\">Password</label>\n                <Input type=\"password\" value={ownerPassword} onChange={(e)=>setOwnerPassword(e.target.value)} required />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-sm\">National/Company ID</label>\n                <Input value={idNumber} onChange={(e)=>setIdNumber(e.target.value)} required />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-sm\">Pharmacy License Number</label>\n                <Input value={licenseNumber} onChange={(e)=>setLicenseNumber(e.target.value)} required />\n              </div>\n              <div className=\"md:col-span-2 space-y-1\">\n                <label className=\"text-sm\">Pharmacy License Document (Image, required)</label>\n                <input type=\"file\" accept=\".jpg,.jpeg,.png\" onChange={(e)=>setKycFile(e.target.files?.[0] || null)} required />\n                {kycUploadPath && (<div className=\"text-xs text-gray-500\">Uploaded: {kycUploadPath}</div>)}\n              </div>\n              <div className=\"md:col-span-2 space-y-1\">\n                <label className=\"text-sm\">Notes to Reviewer</label>\n                <textarea className=\"w-full border rounded px-3 py-2\" rows={3} value={kycNotes} onChange={(e)=>setKycNotes(e.target.value)} />\n              </div>\n            </div>\n            {affiliateToken && (\n              <div className=\"text-xs text-gray-600\">Referral token detected.</div>\n            )}\n            <Button type=\"submit\" disabled={loading}>{loading ? \"Submitting...\" : \"Submit Application\"}</Button>\n          </form>\n        ) : (\n          <form onSubmit={submitAffiliate} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div className=\"space-y-1\">\n                <label className=\"text-sm\">Email</label>\n                <Input type=\"email\" value={affEmail} onChange={(e)=>setAffEmail(e.target.value)} required />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-sm\">Password</label>\n                <Input type=\"password\" value={affPassword} onChange={(e)=>setAffPassword(e.target.value)} required />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-sm\">Full Name (for payouts)</label>\n                <Input value={fullName} onChange={(e)=>setFullName(e.target.value)} />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-sm\">Bank Name</label>\n                <Input value={bankName} onChange={(e)=>setBankName(e.target.value)} />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-sm\">Bank Account Name</label>\n                <Input value={bankAccountName} onChange={(e)=>setBankAccountName(e.target.value)} />\n              </div>\n              <div className=\"space-y-1\">\n                <label className=\"text-sm\">Bank Account Number</label>\n                <Input value={bankAccountNumber} onChange={(e)=>setBankAccountNumber(e.target.value)} />\n              </div>\n            </div>\n            <Button type=\"submit\" disabled={loading}>{loading ? \"Registering...\" : \"Register as Affiliate\"}</Button>\n          </form>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}