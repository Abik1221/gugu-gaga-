(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90870,e=>{"use strict";e.s(["default",()=>r]);var t=e.i(43476),s=e.i(71645),a=e.i(67881),l=e.i(23750),i=e.i(71428),n=e.i(6799);function r(){let{show:e}=(0,n.useToast)(),[r,c]=(0,s.useState)([]),[d,m]=(0,s.useState)(!0),[x,o]=(0,s.useState)(""),[h,u]=(0,s.useState)(""),[g,j]=(0,s.useState)(""),[b,p]=(0,s.useState)(1),[y,N]=(0,s.useState)(0),v=async()=>{m(!0);try{await new Promise(e=>setTimeout(e,1e3));let e=[{id:1,branch:"Main",cashier_user_id:1,total_amount:45.5,created_at:new Date().toISOString(),lines:[{medicine_id:1,medicine_name:"Paracetamol 500mg",sku:"PARA500",quantity:2,unit_price:2.5,line_total:5},{medicine_id:2,medicine_name:"Ibuprofen 200mg",sku:"IBU200",quantity:1,unit_price:40.5,line_total:40.5}]}];c(e),N(e.length)}catch(t){e({variant:"destructive",title:"Failed to load sales",description:(null==t?void 0:t.message)||"Unable to fetch sales data"})}finally{m(!1)}};(0,s.useEffect)(()=>{v()},[b,x,h,g]);let f=e=>"$".concat(e.toFixed(2));return d?(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,t.jsx)(i.Skeleton,{className:"h-8 w-48 mb-4"}),(0,t.jsx)(i.Skeleton,{className:"h-64 w-full"})]}):(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sales History"}),(0,t.jsx)("p",{className:"text-gray-600",children:"View and search transaction records"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Medicine"}),(0,t.jsx)(l.Input,{value:x,onChange:e=>o(e.target.value),placeholder:"Search by medicine name or SKU",className:"text-black"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),(0,t.jsx)(l.Input,{type:"date",value:h,onChange:e=>u(e.target.value),className:"text-black"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),(0,t.jsx)(l.Input,{type:"date",value:g,onChange:e=>j(e.target.value),className:"text-black"})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,t.jsx)(a.Button,{onClick:v,variant:"outline",children:"Apply Filters"}),(0,t.jsx)(a.Button,{onClick:()=>{o(""),u(""),j("")},variant:"outline",children:"Clear"})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:0===r.length?(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[(0,t.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,t.jsx)("p",{className:"text-gray-500",children:"No sales found"})]}):r.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Sale #",e.id]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[new Date(e.created_at).toLocaleString()," • Branch: ",e.branch||"Main"]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-green-600",children:f(e.total_amount)}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.lines.length," item",1!==e.lines.length?"s":""]})]})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Items:"}),(0,t.jsx)("div",{className:"space-y-2",children:e.lines.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 px-3 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.medicine_name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["SKU: ",e.sku]})]}),(0,t.jsx)("div",{className:"text-right",children:(0,t.jsxs)("p",{className:"font-medium text-gray-900",children:[e.quantity," × ",f(e.unit_price)," = ",f(e.line_total)]})})]},s))})]})]},e.id))}),y>20&&(0,t.jsxs)("div",{className:"mt-6 flex justify-center space-x-2",children:[(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>p(Math.max(1,b-1)),disabled:1===b,children:"Previous"}),(0,t.jsxs)("span",{className:"flex items-center px-4 py-2 text-sm text-gray-600",children:["Page ",b]}),(0,t.jsx)(a.Button,{variant:"outline",onClick:()=>p(b+1),disabled:r.length<20,children:"Next"})]})]})}}]);