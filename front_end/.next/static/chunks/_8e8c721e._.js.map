{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/skeleton.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\nexport function Skeleton({ className = \"\" }: { className?: string }) {\r\n  return <div className={`animate-pulse bg-gray-200 rounded ${className}`} />;\r\n}\r\n\r\nexport function TableSkeletonRows({ rows = 6, cols = 6 }: { rows?: number; cols?: number }) {\r\n  return (\r\n    <tbody>\r\n      {Array.from({ length: rows }).map((_, r) => (\r\n        <tr key={r} className=\"border-t\">\r\n          {Array.from({ length: cols }).map((__, c) => (\r\n            <td key={c} className=\"px-3 py-2\">\r\n              <Skeleton className=\"h-4 w-full\" />\r\n            </td>\r\n          ))}\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;;AAGO,SAAS,SAAS,KAA0C;QAA1C,EAAE,YAAY,EAAE,EAA0B,GAA1C;IACvB,qBAAO,6LAAC;QAAI,WAAW,AAAC,qCAA8C,OAAV;;;;;;AAC9D;KAFgB;AAIT,SAAS,kBAAkB,KAAwD;QAAxD,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,EAAoC,GAAxD;IAChC,qBACE,6LAAC;kBACE,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAK,GAAG,GAAG,CAAC,CAAC,GAAG,kBACpC,6LAAC;gBAAW,WAAU;0BACnB,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAK,GAAG,GAAG,CAAC,CAAC,IAAI,kBACrC,6LAAC;wBAAW,WAAU;kCACpB,cAAA,6LAAC;4BAAS,WAAU;;;;;;uBADb;;;;;eAFJ;;;;;;;;;;AAUjB;MAdgB","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/input.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\n\r\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className = \"\", ...props }, ref) => {\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        className={\r\n          \"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 \" +\r\n          className\r\n        }\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nInput.displayName = \"Input\";\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAKO,MAAM,sBAAQ,2KAAgB,MACnC,QAA+B;QAA9B,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IAC3B,qBACE,6LAAC;QACC,KAAK;QACL,WACE,uHACA;QAED,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/app/%28dashboard%29/dashboard/pos/page.tsx"],"sourcesContent":["// POS page\n\"use client\";\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { API_BASE, getAccessToken, getAuthJSON, postAuthJSON } from \"@/utils/api\";\nimport { Button } from \"@/components/ui/button\";\nimport { useToast } from \"@/components/ui/toast\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Input } from \"@/components/ui/input\";\nimport { useRouter } from \"next/navigation\";\n\ntype Item = {\n  id: string;\n  name: string;\n  sku: string;\n  sale_price: number;\n  stock_qty: number;\n};\n\ntype InventoryResponse = {\n  items: Array<{\n    id: number | string;\n    medicine_name?: string;\n    sku?: string | null;\n    sell_price?: number | null;\n    quantity?: number | null;\n  }>;\n};\n\ntype CartLine = {\n  id: string;\n  name: string;\n  price: number;\n  qty: number;\n};\n\nexport default function POSPage() {\n  const router = useRouter();\n  const { show } = useToast();\n  const [items, setItems] = useState<Item[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [query, setQuery] = useState(\"\");\n  const [cart, setCart] = useState<CartLine[]>([]);\n  const [sessionId, setSessionId] = useState<string | null>(null);\n  const [lastTxn, setLastTxn] = useState<any | null>(null);\n  const [isCheckingOut, setIsCheckingOut] = useState(false);\n  const [branchId, setBranchId] = useState<string>(\"\");\n  const [branches, setBranches] = useState<{ id: string; name: string }[]>([]);\n\n  function extractReceiptId(tx: any): string | null {\n    if (!tx) return null;\n    if (tx.receipt_id) return String(tx.receipt_id);\n    if (tx.receipt && tx.receipt.id) return String(tx.receipt.id);\n    if (Array.isArray(tx.receipts) && tx.receipts.length > 0) {\n      const r = tx.receipts[0];\n      if (r && r.id) return String(r.id);\n    }\n    return null;\n  }\n\n  function authHeaders(): HeadersInit {\n    const t = getAccessToken();\n    return t ? { Authorization: `Bearer ${t}`, \"Content-Type\": \"application/json\" } : { \"Content-Type\": \"application/json\" };\n  }\n\n  function mapCartResponseToLocal(resp: any): CartLine[] {\n    const lines = Array.isArray(resp?.items) ? resp.items : [];\n    return lines.map((ln: any) => ({\n      id: String(ln.item_id),\n      name: String(ln.name || \"\"),\n      price: Number(ln.unit_price || 0),\n      qty: Number(ln.quantity || 0),\n    }));\n  }\n\n  async function serverGetCart(sid: string) {\n    const res = await fetch(`${API_BASE}/api/v1/pos/sessions/${sid}/cart`, { headers: authHeaders() });\n    if (!res.ok) return;\n    const data = await res.json();\n    setCart(mapCartResponseToLocal(data));\n  }\n\n  async function serverAddToCart(sid: string, itemId: string, quantity: number) {\n    const res = await fetch(`${API_BASE}/api/v1/pos/sessions/${sid}/cart`, {\n      method: \"POST\",\n      headers: authHeaders(),\n      body: JSON.stringify({ item_id: itemId, quantity }),\n    });\n    if (!res.ok) {\n      const msg = await res.text().catch(() => \"\");\n      show({ variant: \"destructive\", title: \"Cart update failed\", description: msg });\n      return;\n    }\n    const data = await res.json();\n    setCart(mapCartResponseToLocal(data));\n  }\n\n  async function serverRemoveFromCart(sid: string, itemId: string) {\n    const res = await fetch(`${API_BASE}/api/v1/pos/sessions/${sid}/cart/${encodeURIComponent(itemId)}`, {\n      method: \"DELETE\",\n      headers: authHeaders(),\n    });\n    if (!res.ok) return;\n    await serverGetCart(sid);\n  }\n\n  async function clearCart() {\n    if (cart.length === 0) return;\n    if (typeof window !== \"undefined\" && !window.confirm(\"Clear all items from cart?\")) return;\n    try {\n      if (sessionId) {\n        await postAuthJSON(`/api/v1/pos/sessions/${sessionId}/clear`, {});\n      }\n    } catch (e) {\n      // non-fatal; still clear local cart\n    }\n    setCart([]);\n    show({ variant: \"success\", title: \"Cart cleared\" });\n  }\n\n  useEffect(() => {\n    let active = true;\n    async function load() {\n      try {\n        const data = await getAuthJSON<InventoryResponse>(\"/api/v1/inventory/items\");\n        const list = Array.isArray(data?.items)\n          ? data.items.map((raw) => ({\n              id: String(raw.id ?? \"\"),\n              name: String(raw.medicine_name ?? \"\"),\n              sku: String(raw.sku ?? \"\"),\n              sale_price: Number(raw.sell_price ?? 0),\n              stock_qty: Number(raw.quantity ?? 0),\n            }))\n          : [];\n        if (!active) return;\n        setItems(list);\n      } catch (e: any) {\n        if (!active) return;\n        show({ variant: \"destructive\", title: \"Failed to load items\", description: e.message || \"\" });\n        setItems([]);\n      } finally {\n        if (active) setLoading(false);\n      }\n    }\n    async function loadBranches() {\n      try {\n        const token = getAccessToken();\n        const tenant = typeof window !== \"undefined\" ? localStorage.getItem(\"tenant_id\") : null;\n        const headers: HeadersInit = {\n          ...(token ? { Authorization: `Bearer ${token}` } : {}),\n          ...(tenant ? { \"X-Tenant-ID\": tenant } : {}),\n        };\n        const res = await fetch(`${API_BASE}/api/v1/admin/branches`, { headers });\n        if (!res.ok) return;\n        const b = await res.json();\n        if (!active) return;\n        if (Array.isArray(b)) setBranches(b);\n      } catch {}\n    }\n    // restore existing POS session id if present\n    try {\n      const sid = typeof window !== \"undefined\" ? localStorage.getItem(\"pos_session_id\") : null;\n      if (sid) setSessionId(sid);\n    } catch {}\n    load();\n    loadBranches();\n    // hydrate cart from server if we have a session id\n    (async () => {\n      const sid = typeof window !== \"undefined\" ? localStorage.getItem(\"pos_session_id\") : null;\n      if (sid) await serverGetCart(sid);\n    })();\n    return () => {\n      active = false;\n    };\n  }, [show]);\n\n  const filtered = useMemo(() => {\n    const q = query.trim().toLowerCase();\n    if (!q) return items;\n    return items.filter(\n      (it) => it.name.toLowerCase().includes(q) || it.sku.toLowerCase().includes(q)\n    );\n  }, [items, query]);\n\n  async function addToCart(item: Item) {\n    const sid = await ensureSession();\n    if (sid) {\n      await serverAddToCart(sid, item.id, 1);\n    } else {\n      // Fallback local if session cannot be created\n      setCart((prev) => {\n        const found = prev.find((l) => l.id === item.id);\n        if (found) return prev.map((l) => (l.id === item.id ? { ...l, qty: l.qty + 1 } : l));\n        return [...prev, { id: item.id, name: item.name, price: item.sale_price, qty: 1 }];\n      });\n    }\n  }\n\n  async function removeFromCart(id: string) {\n    if (sessionId) {\n      await serverRemoveFromCart(sessionId, id);\n    }\n    setCart((prev) => prev.filter((l) => l.id !== id));\n  }\n\n  async function updateQty(id: string, qty: number) {\n    if (qty <= 0) return removeFromCart(id);\n    const sid = await ensureSession();\n    if (sid) {\n      await serverAddToCart(sid, id, qty);\n    }\n    setCart((prev) => prev.map((l) => (l.id === id ? { ...l, qty } : l)));\n  }\n\n  const subtotal = useMemo(() => cart.reduce((s, l) => s + l.price * l.qty, 0), [cart]);\n  const tax = 0; // adjust when tax rules available\n  const total = subtotal + tax;\n\n  async function ensureSession(): Promise<string | null> {\n    if (sessionId) return sessionId;\n    try {\n      // Create session with cashier context\n      const me = await getAuthJSON<{ id: string }>(\"/api/v1/auth/me\");\n      const payload: any = { cashier_id: me?.id };\n      if (branchId.trim()) payload.branch_id = branchId.trim();\n      const res = await postAuthJSON<{ id: string }>(\"/api/v1/pos/sessions\", payload);\n      const id = (res as any)?.id;\n      if (id) {\n        setSessionId(id);\n        try {\n          if (typeof window !== \"undefined\") localStorage.setItem(\"pos_session_id\", id);\n        } catch {}\n        // Initialize fresh cart state from server\n        await serverGetCart(id);\n        return id;\n      }\n      return null;\n    } catch (e: any) {\n      show({ variant: \"destructive\", title: \"Session creation failed\", description: e.message || \"Provide POS session schema to finalize\" });\n      return null;\n    }\n  }\n\n  async function checkout() {\n    if (cart.length === 0) {\n      show({ variant: \"destructive\", title: \"Cart is empty\", description: \"Add items to proceed\" });\n      return;\n    }\n    if (isCheckingOut) return;\n    setIsCheckingOut(true);\n    const sid = await ensureSession();\n    if (!sid) {\n      setIsCheckingOut(false);\n      return;\n    }\n    const payload = {\n      items: cart.map((l) => ({ item_id: l.id, quantity: l.qty })),\n    };\n    try {\n      const tx = await postAuthJSON(`/api/v1/pos/sessions/${sid}/checkout`, payload);\r\n      show({ variant: \"success\", title: \"Checkout completed\" });\r\n      setCart([]);\r\n      setLastTxn(tx);\r\n      const rid = extractReceiptId(tx);\r\n      if (rid) {\r\n        router.push(`/dashboard/receipts/${rid}`);\r\n      }\r\n    } catch (e: any) {\r\n      const msg = String(e?.message || \"\");\r\n      const variant = msg.includes(\"409\") ? \"destructive\" : \"destructive\";\r\n      show({ variant: variant as any, title: \"Checkout failed\", description: msg || \"Please try again\" });\r\n    }\r\n    setIsCheckingOut(false);\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-12 gap-6\">\r\n      <section className=\"col-span-12 md:col-span-7\">\r\n        <div className=\"flex items-center justify-between mb-3\">\r\n          <h1 className=\"text-xl font-semibold\">Point of Sale</h1>\r\n          {loading ? (\r\n            <Skeleton className=\"h-9 w-64\" />\r\n          ) : (\r\n            <Input\r\n              value={query}\r\n              onChange={(e) => setQuery(e.target.value)}\r\n              placeholder=\"Search by name or SKU\"\r\n              className=\"w-64\"\r\n            />\r\n          )}\r\n        </div>\r\n        <div className=\"border rounded bg-white overflow-hidden\">\r\n          {loading ? (\r\n            <div className=\"max-h-[520px] overflow-auto divide-y\">\r\n              {Array.from({ length: 8 }).map((_, i) => (\r\n                <div key={i} className=\"flex items-center justify-between p-3\">\r\n                  <div className=\"space-y-2\">\r\n                    <Skeleton className=\"h-4 w-48\" />\r\n                    <Skeleton className=\"h-3 w-32\" />\r\n                  </div>\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <Skeleton className=\"h-4 w-16\" />\r\n                    <Skeleton className=\"h-9 w-20\" />\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"max-h-[520px] overflow-auto divide-y\">\r\n              {filtered.map((it) => (\r\n                <div key={it.id} className=\"flex items-center justify-between p-3\">\r\n                  <div>\r\n                    <div className=\"font-medium\">{it.name}</div>\r\n                    <div className=\"text-xs text-gray-500\">SKU: {it.sku}</div>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <div className=\"text-sm text-gray-700\">${it.sale_price.toFixed(2)}</div>\r\n                    <Button variant=\"outline\" onClick={() => addToCart(it)}>\r\n                      Add\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              {filtered.length === 0 && (\r\n                <div className=\"p-6 text-gray-500\">No matching items.</div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </section>\r\n\r\n      <aside className=\"col-span-12 md:col-span-5\">\r\n        <div className=\"border rounded bg-white\">\r\n          <div className=\"border-b p-3 font-medium flex items-center justify-between\">\r\n            <span>Cart</span>\r\n            <button\r\n              className=\"text-xs border rounded px-2 py-1 hover:bg-gray-50\"\r\n              onClick={() => {\r\n                setSessionId(null);\r\n                try {\r\n                  if (typeof window !== \"undefined\") localStorage.removeItem(\"pos_session_id\");\r\n                } catch {}\r\n                show({ variant: \"success\", title: \"New session ready\" });\r\n              }}\r\n            >\r\n              New Session\r\n            </button>\r\n          </div>\r\n          <div className=\"p-3 border-b flex items-center gap-2\">\r\n            <div className=\"text-xs text-gray-600\">Branch</div>\r\n            <select\r\n              value={branchId}\r\n              onChange={(e)=>setBranchId(e.target.value)}\r\n              className=\"border rounded px-2 py-2 text-sm w-80\"\r\n            >\r\n              <option value=\"\">Select a branch</option>\r\n              {branches.map((b)=> (\r\n                <option key={b.id} value={b.id}>{b.name}</option>\r\n              ))}\r\n            </select>\r\n            <div className=\"text-xs text-gray-500\">Choose before creating a new session</div>\r\n          </div>\r\n          {loading ? (\r\n            <div className=\"divide-y max-h-[420px] overflow-auto\">\r\n              {Array.from({ length: 4 }).map((_, i) => (\r\n                <div key={i} className=\"p-3 flex items-center justify-between gap-3\">\r\n                  <div className=\"min-w-0 space-y-2\">\r\n                    <Skeleton className=\"h-4 w-40\" />\r\n                    <Skeleton className=\"h-3 w-24\" />\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Skeleton className=\"h-9 w-20\" />\r\n                    <Skeleton className=\"h-4 w-12\" />\r\n                    <Skeleton className=\"h-9 w-24\" />\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"divide-y max-h-[420px] overflow-auto\">\r\n                {cart.map((l) => (\r\n                  <div key={l.id} className=\"p-3 flex items-center justify-between gap-3\">\r\n                    <div className=\"min-w-0\">\r\n                      <div className=\"truncate\">{l.name}</div>\r\n                      <div className=\"text-xs text-gray-500\">${l.price.toFixed(2)} each</div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Input\r\n                        type=\"number\"\r\n                        min={1}\r\n                        value={l.qty}\r\n                        onChange={(e) => updateQty(l.id, Number(e.target.value))}\r\n                        className=\"w-20\"\r\n                      />\r\n                      <div className=\"w-20 text-right font-medium\">${(l.price * l.qty).toFixed(2)}</div>\r\n                      <Button variant=\"outline\" onClick={() => removeFromCart(l.id)}>\r\n                        Remove\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n                {cart.length === 0 && (\r\n                  <div className=\"p-6 text-gray-500\">No items in cart.</div>\r\n                )}\r\n              </div>\r\n              <div className=\"border-t p-3 space-y-1 text-sm\">\r\n                <div className=\"flex justify-between\"><span>Subtotal</span><span>${subtotal.toFixed(2)}</span></div>\r\n                <div className=\"flex justify-between text-gray-600\"><span>Tax</span><span>${tax.toFixed(2)}</span></div>\r\n                <div className=\"flex justify-between font-semibold\"><span>Total</span><span>${total.toFixed(2)}</span></div>\r\n                <div className=\"flex gap-2 mt-2\">\r\n                  <Button className=\"flex-1\" onClick={checkout} disabled={isCheckingOut}>\r\n                    {isCheckingOut ? \"Processing...\" : \"Checkout\"}\r\n                  </Button>\r\n                  <Button variant=\"outline\" className=\"w-36\" onClick={clearCart}>\r\n                    Clear Cart\r\n                  </Button>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {lastTxn && (\r\n          <div className=\"border rounded bg-white mt-4\">\r\n            <details>\r\n              <summary className=\"cursor-pointer p-3 border-b font-medium\">Last Transaction</summary>\r\n              <div className=\"p-3 space-y-2\">\r\n                <pre className=\"text-xs overflow-auto max-h-64 bg-gray-50 p-2 rounded\">{JSON.stringify(lastTxn, null, 2)}</pre>\r\n                {extractReceiptId(lastTxn) && (\r\n                  <Button\r\n                    onClick={() => router.push(`/dashboard/receipts/${extractReceiptId(lastTxn)}`)}\r\n                  >\r\n                    View Receipt\r\n                  </Button>\r\n                )}\r\n                <Button variant=\"outline\" onClick={() => setLastTxn(null)}>Clear</Button>\r\n              </div>\r\n            </details>\r\n          </div>\r\n        )}\r\n      </aside>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}