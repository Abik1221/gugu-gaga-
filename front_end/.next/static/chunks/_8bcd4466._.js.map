{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/input.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\n\r\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className = \"\", ...props }, ref) => {\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        className={\r\n          \"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 \" +\r\n          className\r\n        }\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nInput.displayName = \"Input\";\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAKO,MAAM,sBAAQ,2KAAgB,MACnC,QAA+B;QAA9B,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IAC3B,qBACE,6LAAC;QACC,KAAK;QACL,WACE,uHACA;QAED,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/skeleton.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\nexport function Skeleton({ className = \"\" }: { className?: string }) {\r\n  return <div className={`animate-pulse bg-gray-200 rounded ${className}`} />;\r\n}\r\n\r\nexport function TableSkeletonRows({ rows = 6, cols = 6 }: { rows?: number; cols?: number }) {\r\n  return (\r\n    <tbody>\r\n      {Array.from({ length: rows }).map((_, r) => (\r\n        <tr key={r} className=\"border-t\">\r\n          {Array.from({ length: cols }).map((__, c) => (\r\n            <td key={c} className=\"px-3 py-2\">\r\n              <Skeleton className=\"h-4 w-full\" />\r\n            </td>\r\n          ))}\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;;AAGO,SAAS,SAAS,KAA0C;QAA1C,EAAE,YAAY,EAAE,EAA0B,GAA1C;IACvB,qBAAO,6LAAC;QAAI,WAAW,AAAC,qCAA8C,OAAV;;;;;;AAC9D;KAFgB;AAIT,SAAS,kBAAkB,KAAwD;QAAxD,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,EAAoC,GAAxD;IAChC,qBACE,6LAAC;kBACE,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAK,GAAG,GAAG,CAAC,CAAC,GAAG,kBACpC,6LAAC;gBAAW,WAAU;0BACnB,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAK,GAAG,GAAG,CAAC,CAAC,IAAI,kBACrC,6LAAC;wBAAW,WAAU;kCACpB,cAAA,6LAAC;4BAAS,WAAU;;;;;;uBADb;;;;;eAFJ;;;;;;;;;;AAUjB;MAdgB","debugId":null}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/app/%28dashboard%29/dashboard/affiliate/commissions/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useMemo, useState } from \"react\";\r\nimport { API_BASE, getAccessToken, getAuthJSON } from \"@/utils/api\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\n\r\ntype Me = { id: string; tenant_id?: string };\r\n\r\ntype CommissionRow = {\r\n  id: string;\r\n  affiliate: string;\r\n  amount: number;\r\n  currency: string;\r\n  status: string;\r\n  earned_at: string;\r\n};\r\n\r\nexport default function CommissionsListPage() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [me, setMe] = useState<Me | null>(null);\r\n  const [rows, setRows] = useState<CommissionRow[]>([]);\r\n\r\n  const [q, setQ] = useState(\"\");\r\n  const [status, setStatus] = useState<\"all\" | \"pending\" | \"approved\" | \"paid\">(\"all\");\r\n  const [range, setRange] = useState<\"all\" | \"7\" | \"30\" | \"90\">(\"all\");\r\n  const [page, setPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(10);\r\n\r\n  useEffect(() => {\r\n    let active = true;\r\n    async function load() {\r\n      try {\r\n        const m = await getAuthJSON<Me>(\"/api/v1/auth/me\");\r\n        if (!active) return;\r\n        setMe(m);\r\n        const token = getAccessToken();\r\n        const res = await fetch(`${API_BASE}/api/v1/admin/commissions`, {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n            ...(m?.tenant_id ? { \"X-Tenant-ID\": m.tenant_id } : {}),\r\n          },\r\n        });\r\n        if (!res.ok) throw new Error(await res.text().catch(() => \"Failed to load\"));\r\n        const data = (await res.json()) as CommissionRow[];\r\n        if (!active) return;\r\n        setRows(data);\r\n      } catch (e: any) {\r\n        if (!active) return;\r\n        setError(e.message || \"Failed to load commissions\");\r\n      } finally {\r\n        if (active) setLoading(false);\r\n      }\r\n    }\r\n    load();\r\n    return () => { active = false };\r\n  }, []);\r\n\r\n  const filtered = useMemo(() => {\r\n    const query = q.trim().toLowerCase();\r\n    const now = Date.now();\r\n    let list = rows;\r\n    if (status !== \"all\") list = list.filter(r => r.status.toLowerCase() === status);\r\n    if (range !== \"all\") {\r\n      const days = Number(range);\r\n      const since = now - days * 24 * 60 * 60 * 1000;\r\n      list = list.filter(r => new Date(r.earned_at).getTime() >= since);\r\n    }\r\n    if (query) list = list.filter(r => r.affiliate.toLowerCase().includes(query));\r\n    return list;\r\n  }, [rows, q, status, range]);\r\n\r\n  const totalPages = Math.max(1, Math.ceil(filtered.length / pageSize));\r\n  const pageSafe = Math.min(page, totalPages);\r\n  const paged = filtered.slice((pageSafe - 1) * pageSize, pageSafe * pageSize);\r\n\r\n  useEffect(() => { setPage(1); }, [q, status, range, pageSize]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        <Skeleton className=\"h-8 w-64\" />\r\n        <Skeleton className=\"h-10 w-full\" />\r\n        <div className=\"space-y-2\">{Array.from({ length: 8 }).map((_, i) => (<Skeleton key={i} className=\"h-14\" />))}</div>\r\n      </div>\r\n    );\r\n  }\r\n  if (error) return <div className=\"text-sm text-red-600\">{error}</div>;\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-xl font-semibold\">Commissions</h1>\r\n        <div className=\"flex items-center gap-2\">\r\n          <Input placeholder=\"Search affiliate\" value={q} onChange={(e)=>setQ(e.target.value)} className=\"w-64\" />\r\n          <select value={status} onChange={e=>setStatus(e.target.value as any)} className=\"border rounded px-2 py-2 text-sm\">\r\n            <option value=\"all\">All statuses</option>\r\n            <option value=\"pending\">Pending</option>\r\n            <option value=\"approved\">Approved</option>\r\n            <option value=\"paid\">Paid</option>\r\n          </select>\r\n          <select value={range} onChange={e=>setRange(e.target.value as any)} className=\"border rounded px-2 py-2 text-sm\">\r\n            <option value=\"all\">All time</option>\r\n            <option value=\"7\">Last 7 days</option>\r\n            <option value=\"30\">Last 30 days</option>\r\n            <option value=\"90\">Last 90 days</option>\r\n          </select>\r\n          <select value={pageSize} onChange={e=>setPageSize(Number(e.target.value))} className=\"border rounded px-2 py-2 text-sm\">\r\n            <option value={10}>10</option>\r\n            <option value={25}>25</option>\r\n            <option value={50}>50</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"border rounded bg-white divide-y\">\r\n        <div className=\"grid grid-cols-12 p-3 text-xs text-gray-600\">\r\n          <div className=\"col-span-4\">Affiliate</div>\r\n          <div className=\"col-span-2\">Amount</div>\r\n          <div className=\"col-span-2\">Currency</div>\r\n          <div className=\"col-span-2\">Status</div>\r\n          <div className=\"col-span-2\">Earned At</div>\r\n        </div>\r\n        {paged.map((r)=> (\r\n          <div key={r.id} className=\"grid grid-cols-12 p-3 items-center\">\r\n            <div className=\"col-span-4 truncate\">{r.affiliate}</div>\r\n            <div className=\"col-span-2\">{Number(r.amount).toFixed(2)}</div>\r\n            <div className=\"col-span-2\">{r.currency}</div>\r\n            <div className=\"col-span-2\">\r\n              <span className={`text-xs px-2 py-1 rounded ${r.status.toLowerCase()===\"pending\"?\"bg-amber-50 text-amber-700\":r.status.toLowerCase()===\"approved\"?\"bg-emerald-50 text-emerald-700\":\"bg-blue-50 text-blue-700\"}`}>{r.status}</span>\r\n            </div>\r\n            <div className=\"col-span-2 text-xs text-gray-600\">{new Date(r.earned_at).toLocaleDateString()}</div>\r\n          </div>\r\n        ))}\r\n        {paged.length === 0 && <div className=\"p-6 text-gray-500\">No results.</div>}\r\n      </div>\r\n\r\n      <div className=\"flex items-center justify-between text-sm\">\r\n        <div>Page {pageSafe} of {totalPages} â€¢ {filtered.length} result(s)</div>\r\n        <div className=\"flex gap-2\">\r\n          <Button variant=\"outline\" onClick={()=>setPage(p=>Math.max(1, p-1))} disabled={pageSafe<=1}>Previous</Button>\r\n          <Button variant=\"outline\" onClick={()=>setPage(p=>Math.min(totalPages, p+1))} disabled={pageSafe>=totalPages}>Next</Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}