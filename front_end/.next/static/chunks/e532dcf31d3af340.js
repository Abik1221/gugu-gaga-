(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4427,e=>{"use strict";e.s(["API_BASE",()=>t,"AdminAPI",()=>b,"AffiliateAPI",()=>w,"AuthAPI",()=>y,"BillingAPI",()=>k,"BranchAPI",()=>P,"ChatAPI",()=>C,"IntegrationsAPI",()=>x,"InventoryAPI",()=>T,"KYCAPI",()=>_,"MedicinesAPI",()=>q,"OrderAPI",()=>O,"OwnerAnalyticsAPI",()=>A,"OwnerChatAPI",()=>R,"PharmaciesAPI",()=>N,"SalesAPI",()=>E,"StaffAPI",()=>j,"SupplierAPI",()=>M,"SupplierAdminAPI",()=>U,"SupplierAnalyticsAPI",()=>I,"SupplierOnboardingAPI",()=>L,"TENANT_HEADER",()=>a,"TenantAPI",()=>g,"UploadAPI",()=>S,"authFetch",()=>h,"deleteAuthJSON",()=>f,"getAccessToken",()=>p,"getAuthJSON",()=>m,"postAuthJSON",()=>v,"postForm",()=>o,"postJSON",()=>l,"postMultipart",()=>d,"putAuthJSON",()=>c]);let t="https://mymesob.com/api/v1",a="X-Tenant-ID",r=t.replace(/\/+$/,""),i="";try{i=new URL(r).pathname.replace(/^\/+/,"").replace(/\/+$/,"")}catch(e){i=""}function s(e,t){let r={...e};return t&&(r[a]=t),r}function n(e){if(/^https?:\/\//i.test(e))return e;if(e.startsWith("?")||e.startsWith("#"))return"".concat(r).concat(e);let t=e.replace(/^\/+/,"");if(i){let e="".concat(i,"/");t.startsWith(e)?t=t.slice(e.length):t===i&&(t="")}return t?"".concat(r,"/").concat(t):r}async function o(e,t,a){let r=new URLSearchParams(t),i=await fetch(n(e),{method:"POST",headers:s({"Content-Type":"application/x-www-form-urlencoded"},a),body:r});if(!i.ok){let e=null;try{e=await i.json()}catch(t){e=await i.text().catch(()=>null)}let t=Error((e?"string"==typeof e?e:Array.isArray(e)?e.join(", "):(null==e?void 0:e.detail)?e.detail:(null==e?void 0:e.message)?e.message:(null==e?void 0:e.error)?e.error:(null==e?void 0:e.errors)?Object.keys(e.errors).map(t=>"".concat(t,": ").concat(Array.isArray(e.errors[t])?e.errors[t].join(", "):e.errors[t])).join(" | "):JSON.stringify(e):"Request failed with ".concat(i.status))||"Request failed with ".concat(i.status));throw t.status=i.status,t.body=e,t}return await i.json()}async function l(e,t,a){let r={method:"POST",headers:s({"Content-Type":"application/json"},a),body:JSON.stringify(t)};try{let t=await fetch(n(e),r);if(!t.ok){let e=null,a="";try{e=await t.json(),(a="string"==typeof e?e:Array.isArray(e)?e.join(", "):(null==e?void 0:e.error)||(null==e?void 0:e.detail)||(null==e?void 0:e.message)||"")||!e||(a=JSON.stringify(e))}catch(r){e=null,a=await t.text().catch(()=>"")}let r=Error(a||"Request failed with ".concat(t.status));throw r.status=t.status,null!==e&&(r.body=e),r}return await t.json()}catch(e){throw e}}async function c(e,t,a){let r=await h(e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},!0,a);if(!r.ok)throw Error(await r.text().catch(()=>"")||"Request failed with ".concat(r.status));return await r.json()}async function d(e,t,a){let r=await fetch(n(e),{method:"POST",headers:s(void 0,a),body:t});if(!r.ok)try{let e=await r.json(),t=(null==e?void 0:e.error)||(null==e?void 0:e.detail)||JSON.stringify(e);throw Error(t||"Request failed with ".concat(r.status))}catch(e){throw Error("Request failed with ".concat(r.status))}return await r.json()}function p(){return localStorage.getItem("access_token")||localStorage.getItem("token")}async function u(){let e=localStorage.getItem("refresh_token");if(!e)return!1;let t=await fetch(n("/api/v1/auth/refresh"),{method:"POST",headers:s({"Content-Type":"application/json"}),body:JSON.stringify({refresh_token:e})});if(!t.ok)return!1;try{let e=await t.json();return localStorage.setItem("access_token",e.access_token),localStorage.setItem("refresh_token",e.refresh_token),!0}catch(e){return!1}}async function h(e,t){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=arguments.length>3?arguments[3]:void 0,i=p(),o=s({...(null==t?void 0:t.headers)||{},...i?{Authorization:"Bearer ".concat(i)}:{}},r),l=await fetch(n(e),{...t||{},headers:o});if(401===l.status&&a&&await u()){let a=p(),i=s({...(null==t?void 0:t.headers)||{},...a?{Authorization:"Bearer ".concat(a)}:{}},r);l=await fetch(n(e),{...t||{},headers:i})}return l}async function m(e,t){let a=await h(e,void 0,!0,t);if(!a.ok)throw Error(await a.text().catch(()=>"")||"Request failed with ".concat(a.status));return await a.json()}async function v(e,t,a){let r=await h(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},!0,a);if(!r.ok)throw Error(await r.text().catch(()=>"")||"Request failed with ".concat(r.status));return await r.json()}async function f(e,t){let a=await h(e,{method:"DELETE",headers:{"Content-Type":"application/json"}},!0,t);if(!a.ok)throw Error(await a.text().catch(()=>"")||"Request failed with ".concat(a.status));try{return await a.json()}catch(e){return}}let y={registerAffiliate:e=>l("/api/v1/auth/register/affiliate",e),registerPharmacy:e=>l("/api/v1/auth/register/owner",e),registerSupplier:e=>l("/api/v1/auth/register/supplier",e),registerVerify:async(e,t)=>{try{return await o("/api/v1/auth/register/verify",{email:e,code:t})}catch(a){if((null==a?void 0:a.status)===422)try{return await l("/api/v1/auth/register/verify",{email:e,code:t})}catch(t){let e=Error((null==t?void 0:t.message)||(null==a?void 0:a.message)||"Verification failed");throw e.original=a,e.retry=t,e}throw a}},verifyRegistration:(e,t)=>o("/api/v1/auth/register/verify",{email:e,code:t}),login:(e,t,a)=>o("/api/v1/auth/login",{username:e,password:t,grant_type:"password"},a).then(e=>(localStorage.setItem("access_token",e.access_token),localStorage.setItem("refresh_token",e.refresh_token),e)),loginRequestCode:(e,t,a)=>o("/api/v1/auth/login/request-code",{username:e,password:t,grant_type:"password"},a),loginVerify:(e,t,a)=>l("/api/v1/auth/login/verify",{email:e,code:t},a).then(e=>(localStorage.setItem("access_token",e.access_token),localStorage.setItem("refresh_token",e.refresh_token),e)),refresh:e=>l("/api/v1/auth/refresh",{refresh_token:e}),sessions:()=>m("/api/v1/auth/sessions"),revokeSession:e=>h("/api/v1/auth/sessions/".concat(e),{method:"DELETE"}).then(e=>{if(!e.ok)throw Error("Failed to revoke session")}),changePassword:e=>v("/api/v1/auth/change-password",e),me:()=>m("/api/v1/auth/me")},g={activity:async(e,t)=>{var a;let r=new URLSearchParams;(null==e?void 0:e.limit)&&r.set("limit",e.limit.toString()),(null==e?void 0:e.offset)&&r.set("offset",e.offset.toString()),null==e||null==(a=e.action)||a.forEach(e=>r.append("action",e));let i=r.toString(),s=await h("/api/v1/tenant/activity".concat(i?"?".concat(i):""),void 0,!0,t);if(404===s.status||204===s.status)return[];if(!s.ok)throw Error(await s.text().catch(()=>"")||"Request failed with ".concat(s.status));if(!(s.headers.get("content-type")||"").includes("application/json"))return[];try{return await s.json()}catch(e){return[]}}},x={listProviders:()=>m("/api/v1/integrations/providers"),listConnections:e=>m("/api/v1/integrations/connections",e),startOAuth:(e,t,a)=>v("/api/v1/integrations/oauth/start",{provider_key:t,resources:a,display_name:void 0},e),completeOAuth:(e,t,a)=>l("/api/v1/integrations/oauth/callback",{code:e,state:t,provider_key:a}),disconnect:(e,t)=>h("/api/v1/integrations/connections/".concat(t),{method:"DELETE"},!0,e).then(async e=>{if(!e.ok)throw Error(await e.text().catch(()=>"")||"HTTP ".concat(e.status));return e.json()}),triggerSync:(e,t,a,r)=>v("/api/v1/integrations/connections/".concat(t,"/sync"),{resource:a,direction:r},e)},w={getLinks:()=>m("/api/v1/affiliate/register-link",""),createLink:()=>m("/api/v1/affiliate/register-link?create_new=true",""),deactivate:e=>v("/api/v1/affiliate/links/".concat(encodeURIComponent(e),"/deactivate"),{},""),rotate:e=>v("/api/v1/affiliate/links/".concat(encodeURIComponent(e),"/rotate"),{},""),dashboard:()=>m("/api/v1/affiliate/dashboard",""),payouts:e=>m("/api/v1/affiliate/payouts".concat(e?"?status_filter=".concat(encodeURIComponent(e)):""),""),requestPayout:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return v("/api/v1/affiliate/payouts/request",{month:e,percent:t},"")},requestPayoutWithBankDetails:e=>v("/api/v1/affiliate/payouts/request",e,""),updateProfile:e=>v("/api/v1/affiliate/profile",e,"")},b={analyticsOverview:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return m("/api/v1/admin/analytics/overview?days=".concat(e))},pharmacySummary:()=>m("/api/v1/admin/pharmacies/summary"),pharmacies:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return m("/api/v1/admin/pharmacies?page=".concat(e,"&page_size=").concat(t,"&q=").concat(encodeURIComponent(a)))},approvePharmacy:(e,t,a)=>v("/api/v1/admin/pharmacies/".concat(t,"/approve"),a||{},e),rejectPharmacy:(e,t)=>v("/api/v1/admin/pharmacies/".concat(t,"/reject"),{},e),verifyPayment:(e,t)=>v("/api/v1/admin/payments/verify",{code:t||null},e),rejectPayment:(e,t)=>v("/api/v1/admin/payments/reject",{code:t||null},e),approveAffiliate:e=>v("/api/v1/admin/affiliates/".concat(e,"/approve"),{}),rejectAffiliate:e=>v("/api/v1/admin/affiliates/".concat(e,"/reject"),{}),affiliates:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return m("/api/v1/admin/affiliates?page=".concat(e,"&page_size=").concat(t,"&q=").concat(encodeURIComponent(a)))},usage:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:14;return m("/api/v1/admin/usage?days=".concat(e))},audit:e=>{let t=new URLSearchParams;return e.tenant_id&&t.set("tenant_id",e.tenant_id),e.action&&t.set("action",e.action),e.limit&&t.set("limit",e.limit.toString()),m("/api/v1/admin/audit".concat(t.toString()?"?".concat(t.toString()):""))}},j={createCashier:(e,t)=>v("/api/v1/staff",t,e),list:e=>m("/api/v1/staff",e),update:(e,t,a)=>h("/api/v1/staff/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)},!0,e).then(async e=>{if(!e.ok)throw Error(await e.text().catch(()=>"")||"Request failed with ".concat(e.status));return e.json()}),remove:(e,t)=>h("/api/v1/staff/".concat(t),{method:"DELETE"},!0,e).then(async e=>{if(!e.ok)throw Error(await e.text().catch(()=>"")||"Request failed with ".concat(e.status));return e.json()})},k={submitPaymentCode:(e,t)=>v("/api/v1/owner/billing/payment-code",{code:t},e)},S={uploadKyc:async e=>{let t=new FormData;return t.append("file",e),d("/uploads/kyc",t)}},_={status:e=>m("/api/v1/owner/kyc/status",e),update:(e,t)=>c("/api/v1/owner/kyc/status",t,e)},N={list:(e,t)=>{var a,r;let i=new URLSearchParams;i.set("page",String(null!=(a=null==t?void 0:t.page)?a:1)),i.set("page_size",String(null!=(r=null==t?void 0:t.page_size)?r:20)),(null==t?void 0:t.q)&&i.set("q",t.q);let s=i.toString();return m("/api/v1/pharmacies".concat(s?"?".concat(s):""),e)},get:(e,t)=>m("/api/v1/pharmacies/".concat(e),t),update:(e,t,a)=>h("/api/v1/pharmacies/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},!0,a).then(async e=>{if(!e.ok)throw Error(await e.text());return await e.json()})},P={create:(e,t)=>v("/api/v1/branches",t,e),list:(e,t)=>m("/api/v1/branches".concat(t?"?pharmacy_id=".concat(t):""),e),get:(e,t)=>m("/api/v1/branches/".concat(t),e),update:(e,t,a)=>c("/api/v1/branches/".concat(t),a,e),delete:(e,t)=>f("/api/v1/branches/".concat(t),e)},C={listThreads:e=>m("/api/v1/chat/threads",e),createThread:(e,t)=>v("/api/v1/chat/threads",t?{title:t}:{},e),listMessages:(e,t)=>m("/api/v1/chat/threads/".concat(t,"/messages"),e),sendMessage:(e,t,a)=>v("/api/v1/chat/threads/".concat(t,"/messages"),{prompt:a},e),usage:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;return m("/api/v1/chat/usage?days=".concat(t),e)}},A={overview:(e,t)=>{let a=new URLSearchParams;(null==t?void 0:t.horizon)&&a.set("horizon",t.horizon),(null==t?void 0:t.trendWeeks)&&a.set("trend_weeks",String(t.trendWeeks)),(null==t?void 0:t.days)&&a.set("days",String(t.days));let r=a.toString();return m("/api/v1/analytics/owner/overview".concat(r?"?".concat(r):""),e)}},I={overview:e=>{let t=new URLSearchParams;e&&t.set("days",String(e));let a=t.toString();return m("/api/v1/analytics/supplier/overview".concat(a?"?".concat(a):""))}},R={listThreads:e=>m("/api/v1/owner/chat/threads",e),createThread:(e,t)=>v("/api/v1/owner/chat/threads",{title:t},e),listMessages:(e,t)=>m("/api/v1/owner/chat/threads/".concat(t,"/messages"),e),sendMessage:(e,t,a)=>v("/api/v1/owner/chat/threads/".concat(t,"/messages"),{prompt:a},e)},T={list:(e,t)=>{let a=new URLSearchParams;(null==t?void 0:t.q)&&a.set("q",t.q),(null==t?void 0:t.branch)&&a.set("branch",t.branch),"number"==typeof(null==t?void 0:t.expiringInDays)&&a.set("expiring_in_days",String(t.expiringInDays)),(null==t?void 0:t.lowStockOnly)&&a.set("low_stock_only","true"),(null==t?void 0:t.page)&&a.set("page",String(t.page)),(null==t?void 0:t.pageSize)&&a.set("page_size",String(t.pageSize));let r=a.toString();return m("/api/v1/inventory/items".concat(r?"?".concat(r):""),e)},create:async(e,t)=>{let a=new URLSearchParams;a.set("medicine_id",String(t.medicine_id)),a.set("pack_size",String(Math.max(1,t.pack_size||1))),t.branch&&a.set("branch",t.branch),"number"==typeof t.packs_count&&a.set("packs_count",String(Math.max(0,t.packs_count))),"number"==typeof t.singles_count&&a.set("singles_count",String(Math.max(0,t.singles_count))),t.expiry_date&&a.set("expiry_date",t.expiry_date),t.lot_number&&a.set("lot_number",t.lot_number),"number"==typeof t.purchase_price&&a.set("purchase_price",String(t.purchase_price)),"number"==typeof t.sell_price&&a.set("sell_price",String(t.sell_price)),"number"==typeof t.reorder_level&&a.set("reorder_level",String(Math.max(0,t.reorder_level)));let r=await h("/api/v1/inventory/items",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a.toString()},!0,e);if(!r.ok)throw Error(await r.text().catch(()=>"")||"Request failed with ".concat(r.status));return r.json()},update:async(e,t,a)=>{let r=new URLSearchParams;"number"==typeof a.quantity&&r.set("quantity",String(a.quantity)),"number"==typeof a.reorder_level&&r.set("reorder_level",String(Math.max(0,a.reorder_level))),"number"==typeof a.sell_price&&r.set("sell_price",String(a.sell_price)),void 0!==a.expiry_date&&r.set("expiry_date",a.expiry_date||""),void 0!==a.lot_number&&r.set("lot_number",a.lot_number||"");let i=await h("/api/v1/inventory/items/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r.toString()},!0,e);if(!i.ok)throw Error(await i.text().catch(()=>"")||"Request failed with ".concat(i.status));return i.json()},remove:async(e,t)=>{let a=await h("/api/v1/inventory/items/".concat(t),{method:"DELETE"},!0,e);if(!a.ok)throw Error(await a.text().catch(()=>"")||"Request failed with ".concat(a.status));return a.json()}},q={list:(e,t)=>{let a=new URLSearchParams;return(null==t?void 0:t.q)&&a.set("q",t.q),(null==t?void 0:t.page)&&a.set("page",String(t.page)),(null==t?void 0:t.pageSize)&&a.set("page_size",String(Math.min(200,Math.max(1,t.pageSize)))),m("/api/v1/medicines".concat(a.toString()?"?".concat(a.toString()):""),e)}},E={pos:(e,t)=>{let{lines:a,branch:r}=t,i=r?"?branch=".concat(encodeURIComponent(r)):"";return v("/api/v1/sales/pos".concat(i),a,e)}},M={getProfile:()=>m("/api/v1/suppliers/profile"),createProfile:e=>v("/api/v1/suppliers/profile",e),updateProfile:e=>c("/api/v1/suppliers/profile",e),getProducts:()=>m("/api/v1/suppliers/products"),createProduct:e=>v("/api/v1/suppliers/products",e),updateProduct:(e,t)=>c("/api/v1/suppliers/products/".concat(e),t),deleteProduct:e=>f("/api/v1/suppliers/products/".concat(e)),getOrders:()=>m("/api/v1/suppliers/orders"),approveOrder:e=>c("/api/v1/suppliers/orders/".concat(e,"/approve"),{}),rejectOrder:e=>c("/api/v1/suppliers/orders/".concat(e,"/reject"),{}),verifyPayment:e=>c("/api/v1/suppliers/orders/".concat(e,"/verify-payment"),{}),markDelivered:e=>c("/api/v1/suppliers/orders/".concat(e,"/mark-delivered"),{}),browse:e=>m("/api/v1/suppliers/browse",e),getSupplierProducts:(e,t)=>m("/api/v1/suppliers/".concat(e,"/products"),t)},O={create:(e,t)=>v("/api/v1/orders",e,t),list:e=>m("/api/v1/orders",e),get:(e,t)=>m("/api/v1/orders/".concat(e),t),submitPaymentCode:(e,t,a)=>c("/api/v1/orders/".concat(e,"/payment-code"),{code:t},a),createReview:(e,t,a)=>v("/api/v1/orders/".concat(e,"/review"),t,a),getReview:(e,t)=>m("/api/v1/orders/".concat(e,"/review"),t)},L={getStatus:()=>m("/api/v1/supplier-onboarding/status"),submitKYC:e=>v("/api/v1/supplier-onboarding/kyc/submit",e),getKYCStatus:()=>m("/api/v1/supplier-onboarding/kyc/status"),submitPayment:e=>v("/api/v1/supplier-onboarding/payment/submit",e),getPaymentStatus:()=>m("/api/v1/supplier-onboarding/payment/status")},U={getSuppliers:()=>m("/api/v1/admin/suppliers"),getPendingKYC:()=>m("/api/v1/admin/suppliers/kyc/pending"),approveKYC:e=>v("/api/v1/admin/suppliers/".concat(e,"/kyc/approve"),{}),rejectKYC:(e,t)=>v("/api/v1/admin/suppliers/".concat(e,"/kyc/reject"),{notes:t}),getPendingPayments:()=>m("/api/v1/admin/suppliers/payments/pending"),verifyPayment:e=>v("/api/v1/admin/suppliers/payments/".concat(e,"/verify"),{}),rejectPayment:(e,t)=>v("/api/v1/admin/suppliers/payments/".concat(e,"/reject"),{notes:t})}},23750,e=>{"use strict";e.s(["Input",()=>a]);var t=e.i(43476);let a=e.i(71645).forwardRef((e,a)=>{let{className:r="",...i}=e;return(0,t.jsx)("input",{ref:a,className:"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 "+r,...i})});a.displayName="Input"},71428,e=>{"use strict";e.s(["Skeleton",()=>a,"TableSkeletonRows",()=>r]);var t=e.i(43476);function a(e){let{className:a=""}=e;return(0,t.jsx)("div",{className:"animate-pulse bg-gray-200 rounded ".concat(a)})}function r(e){let{rows:r=6,cols:i=6}=e;return(0,t.jsx)("tbody",{children:Array.from({length:r}).map((e,r)=>(0,t.jsx)("tr",{className:"border-t",children:Array.from({length:i}).map((e,r)=>(0,t.jsx)("td",{className:"px-3 py-2",children:(0,t.jsx)(a,{className:"h-4 w-full"})},r))},r))})}},70065,e=>{"use strict";e.s(["Card",()=>i,"CardContent",()=>o,"CardFooter",()=>l,"CardHeader",()=>s,"CardTitle",()=>n]);var t=e.i(43476),a=e.i(71645),r=e.i(47163);let i=a.forwardRef((e,a)=>{let{className:i,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-2xl border border-white/20 bg-white/70 p-6 shadow-[0_20px_70px_-40px_rgba(16,185,129,0.65)] backdrop-blur-md",i),...s})});i.displayName="Card";let s=a.forwardRef((e,a)=>{let{className:i,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("mb-3 flex items-center justify-between gap-4",i),...s})});s.displayName="CardHeader";let n=a.forwardRef((e,a)=>{let{className:i,...s}=e;return(0,t.jsx)("h4",{ref:a,className:(0,r.cn)("text-lg font-semibold leading-tight text-emerald-900",i),...s})});n.displayName="CardTitle";let o=a.forwardRef((e,a)=>{let{className:i,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("text-sm leading-relaxed text-slate-700",i),...s})});o.displayName="CardContent";let l=a.forwardRef((e,a)=>{let{className:i,...s}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("mt-4 flex flex-wrap items-center justify-between gap-3",i),...s})});l.displayName="CardFooter"},61911,e=>{"use strict";e.s(["Users",()=>t],61911);let t=(0,e.i(75254).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},12426,e=>{"use strict";e.s(["DollarSign",()=>t],12426);let t=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},75822,e=>{"use strict";e.s(["Coins",()=>t],75822);let t=(0,e.i(75254).default)("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]])},20278,e=>{"use strict";e.s(["Target",()=>t],20278);let t=(0,e.i(75254).default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},26943,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},74886,40928,16715,e=>{"use strict";e.s(["Copy",()=>a],74886);var t=e.i(75254);let a=(0,t.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Pointer",()=>r],40928);let r=(0,t.default)("pointer",[["path",{d:"M22 14a8 8 0 0 1-8 8",key:"56vcr3"}],["path",{d:"M18 11v-1a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1agjmk"}],["path",{d:"M14 10V9a2 2 0 0 0-2-2a2 2 0 0 0-2 2v1",key:"wdbh2u"}],["path",{d:"M10 9.5V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v10",key:"1ibuk9"}],["path",{d:"M18 11a2 2 0 1 1 4 0v3a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"g6ys72"}]]);e.s(["RefreshCw",()=>i],16715);let i=(0,t.default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},81150,e=>{"use strict";e.s(["default",()=>k],81150);var t=e.i(43476),a=e.i(71645),r=e.i(46932),i=e.i(75822),s=e.i(74886),n=e.i(12426),o=e.i(26943),o=o,l=e.i(40928),c=e.i(16715),d=e.i(20278),p=e.i(61911),u=e.i(4427),h=e.i(71428),m=e.i(67881),v=e.i(23750),f=e.i(6799),y=e.i(70065),g=e.i(47163);function x(e){let{title:a,value:r,description:i,icon:s,className:n}=e;return(0,t.jsx)(y.Card,{className:(0,g.cn)("border border-white/10 bg-gradient-to-br from-emerald-500/10 via-slate-950/70 to-blue-600/10 text-white shadow-[0_18px_55px_-35px_rgba(255,255,255,0.55)] transition hover:-translate-y-1 hover:shadow-[0_28px_85px_-40px_rgba(255,255,255,0.55)] backdrop-blur-xl",n),children:(0,t.jsxs)(y.CardContent,{className:"flex items-start justify-between gap-3 p-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-emerald-200",children:a}),(0,t.jsx)("p",{className:"mt-3 text-2xl font-semibold text-white",children:r}),i&&(0,t.jsx)("p",{className:"mt-3 text-xs text-emerald-100/70",children:i})]}),s&&(0,t.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl bg-white/15 text-emerald-200 shadow-inner shadow-emerald-500/10",children:s})]})})}function w(e){let{label:a,value:r}=e;return(0,t.jsx)(y.Card,{className:"border border-white/10 bg-gradient-to-br from-slate-900/70 via-emerald-600/10 to-blue-600/10 text-white shadow-[0_12px_45px_-30px_rgba(59,130,246,0.45)]",children:(0,t.jsxs)(y.CardContent,{className:"space-y-2 p-4",children:[(0,t.jsx)("p",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-emerald-200/80",children:a}),(0,t.jsx)("div",{className:"text-xl font-semibold leading-tight text-white break-words",children:r})]})})}function b(e){let{title:a,description:r,children:i}=e;return(0,t.jsxs)(y.Card,{className:"border border-black/40 bg-gradient-to-br from-black via-slate-950 to-slate-900 text-white shadow-[0_20px_60px_-35px_rgba(255,255,255,0.6)] backdrop-blur-xl",children:[(0,t.jsxs)(y.CardHeader,{className:"mb-0 space-y-1 pb-0",children:[(0,t.jsx)(y.CardTitle,{className:"text-lg text-white",children:a}),r&&(0,t.jsx)("p",{className:"text-xs text-emerald-100/70",children:r})]}),(0,t.jsx)(y.CardContent,{className:"pt-5",children:i})]})}function j(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0)}function k(){var e,y,g,k,S;let{show:_}=(0,f.useToast)(),[N,P]=(0,a.useState)(!0),[C,A]=(0,a.useState)(null),[I,R]=(0,a.useState)(null),[T,q]=(0,a.useState)([]),[E,M]=(0,a.useState)(!0),[O,L]=(0,a.useState)(""),[U,z]=(0,a.useState)(5),[D,B]=(0,a.useState)(!1);async function J(){P(!0);try{let[e,t]=await Promise.all([u.AffiliateAPI.dashboard(),u.AffiliateAPI.getLinks()]);if(R(e),(null==e?void 0:e.year)&&(null==e?void 0:e.month)){let t="".concat(e.year,"-").concat(String(e.month).padStart(2,"0"));L(t)}(null==e?void 0:e.percent)&&z(e.percent),q(t.links||[]),M(!!t.can_create_more),A(null)}catch(e){A(e.message||"Failed to load affiliate data"),_({variant:"destructive",title:"Error",description:e.message||"Failed to load"})}finally{P(!1)}}(0,a.useEffect)(()=>{J()},[]);let F=(0,a.useMemo)(()=>{var e,t;return{referrals:(null==I?void 0:I.referrals_count)||0,currentCommission:(null==I?void 0:I.amount)||0,pendingPayout:(null==I||null==(e=I.payouts)?void 0:e.pending_total)||0,paidPayout:(null==I||null==(t=I.payouts)?void 0:t.paid_total)||0}},[I]),H=(0,a.useMemo)(()=>[{title:"Active referrals",value:F.referrals.toLocaleString(),description:"Pharmacies you’ve successfully onboarded",icon:p.Users},{title:"Current commission",value:j(F.currentCommission),description:"Projected payout for this period",icon:i.Coins},{title:"Pending payouts",value:j(F.pendingPayout),description:"Awaiting review & processing",icon:n.DollarSign},{title:"Paid to date",value:j(F.paidPayout),description:"Total earnings transferred to you",icon:d.Target}],[F]),Y=(0,a.useMemo)(()=>{if(!(null==I?void 0:I.month)||!(null==I?void 0:I.year))return"current period";try{return new Date(I.year,I.month-1).toLocaleDateString("en-US",{month:"long",year:"numeric"})}catch(e){return"".concat(I.year,"-").concat(String(I.month).padStart(2,"0"))}},[null==I?void 0:I.month,null==I?void 0:I.year]),K=null!=(g=null==I||null==(e=I.tenants)?void 0:e.length)?g:0,W=(null!=(k=null==I?void 0:I.amount)?k:0)>0,V="You haven't earned any commission yet. Share your referral link to start earning before requesting a payout.";async function G(){try{await u.AffiliateAPI.createLink(),await J(),_({variant:"success",title:"Link created"})}catch(e){_({variant:"destructive",title:"Failed to create link",description:e.message})}}async function $(e){try{await u.AffiliateAPI.deactivate(e),await J(),_({variant:"success",title:"Link deactivated"})}catch(e){_({variant:"destructive",title:"Failed to deactivate",description:e.message})}}async function X(e){try{await u.AffiliateAPI.rotate(e),await J(),_({variant:"success",title:"Link rotated"})}catch(e){_({variant:"destructive",title:"Failed to rotate",description:e.message})}}async function Z(e){try{var t;if("undefined"!=typeof navigator&&(null==(t=navigator.clipboard)?void 0:t.writeText))await navigator.clipboard.writeText(e),_({variant:"success",title:"Link copied",description:"Referral link copied to clipboard."});else throw Error("Clipboard not available")}catch(e){_({variant:"destructive",title:"Copy failed",description:(null==e?void 0:e.message)||"Unable to copy link on this device"})}}async function Q(){if(!O)return void _({variant:"destructive",title:"Missing month",description:"Select a month to request payment for."});if(!W)return void _({variant:"default",title:"No earnings yet",description:V});B(!0);try{await u.AffiliateAPI.requestPayout(O,U||5),_({variant:"success",title:"Payout requested",description:"We will review and notify you once processed."}),await J()}catch(e){_({variant:"destructive",title:"Failed to request payout",description:e.message||"Try again later"})}finally{B(!1)}}return N?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(h.Skeleton,{className:"h-8 w-64"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Array.from({length:4}).map((e,a)=>(0,t.jsx)(h.Skeleton,{className:"h-24"},a))}),(0,t.jsx)(h.Skeleton,{className:"h-8 w-40"}),(0,t.jsx)(h.Skeleton,{className:"h-64"})]}):C?(0,t.jsx)("div",{className:"text-sm text-red-600",children:C}):(0,t.jsxs)("div",{className:"space-y-10 p-12",children:[(0,t.jsxs)(r.motion.div,{initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.45,ease:"easeOut"},className:"relative overflow-hidden rounded-3xl border border-emerald-100/40  p-8 text-white shadow-[0_25px_80px_-40px_rgba(255,255,255,0.55)]",children:[(0,t.jsxs)("div",{className:"absolute inset-0",children:[(0,t.jsx)("div",{className:"absolute -top-16 right-10 h-40 w-40 rounded-full bg-emerald-400/30 blur-3xl"}),(0,t.jsx)("div",{className:"absolute bottom-0 left-0 h-48 w-48 -translate-x-1/2 translate-y-1/2 rounded-full bg-blue-500/20 blur-3xl"})]}),(0,t.jsxs)("div",{className:"relative flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[(0,t.jsxs)("div",{className:"max-w-xl space-y-4",children:[(0,t.jsx)("p",{className:"inline-flex items-center gap-2 rounded-full border border-white/20 bg-white/10 px-4 py-1 text-xs font-semibold uppercase tracking-[0.25em] text-emerald-100/80",children:"Affiliate control hub"}),(0,t.jsx)("h1",{className:"text-3xl font-bold leading-tight sm:text-4xl",children:"Welcome back, partner. Let’s grow your pharmacy network."}),(0,t.jsx)("p",{className:"text-sm text-emerald-100/80 sm:text-base",children:"Monitor conversions, unlock commissions, and manage referral links in one streamlined experience designed to match the new Zemen aesthetic."}),(0,t.jsxs)("div",{className:"flex flex-col gap-3 pt-2 sm:flex-row sm:items-center",children:[(0,t.jsxs)(m.Button,{onClick:G,disabled:!E,className:"group h-12 cursor-pointer rounded-3xl bg-gradient-to-r from-emerald-500 via-emerald-400 to-blue-500 px-7 text-sm font-semibold text-white shadow-[0_18px_55px_-30px_rgba(16,185,129,0.7)] transition duration-200 hover:-translate-y-0.5 hover:shadow-[0_24px_70px_-35px_rgba(16,185,129,0.75)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-300 focus-visible:ring-offset-2 focus-visible:ring-offset-slate-950 disabled:cursor-not-allowed disabled:opacity-60",children:[(0,t.jsx)("span",{className:"mr-2 inline-flex h-8 w-8 items-center justify-center rounded-2xl bg-white/15 text-white transition group-hover:scale-105",children:(0,t.jsx)(l.Pointer,{className:"h-4 w-4"})}),(0,t.jsx)(o.default,{className:"mr-2 h-4 w-4 transition-transform group-hover:-rotate-6"}),E?"Generate referral link":"Link limit reached"]}),(0,t.jsxs)(m.Button,{onClick:J,variant:"outline",className:"h-11 cursor-pointer rounded-2xl border-white/30 bg-white/5 px-5 text-sm font-semibold text-emerald-100 transition hover:-translate-y-0.5 hover:border-emerald-300/60 hover:bg-white/15",children:[(0,t.jsx)(c.RefreshCw,{className:"mr-2 h-4 w-4"})," Refresh data"]})]}),(0,t.jsxs)("p",{className:"text-xs text-emerald-100/70",children:[T.length," of 2 active links in use · ",E?"Generate a new link to start sharing":"Deactivate one to free a slot"]}),(0,t.jsx)("div",{className:"mt-5 space-y-3",children:0===T.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 rounded-2xl border border-dashed border-white/20 bg-white/5 p-6 text-center text-sm text-emerald-100/70",children:[(0,t.jsx)(o.default,{className:"h-8 w-8 text-emerald-300"}),(0,t.jsx)("p",{children:"No referral links yet. Generate one to start sharing."})]}):T.map(e=>{let a=e.active?"bg-emerald-500/15 text-emerald-300":"bg-slate-200/30 text-slate-200";return(0,t.jsxs)("div",{className:"flex flex-col gap-4 rounded-2xl border border-white/10 bg-black/40 p-4 shadow-sm backdrop-blur sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{className:"flex items-center gap-2 text-sm font-semibold text-white",children:[(0,t.jsx)(o.default,{className:"h-4 w-4"})," Referral link",(0,t.jsx)("span",{className:"inline-flex items-center rounded-full px-2 py-0.5 text-[10px] font-semibold uppercase tracking-widest ".concat(a),children:e.active?"Active":"Inactive"})]}),(0,t.jsx)("p",{className:"font-mono text-xs text-emerald-100/80 break-all",children:e.url})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,t.jsxs)(m.Button,{size:"sm",variant:"outline",onClick:()=>Z(e.url),className:"cursor-pointer rounded-xl border-emerald-300/30 bg-emerald-500/10 text-emerald-100 transition hover:-translate-y-0.5 hover:border-emerald-200 hover:bg-emerald-500/20",children:[(0,t.jsx)(s.Copy,{className:"mr-1.5 h-4 w-4"})," Copy"]}),(0,t.jsx)(m.Button,{size:"sm",variant:"outline",onClick:()=>$(e.token),disabled:!e.active,className:"cursor-pointer rounded-xl border-rose-300/30 bg-rose-500/10 text-rose-100 transition hover:-translate-y-0.5 hover:border-rose-300 hover:bg-rose-500/20 disabled:cursor-not-allowed disabled:opacity-50",children:"Deactivate"}),(0,t.jsxs)(m.Button,{size:"sm",variant:"outline",onClick:()=>X(e.token),className:"cursor-pointer rounded-xl border-cyan-300/30 bg-cyan-500/10 text-cyan-100 transition hover:-translate-y-0.5 hover:border-cyan-200 hover:bg-cyan-500/20",children:[(0,t.jsx)(c.RefreshCw,{className:"mr-1.5 h-4 w-4"})," Rotate"]})]})]},e.token)})})]}),(0,t.jsxs)("div",{className:"grid w-full max-w-sm gap-3 rounded-3xl border border-white/10 bg-black/30 p-4 backdrop-blur lg:max-w-xs",children:[(0,t.jsx)(w,{label:"Verified pharmacies",value:K.toString()}),(0,t.jsx)(w,{label:"Current commission",value:j(F.currentCommission)})]})]})]}),(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.45,delay:.05,ease:"easeOut"},className:"grid gap-4 sm:grid-cols-2 xl:grid-cols-4",children:H.map((e,a)=>{let{title:i,value:s,description:n,icon:o}=e;return(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:18},animate:{opacity:1,y:0},transition:{duration:.4,delay:.08*a},children:(0,t.jsx)(x,{title:i,value:s,description:n,icon:(0,t.jsx)(o,{className:"h-5 w-5"})})},i)})}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.45,delay:.12,ease:"easeOut"},children:(0,t.jsxs)(b,{title:"This period at a glance",description:"Commission summary for ".concat(Y,"."),children:[(0,t.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[(0,t.jsx)(w,{label:"Percent",value:"".concat(null!=(S=null==I?void 0:I.percent)?S:5,"%")}),(0,t.jsx)(w,{label:"Commission",value:j((null==I?void 0:I.amount)||0)}),(0,t.jsx)(w,{label:"Referred Pharmacies",value:K.toString()})]}),(0,t.jsxs)("div",{className:"mt-6 rounded-2xl border border-emerald-100/30 bg-emerald-500/5 p-4",children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-widest text-emerald-600/80",children:"Tenant IDs credited"}),(0,t.jsx)("div",{className:"mt-3 max-h-40 overflow-auto rounded-xl border border-white/10 p-3 text-white text-xs font-mono shadow-inner",children:0===((null==I?void 0:I.tenants)||[]).length?(0,t.jsx)("p",{children:"No pharmacies referred yet this month. Share your link to get started."}):(0,t.jsx)("ul",{className:"space-y-2",children:null==I||null==(y=I.tenants)?void 0:y.map(e=>(0,t.jsxs)("li",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:e}),(0,t.jsx)("span",{className:"rounded-full bg-emerald-500/15 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-widest text-emerald-600",children:"Credited"})]},e))})})]})]})}),(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.45,delay:.16,ease:"easeOut"},children:(0,t.jsxs)(b,{title:"Request payout",description:"Submit a commission payout request for a specific month.",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-widest text-white",children:"Month (YYYY-MM)"}),(0,t.jsx)(v.Input,{value:O,onChange:e=>L(e.target.value),placeholder:"2025-10",className:"rounded-2xl border border-emerald-100/40 bg-white/80 text-emerald-900 placeholder:text-emerald-300 focus:border-emerald-400 focus:ring-emerald-400"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-widest text-white",children:"Commission percent"}),(0,t.jsx)(v.Input,{type:"number",min:1,max:20,step:.5,value:U,onChange:e=>z(Number(e.target.value)),className:"rounded-2xl border border-emerald-100/40 bg-white/80 text-emerald-900 focus:border-emerald-400 focus:ring-emerald-400"})]})]}),(0,t.jsx)(m.Button,{onClick:Q,disabled:D||!W,className:"mt-6 h-11 w-full rounded-2xl bg-gradient-to-r from-emerald-500 to-blue-500 text-sm font-semibold text-white shadow-[0_15px_45px_-25px_rgba(16,185,129,0.65)] transition-transform hover:scale-[1.01] disabled:cursor-not-allowed disabled:opacity-60",children:D?"Submitting...":"Submit payout request"}),!W&&(0,t.jsx)("p",{className:"mt-3 text-xs font-medium text-white",children:V})]})})]}),(0,t.jsx)("div",{className:"pb-4"})]})}}]);