(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";e.s(["Card",()=>s,"CardContent",()=>d,"CardFooter",()=>i,"CardHeader",()=>l,"CardTitle",()=>n]);var t=e.i(43476),a=e.i(71645),r=e.i(47163);let s=a.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("rounded-2xl border border-white/20 bg-white/70 p-6 shadow-[0_20px_70px_-40px_rgba(16,185,129,0.65)] backdrop-blur-md",s),...l})});s.displayName="Card";let l=a.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("mb-3 flex items-center justify-between gap-4",s),...l})});l.displayName="CardHeader";let n=a.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("h4",{ref:a,className:(0,r.cn)("text-lg font-semibold leading-tight text-emerald-900",s),...l})});n.displayName="CardTitle";let d=a.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("text-sm leading-relaxed text-slate-700",s),...l})});d.displayName="CardContent";let i=a.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:a,className:(0,r.cn)("mt-4 flex flex-wrap items-center justify-between gap-3",s),...l})});i.displayName="CardFooter"},84125,e=>{"use strict";e.s(["MiniStat",()=>l,"SectionCard",()=>n,"StatCard",()=>s]);var t=e.i(43476),a=e.i(70065),r=e.i(47163);function s(e){let{title:s,value:l,description:n,icon:d,className:i}=e;return(0,t.jsx)(a.Card,{className:(0,r.cn)("border border-emerald-100 bg-white text-slate-900 shadow-sm transition hover:-translate-y-1 hover:shadow-lg",i),children:(0,t.jsxs)(a.CardContent,{className:"flex items-start justify-between gap-4 p-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.3em] text-emerald-600",children:s}),(0,t.jsx)("p",{className:"mt-3 text-2xl font-semibold text-slate-900",children:l}),n&&(0,t.jsx)("p",{className:"mt-3 text-sm text-slate-500",children:n})]}),d&&(0,t.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-xl bg-emerald-50 text-emerald-600",children:d})]})})}function l(e){let{label:r,value:s}=e;return(0,t.jsx)(a.Card,{className:"border border-emerald-100 bg-emerald-50 text-emerald-900 shadow-sm",children:(0,t.jsxs)(a.CardContent,{className:"space-y-2 p-4",children:[(0,t.jsx)("p",{className:"text-[10px] font-semibold uppercase tracking-[0.32em] text-emerald-600/80",children:r}),(0,t.jsx)("div",{className:"break-words text-xl font-semibold leading-tight text-emerald-900",children:s})]})})}function n(e){let{title:r,description:s,children:l}=e;return(0,t.jsxs)(a.Card,{className:"border border-emerald-100 bg-white text-slate-900 shadow-sm",children:[(0,t.jsxs)(a.CardHeader,{className:"mb-0 space-y-1 pb-0",children:[(0,t.jsx)(a.CardTitle,{className:"text-lg font-semibold text-slate-900",children:r}),s&&(0,t.jsx)("p",{className:"text-sm text-slate-500",children:s})]}),(0,t.jsx)(a.CardContent,{className:"pt-5",children:l})]})}},47232,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(43476),a=e.i(71645),r=e.i(46932),s=e.i(23750),l=e.i(67881),n=e.i(84125),d=e.i(23956);function i(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e||0)}function o(){var e,o,c,m,x,u;let{dash:h,payouts:p,payoutMonth:b,setPayoutMonth:f,payoutPercent:j,setPayoutPercent:g,requestingPayout:y,actions:N,stats:v,monthLabel:w}=(0,d.useAffiliateDashboardContext)(),[C,S]=(0,a.useState)(!1),[k,q]=(0,a.useState)(""),[R,M]=(0,a.useState)(""),[T,_]=(0,a.useState)(""),A=null!=(o=null==h||null==(e=h.tenants)?void 0:e.length)?o:0,I=(0,a.useMemo)(()=>{if((null==h?void 0:h.year)&&(null==h?void 0:h.month))try{return new Date(h.year,h.month-1).toLocaleDateString("en-US",{month:"long",year:"numeric"})}catch(e){return"".concat(h.year,"-").concat(String(h.month).padStart(2,"0"))}return w||"current period"},[null==h?void 0:h.month,null==h?void 0:h.year,w]),P=Math.max(v.currentCommission,null!=(c=null==h?void 0:h.amount)?c:0)>0;async function B(){S(!0);try{await N.refresh()}finally{S(!1)}}return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-slate-900",children:"Commission payouts"}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:"Track requests, statuses, and submit new payout claims."})]}),(0,t.jsx)(l.Button,{variant:"outline",onClick:()=>{B()},disabled:C,className:"h-10 rounded-2xl border border-emerald-200/70 bg-white px-4 text-sm font-semibold text-emerald-700 transition hover:border-emerald-300 hover:bg-emerald-50 disabled:cursor-wait",children:C?"Refreshing...":"Refresh data"})]}),(0,t.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.45,delay:.12,ease:"easeOut"},children:(0,t.jsxs)(n.SectionCard,{title:"This period at a glance",description:"Commission summary for ".concat(I,"."),children:[(0,t.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[(0,t.jsx)(n.MiniStat,{label:"Percent",value:"".concat(null!=(m=null==h?void 0:h.percent)?m:j,"%")}),(0,t.jsx)(n.MiniStat,{label:"Commission",value:i(null!=(x=null==h?void 0:h.amount)?x:v.currentCommission)}),(0,t.jsx)(n.MiniStat,{label:"Referred Pharmacies",value:A.toString()})]}),(0,t.jsxs)("div",{className:"mt-6 rounded-2xl border border-emerald-100 bg-emerald-50 p-4",children:[(0,t.jsx)("p",{className:"text-[11px] font-semibold uppercase tracking-[0.28em] text-emerald-700",children:"Tenant IDs credited"}),(0,t.jsx)("div",{className:"mt-3 max-h-40 overflow-auto rounded-xl border border-emerald-100 bg-white p-3 text-xs font-mono text-slate-700 shadow-sm",children:0===A?(0,t.jsx)("p",{children:"No pharmacies referred yet this month. Share your link to get started."}):(0,t.jsx)("ul",{className:"space-y-2",children:(null!=(u=null==h?void 0:h.tenants)?u:[]).map(e=>(0,t.jsxs)("li",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:e}),(0,t.jsx)("span",{className:"rounded-full bg-emerald-100 px-2 py-0.5 text-[10px] font-semibold uppercase tracking-widest text-emerald-700",children:"Credited"})]},e))})})]})]})}),(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.45,delay:.16,ease:"easeOut"},children:(0,t.jsxs)(n.SectionCard,{title:"Request payout",description:"Submit a commission payout request for a specific month.",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.28em] text-slate-600",children:"Month (YYYY-MM)"}),(0,t.jsx)(s.Input,{value:b,onChange:e=>f(e.target.value),placeholder:"2025-10",className:"rounded-2xl border border-emerald-100/40 bg-white/80 text-emerald-900 placeholder:text-emerald-300 focus:border-emerald-400 focus:ring-emerald-400"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.28em] text-slate-600",children:"Commission percent"}),(0,t.jsx)(s.Input,{type:"number",min:1,max:20,step:.5,value:j,onChange:e=>g(Number(e.target.value)),className:"rounded-2xl border border-emerald-100/40 bg-white/80 text-emerald-900 focus:border-emerald-400 focus:ring-emerald-400"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.28em] text-slate-600",children:"Bank name*"}),(0,t.jsx)(s.Input,{value:k,onChange:e=>q(e.target.value),placeholder:"Enter bank name",required:!0,className:"rounded-2xl border border-emerald-100/40 bg-white/80 text-emerald-900 placeholder:text-emerald-300 focus:border-emerald-400 focus:ring-emerald-400"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.28em] text-slate-600",children:"Account holder name*"}),(0,t.jsx)(s.Input,{value:R,onChange:e=>M(e.target.value),placeholder:"Enter account holder name",required:!0,className:"rounded-2xl border border-emerald-100/40 bg-white/80 text-emerald-900 placeholder:text-emerald-300 focus:border-emerald-400 focus:ring-emerald-400"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[11px] font-semibold uppercase tracking-[0.28em] text-slate-600",children:"Account number*"}),(0,t.jsx)(s.Input,{value:T,onChange:e=>_(e.target.value),placeholder:"Enter account number",required:!0,className:"rounded-2xl border border-emerald-100/40 bg-white/80 text-emerald-900 placeholder:text-emerald-300 focus:border-emerald-400 focus:ring-emerald-400"})]})]}),(0,t.jsx)(l.Button,{onClick:()=>{b&&k.trim()&&R.trim()&&T.trim()&&P&&N.requestPayout({month:b,percent:j,bank_name:k,bank_account_name:R,bank_account_number:T})},disabled:y||!b||!P||!k.trim()||!R.trim()||!T.trim(),className:"mt-6 h-11 w-full rounded-2xl bg-emerald-600 text-sm font-semibold text-white shadow-sm transition hover:bg-emerald-700 disabled:cursor-not-allowed disabled:opacity-60",children:y?"Submitting...":"Submit payout request"}),!P&&(0,t.jsx)("p",{className:"mt-3 text-xs font-medium text-rose-600",children:"You haven't earned any commission yet. Share your referral link to start earning before requesting a payout."}),(!k.trim()||!R.trim()||!T.trim())&&(0,t.jsx)("p",{className:"mt-3 text-xs font-medium text-rose-600",children:"All bank details are required for payout requests."})]})})]}),(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.45,delay:.2,ease:"easeOut"},children:(0,t.jsx)(n.SectionCard,{title:"Payout history",description:"Latest payout requests with status updates.",children:0===p.length?(0,t.jsx)("div",{className:"rounded-2xl border border-emerald-100 bg-emerald-50 p-6 text-sm text-emerald-700",children:"No payout requests yet. Submit your first payout to see it listed here."}):(0,t.jsx)("div",{className:"overflow-hidden rounded-2xl border border-emerald-100 bg-white",children:(0,t.jsxs)("table",{className:"w-full text-left text-sm text-slate-700",children:[(0,t.jsx)("thead",{className:"bg-emerald-50 text-xs uppercase tracking-[0.25em] text-emerald-600",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3",children:"Month"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"Percent"}),(0,t.jsx)("th",{className:"px-4 py-3",children:"Amount"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right",children:"Status"})]})}),(0,t.jsx)("tbody",{children:p.map(e=>(0,t.jsxs)("tr",{className:"border-t border-emerald-50",children:[(0,t.jsx)("td",{className:"px-4 py-3 font-mono text-xs text-slate-700",children:e.month||"â€”"}),(0,t.jsx)("td",{className:"px-4 py-3",children:"".concat(e.percent,"%")}),(0,t.jsx)("td",{className:"px-4 py-3",children:i(e.amount)}),(0,t.jsx)("td",{className:"px-4 py-3 text-right",children:(0,t.jsx)("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-[10px] font-semibold uppercase tracking-[0.25em] ".concat("paid"===e.status?"bg-emerald-100 text-emerald-700":"pending"===e.status?"bg-amber-100 text-amber-700":"bg-slate-200 text-slate-700"),children:e.status})})]},e.id))})]})})})})]})}}]);