(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";e.s(["Card",()=>r,"CardContent",()=>n,"CardFooter",()=>d,"CardHeader",()=>l,"CardTitle",()=>i]);var s=e.i(43476),a=e.i(71645),t=e.i(47163);let r=a.forwardRef((e,a)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:a,className:(0,t.cn)("rounded-2xl border border-white/20 bg-white/70 p-6 shadow-[0_20px_70px_-40px_rgba(16,185,129,0.65)] backdrop-blur-md",r),...l})});r.displayName="Card";let l=a.forwardRef((e,a)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:a,className:(0,t.cn)("mb-3 flex items-center justify-between gap-4",r),...l})});l.displayName="CardHeader";let i=a.forwardRef((e,a)=>{let{className:r,...l}=e;return(0,s.jsx)("h4",{ref:a,className:(0,t.cn)("text-lg font-semibold leading-tight text-emerald-900",r),...l})});i.displayName="CardTitle";let n=a.forwardRef((e,a)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:a,className:(0,t.cn)("text-sm leading-relaxed text-slate-700",r),...l})});n.displayName="CardContent";let d=a.forwardRef((e,a)=>{let{className:r,...l}=e;return(0,s.jsx)("div",{ref:a,className:(0,t.cn)("mt-4 flex flex-wrap items-center justify-between gap-3",r),...l})});d.displayName="CardFooter"},25652,e=>{"use strict";e.s(["TrendingUp",()=>s],25652);let s=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},83086,e=>{"use strict";e.s(["Sparkles",()=>s],83086);let s=(0,e.i(75254).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])},14764,e=>{"use strict";e.s(["Send",()=>s],14764);let s=(0,e.i(75254).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},28707,e=>{"use strict";e.s(["default",()=>f],28707);var s=e.i(43476),a=e.i(71645),t=e.i(70065),r=e.i(67881),l=e.i(23750),i=e.i(6799),n=e.i(14764);let d=(0,e.i(75254).default)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);var o=e.i(83086),c=e.i(25652),m=e.i(52008),u=e.i(1928),h=e.i(17923),x=e.i(4427);let p=["What should I do about my low stock items?","How can I improve my supplier relationships?","Give me a strategy to increase revenue this month","What's wrong with my inventory management?","How do I optimize my product mix?","What business risks should I be aware of?","Give me 5 ways to improve my operations","What opportunities am I missing?"];function f(){let{show:e}=(0,i.useToast)(),[f,y]=(0,a.useState)([]),[g,j]=(0,a.useState)(""),[w,b]=(0,a.useState)(!1),v=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e;null==(e=v.current)||e.scrollIntoView({behavior:"smooth"})},[f]),(0,a.useEffect)(()=>{y([{id:"welcome",content:"Hello! I'm Mesob AI, your business co-founder and advisor.\n\nI analyze your real business data and provide actionable insights to help you grow. Ask me about inventory, suppliers, sales trends, or any business challenge you're facing.\n\nWhat would you like to know about your business today?",sender:"ai",timestamp:new Date}])},[]);let N=async e=>{if(!e.trim())return;let s={id:Date.now().toString(),content:e.trim(),sender:"user",timestamp:new Date};y(e=>[...e,s]),j(""),b(!0);try{let s=localStorage.getItem("access_token"),a=localStorage.getItem("tenant_id"),t=localStorage.getItem("user_id"),r=await fetch("".concat(x.API_BASE,"/ai/agent/process"),{method:"POST",headers:{"Content-Type":"application/json",...s?{Authorization:"Bearer ".concat(s)}:{},...a?{"X-Tenant-ID":a}:{},...t?{"X-User-ID":t}:{}},body:JSON.stringify({message:e.trim()})});if(!r.ok)throw Error("Failed with ".concat(r.status));let l=await r.json(),i=(null==l?void 0:l.response)||"Sorry, I couldn't process your request.",n={id:(Date.now()+1).toString(),content:i,sender:"ai",timestamp:new Date};y(e=>[...e,n])}catch(s){let e={id:(Date.now()+1).toString(),content:"Sorry, I'm having trouble connecting right now. Please try again.",sender:"ai",timestamp:new Date};y(s=>[...s,e])}finally{b(!1)}},C=e=>{N(e)};return(0,s.jsxs)("div",{className:"p-6 h-full flex flex-col",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("h2",{className:"text-2xl font-bold text-gray-900 mb-2 flex items-center",children:[(0,s.jsx)(o.Sparkles,{className:"h-6 w-6 mr-2 text-blue-600"}),"AI Business Assistant"]}),(0,s.jsx)("p",{className:"text-gray-600",children:"Get intelligent insights about your supplier business"})]}),(0,s.jsxs)("div",{className:"flex-1 flex gap-6",children:[(0,s.jsx)("div",{className:"flex-1 flex flex-col",children:(0,s.jsxs)(t.Card,{className:"flex-1 flex flex-col",children:[(0,s.jsx)(t.CardHeader,{className:"border-b",children:(0,s.jsxs)(t.CardTitle,{className:"flex items-center",children:[(0,s.jsx)(d,{className:"h-5 w-5 mr-2 text-blue-600"}),"Chat with AI Assistant"]})}),(0,s.jsxs)(t.CardContent,{className:"flex-1 flex flex-col p-0",children:[(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[f.map(e=>(0,s.jsx)("div",{className:"flex ".concat("user"===e.sender?"justify-end":"justify-start"),children:(0,s.jsx)("div",{className:"max-w-[80%] rounded-lg p-3 ".concat("user"===e.sender?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"),children:(0,s.jsx)("div",{className:"whitespace-pre-wrap text-sm",children:e.content})})},e.id)),w&&(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsx)("div",{className:"bg-gray-100 rounded-lg p-3",children:(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,s.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),(0,s.jsx)("div",{ref:v})]}),(0,s.jsx)("div",{className:"border-t p-4",children:(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(l.Input,{value:g,onChange:e=>j(e.target.value),placeholder:"Ask me about your business performance, inventory, customers...",className:"text-black",onKeyPress:e=>"Enter"===e.key&&N(g),disabled:w}),(0,s.jsx)(r.Button,{onClick:()=>N(g),disabled:w||!g.trim(),className:"bg-blue-600 hover:bg-blue-700",children:(0,s.jsx)(n.Send,{className:"h-4 w-4"})})]})})]})]})}),(0,s.jsxs)("div",{className:"w-80",children:[(0,s.jsxs)(t.Card,{children:[(0,s.jsx)(t.CardHeader,{children:(0,s.jsx)(t.CardTitle,{className:"text-sm",children:"Suggested Questions"})}),(0,s.jsx)(t.CardContent,{className:"space-y-2",children:p.map((e,a)=>(0,s.jsx)(r.Button,{variant:"outline",size:"sm",className:"w-full text-left justify-start h-auto p-3 text-xs",onClick:()=>C(e),disabled:w,children:e},a))})]}),(0,s.jsxs)(t.Card,{className:"mt-4",children:[(0,s.jsx)(t.CardHeader,{children:(0,s.jsx)(t.CardTitle,{className:"text-sm",children:"Quick Actions"})}),(0,s.jsxs)(t.CardContent,{className:"space-y-2",children:[(0,s.jsx)(r.Button,{asChild:!0,variant:"outline",size:"sm",className:"w-full",children:(0,s.jsxs)("a",{href:"/dashboard/supplier/orders",children:[(0,s.jsx)(u.ShoppingCart,{className:"h-4 w-4 mr-2"}),"Manage Orders"]})}),(0,s.jsx)(r.Button,{asChild:!0,variant:"outline",size:"sm",className:"w-full",children:(0,s.jsxs)("a",{href:"/dashboard/supplier/products",children:[(0,s.jsx)(m.Package,{className:"h-4 w-4 mr-2"}),"Product Catalog"]})}),(0,s.jsxs)(r.Button,{variant:"outline",size:"sm",className:"w-full",onClick:()=>C("Show my inventory levels and low stock items"),children:[(0,s.jsx)(h.BarChart3,{className:"h-4 w-4 mr-2"}),"Inventory Status"]}),(0,s.jsxs)(r.Button,{variant:"outline",size:"sm",className:"w-full",onClick:()=>C("Generate business overview report"),children:[(0,s.jsx)(c.TrendingUp,{className:"h-4 w-4 mr-2"}),"Business Overview"]})]})]})]})]})]})}}]);