{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/skeleton.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\nexport function Skeleton({ className = \"\" }: { className?: string }) {\r\n  return <div className={`animate-pulse bg-gray-200 rounded ${className}`} />;\r\n}\r\n\r\nexport function TableSkeletonRows({ rows = 6, cols = 6 }: { rows?: number; cols?: number }) {\r\n  return (\r\n    <tbody>\r\n      {Array.from({ length: rows }).map((_, r) => (\r\n        <tr key={r} className=\"border-t\">\r\n          {Array.from({ length: cols }).map((__, c) => (\r\n            <td key={c} className=\"px-3 py-2\">\r\n              <Skeleton className=\"h-4 w-full\" />\r\n            </td>\r\n          ))}\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;;AAGO,SAAS,SAAS,KAA0C;QAA1C,EAAE,YAAY,EAAE,EAA0B,GAA1C;IACvB,qBAAO,6LAAC;QAAI,WAAW,AAAC,qCAA8C,OAAV;;;;;;AAC9D;KAFgB;AAIT,SAAS,kBAAkB,KAAwD;QAAxD,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,EAAoC,GAAxD;IAChC,qBACE,6LAAC;kBACE,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAK,GAAG,GAAG,CAAC,CAAC,GAAG,kBACpC,6LAAC;gBAAW,WAAU;0BACnB,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAK,GAAG,GAAG,CAAC,CAAC,IAAI,kBACrC,6LAAC;wBAAW,WAAU;kCACpB,cAAA,6LAAC;4BAAS,WAAU;;;;;;uBADb;;;;;eAFJ;;;;;;;;;;AAUjB;MAdgB","debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/input.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\n\r\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className = \"\", ...props }, ref) => {\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        className={\r\n          \"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 \" +\r\n          className\r\n        }\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nInput.displayName = \"Input\";\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAKO,MAAM,sBAAQ,2KAAgB,MACnC,QAA+B;QAA9B,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IAC3B,qBACE,6LAAC;QACC,KAAK;QACL,WACE,uHACA;QAED,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/app/%28dashboard%29/dashboard/admin/affiliates/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { AdminAPI } from \"@/utils/api\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useToast } from \"@/components/ui/toast\";\r\n\r\nexport default function AdminAffiliatesPage() {\r\n  const { show } = useToast();\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [items, setItems] = useState<any[]>([]);\r\n  const [total, setTotal] = useState(0);\r\n  const [q, setQ] = useState(\"\");\r\n  const [usage, setUsage] = useState<Array<{ day: string; tokens: number }>>([]);\r\n\r\n  async function refresh(page = 1) {\r\n    setLoading(true);\r\n    try {\r\n      const data = await AdminAPI.affiliates(page, 20, q);\r\n      setItems(data.items || []);\r\n      setTotal(data.total || 0);\r\n      setError(null);\r\n    } catch (e: any) {\r\n      setError(e.message || \"Failed to load affiliates\");\r\n      show({ variant: \"destructive\", title: \"Error\", description: e.message || \"Failed to load\" });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => { refresh(1); }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try { const u = await AdminAPI.usage(14); setUsage(Array.isArray(u) ? u : []); } catch {}\r\n    })();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-xl font-semibold\">Admin · Affiliates</h1>\r\n        <div className=\"flex gap-2\">\r\n          <Input placeholder=\"Search by email\" value={q} onChange={(e)=>setQ(e.target.value)} />\r\n          <Button onClick={()=>refresh(1)}>Search</Button>\r\n        </div>\r\n      </div>\r\n      {usage.length > 0 && (\r\n        <div className=\"border rounded p-3\">\r\n          <div className=\"flex items-center justify-between mb-2\">\r\n            <div className=\"font-medium\">AI Usage (last 14 days)</div>\r\n            <div className=\"text-xs text-gray-500\">tokens</div>\r\n          </div>\r\n          <div className=\"flex items-end gap-1 h-20\">\r\n            {usage.map((d)=>{\r\n              const max = Math.max(...usage.map(x=>x.tokens || 0)) || 1;\r\n              const h = Math.max(2, Math.round((d.tokens / max) * 80));\r\n              return (\r\n                <div key={d.day} className=\"flex flex-col items-center\" title={`${d.day}: ${d.tokens}`}>\r\n                  <div className=\"bg-indigo-500 w-3\" style={{ height: `${h}px` }} />\r\n                  <div className=\"text-[10px] text-gray-500 mt-1\">{d.day.slice(5)}</div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n      {loading ? (\r\n        <Skeleton className=\"h-64\" />\r\n      ) : error ? (\r\n        <div className=\"text-sm text-red-600\">{error}</div>\r\n      ) : (\r\n        <div className=\"overflow-auto border rounded\">\r\n          <table className=\"min-w-full text-sm\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-3 py-2 text-left\">User</th>\r\n                <th className=\"px-3 py-2 text-left\">Full Name</th>\r\n                <th className=\"px-3 py-2 text-left\">Bank</th>\r\n                <th className=\"px-3 py-2 text-left\">Referrals</th>\r\n                <th className=\"px-3 py-2 text-left\">Payouts</th>\r\n                <th className=\"px-3 py-2 text-left\">Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y\">\r\n              {items.map((r) => (\r\n                <tr key={r.user_id}>\r\n                  <td className=\"px-3 py-2\">{r.email}</td>\r\n                  <td className=\"px-3 py-2\">{r.full_name || \"-\"}</td>\r\n                  <td className=\"px-3 py-2\">{r.bank_name || \"-\"} <div className=\"text-xs text-gray-500\">{r.bank_account_name} · {r.bank_account_number}</div></td>\r\n                  <td className=\"px-3 py-2\">{r.referrals}</td>\r\n                  <td className=\"px-3 py-2 text-xs\">Pending ${r.payouts?.pending_total?.toFixed?.(2) || 0} · Paid ${r.payouts?.paid_total?.toFixed?.(2) || 0}</td>\r\n                  <td className=\"px-3 py-2\">\r\n                    <div className=\"flex gap-2\">\r\n                      <Button variant=\"outline\" onClick={async ()=>{ try { await AdminAPI.approveAffiliate(r.user_id); show({ variant: \"success\", title: \"Approved\", description: r.email }); refresh(); } catch (e:any){ show({ variant:\"destructive\", title:\"Failed\", description:e.message }); } }}>Approve</Button>\r\n                      <Button variant=\"outline\" onClick={async ()=>{ try { await AdminAPI.rejectAffiliate(r.user_id); show({ variant: \"success\", title: \"Rejected\", description: r.email }); refresh(); } catch (e:any){ show({ variant:\"destructive\", title:\"Failed\", description:e.message }); } }}>Reject</Button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n              {items.length === 0 && (\r\n                <tr><td className=\"px-3 py-4 text-gray-500\" colSpan={6}>No affiliates</td></tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}