(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";e.s(["Card",()=>r,"CardContent",()=>l,"CardFooter",()=>n,"CardHeader",()=>i,"CardTitle",()=>d]);var t=e.i(43476),a=e.i(71645),s=e.i(47163);let r=a.forwardRef((e,a)=>{let{className:r,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,s.cn)("rounded-2xl border border-white/20 bg-white/70 p-6 shadow-[0_20px_70px_-40px_rgba(16,185,129,0.65)] backdrop-blur-md",r),...i})});r.displayName="Card";let i=a.forwardRef((e,a)=>{let{className:r,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,s.cn)("mb-3 flex items-center justify-between gap-4",r),...i})});i.displayName="CardHeader";let d=a.forwardRef((e,a)=>{let{className:r,...i}=e;return(0,t.jsx)("h4",{ref:a,className:(0,s.cn)("text-lg font-semibold leading-tight text-emerald-900",r),...i})});d.displayName="CardTitle";let l=a.forwardRef((e,a)=>{let{className:r,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,s.cn)("text-sm leading-relaxed text-slate-700",r),...i})});l.displayName="CardContent";let n=a.forwardRef((e,a)=>{let{className:r,...i}=e;return(0,t.jsx)("div",{ref:a,className:(0,s.cn)("mt-4 flex flex-wrap items-center justify-between gap-3",r),...i})});n.displayName="CardFooter"},94179,e=>{"use strict";e.s(["Badge",()=>i]);var t=e.i(43476),a=e.i(25913),s=e.i(47163);let r=(0,a.cva)("inline-flex items-center border rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow",outline:"border-border bg-background text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:i,...d}=e;return(0,t.jsx)("div",{className:(0,s.cn)(r({variant:i}),a),...d})}},69638,e=>{"use strict";e.s(["CheckCircle",()=>t],69638);let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3116,e=>{"use strict";e.s(["Clock",()=>t],3116);let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},30374,e=>{"use strict";e.s(["Dialog",()=>i,"DialogContent",()=>c,"DialogHeader",()=>o,"DialogTitle",()=>u,"DialogTrigger",()=>d]);var t=e.i(43476),a=e.i(26999),s=e.i(95926),r=e.i(47163);function i(e){let{...s}=e;return(0,t.jsx)(a.Root,{"data-slot":"dialog",...s})}function d(e){let{...s}=e;return(0,t.jsx)(a.Trigger,{"data-slot":"dialog-trigger",...s})}function l(e){let{...s}=e;return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...s})}function n(e){let{className:s,...i}=e;return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...i})}function c(e){let{className:i,children:d,showCloseButton:c=!0,...o}=e;return(0,t.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,t.jsx)(n,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",i),...o,children:[d,c&&(0,t.jsxs)(a.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(s.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function o(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",a),...s})}function u(e){let{className:s,...i}=e;return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",s),...i})}},15788,e=>{"use strict";e.s(["Truck",()=>t],15788);let t=(0,e.i(75254).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]])},37727,e=>{"use strict";e.s(["X",()=>t.default]);var t=e.i(41947)},61659,e=>{"use strict";e.s(["CreditCard",()=>t],61659);let t=(0,e.i(75254).default)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},78745,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},43531,e=>{"use strict";e.s(["Check",()=>t.default]);var t=e.i(78745)},56506,e=>{"use strict";e.s(["default",()=>f],56506);var t=e.i(43476),a=e.i(71645),s=e.i(70065),r=e.i(94179),i=e.i(67881),d=e.i(1928),l=e.i(3116),n=e.i(69638),c=e.i(61659),o=e.i(15788),u=e.i(37727),m=e.i(43531),x=e.i(30374);function p(e){let{orderId:s,paymentCode:d,onVerify:l,onReject:n,children:c}=e,[o,p]=(0,a.useState)(!1);return(0,t.jsxs)(x.Dialog,{open:o,onOpenChange:p,children:[(0,t.jsx)(x.DialogTrigger,{asChild:!0,children:c}),(0,t.jsxs)(x.DialogContent,{children:[(0,t.jsx)(x.DialogHeader,{children:(0,t.jsx)(x.DialogTitle,{children:"Verify Payment"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Order ID"}),(0,t.jsx)("p",{className:"font-medium",children:s})]}),(0,t.jsxs)("div",{className:"p-4 bg-blue-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-blue-600 mb-2",children:"Payment Code"}),(0,t.jsx)(r.Badge,{variant:"outline",className:"font-mono text-lg px-3 py-1",children:d})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Please verify this payment code with your payment records before proceeding."}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),(0,t.jsxs)(i.Button,{variant:"destructive",onClick:()=>{n(),p(!1)},className:"flex items-center gap-1",children:[(0,t.jsx)(u.X,{className:"h-4 w-4"}),"Reject Payment"]}),(0,t.jsxs)(i.Button,{onClick:()=>{l(),p(!1)},className:"flex items-center gap-1",children:[(0,t.jsx)(m.Check,{className:"h-4 w-4"}),"Verify Payment"]})]})]})]})]})}var h=e.i(4427),g=e.i(6799);function f(){let{show:e}=(0,g.useToast)(),[x,f]=(0,a.useState)([]),[v,y]=(0,a.useState)(!0);(0,a.useEffect)(()=>{j()},[]);let j=async()=>{try{y(!0);let e=await (0,h.getAuthJSON)("/api/v1/suppliers/orders");f(e||[])}catch(t){e({title:"Error",description:"Failed to load orders",variant:"destructive"})}finally{y(!1)}},N=async t=>{try{await (0,h.putAuthJSON)("/api/v1/suppliers/orders/".concat(t,"/approve"),{}),e({title:"Success",description:"Order approved successfully",variant:"success"}),j()}catch(t){e({title:"Error",description:"Failed to approve order",variant:"destructive"})}},b=async t=>{try{await (0,h.putAuthJSON)("/api/v1/suppliers/orders/".concat(t,"/reject"),{}),e({title:"Success",description:"Order rejected",variant:"success"}),j()}catch(t){e({title:"Error",description:"Failed to reject order",variant:"destructive"})}},C=async t=>{try{await (0,h.putAuthJSON)("/api/v1/suppliers/orders/".concat(t,"/verify-payment"),{}),e({title:"Success",description:"Payment verified successfully",variant:"success"}),j()}catch(t){e({title:"Error",description:"Failed to verify payment",variant:"destructive"})}},k=async t=>{try{e({title:"Success",description:"Payment rejected",variant:"success"}),j()}catch(t){e({title:"Error",description:"Failed to reject payment",variant:"destructive"})}},w=async t=>{try{await (0,h.putAuthJSON)("/api/v1/suppliers/orders/".concat(t,"/mark-delivered"),{}),e({title:"Success",description:"Order marked as delivered",variant:"success"}),j()}catch(t){e({title:"Error",description:"Failed to mark order as delivered",variant:"destructive"})}};return v?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading orders..."})]})}):0===x.length?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Order Management"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Approve orders and manage deliveries"})]}),(0,t.jsx)(s.Card,{className:"text-center py-12",children:(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)(d.ShoppingCart,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No Orders Yet"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:"You haven't received any orders yet. Orders will appear here when customers place them."})]})})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Order Management"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Approve orders and manage deliveries"})]}),(0,t.jsx)("div",{className:"grid gap-4",children:x.map(e=>{var a,d,x,h,g,f;let v=(e=>{let t={pending:{label:"Pending Approval",variant:"secondary",icon:l.Clock},approved:{label:"Approved",variant:"default",icon:n.CheckCircle},payment_received:{label:"Payment Received",variant:"default",icon:c.CreditCard},delivered:{label:"Delivered",variant:"default",icon:o.Truck},cancelled:{label:"Cancelled",variant:"destructive",icon:u.X}};return t[e]||t.pending})(e.status),y=v.icon;return(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(s.CardTitle,{className:"text-lg",children:e.order_number||e.id}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:(null==(a=e.customer)?void 0:a.email)||e.customerName})]}),(0,t.jsxs)(r.Badge,{variant:v.variant,className:"flex items-center gap-1",children:[(0,t.jsx)(y,{className:"h-3 w-3"}),v.label]})]})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Product"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:(null==(h=e.items)||null==(x=h[0])||null==(d=x.product)?void 0:d.name)||e.productName})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Quantity"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:[(null==(f=e.items)||null==(g=f[0])?void 0:g.quantity)||e.quantity," units"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Total Amount"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["$",e.total_amount||e.totalAmount]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Order Date"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:new Date(e.created_at||e.orderDate).toLocaleDateString()})]})]}),e.payment_code&&(0,t.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm font-medium text-blue-800",children:["Payment Code: ",e.payment_code]})}),"pending"===e.status&&(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.Button,{size:"sm",onClick:()=>N(e.id),className:"flex items-center gap-1",children:[(0,t.jsx)(m.Check,{className:"h-4 w-4"}),"Approve Order"]}),(0,t.jsxs)(i.Button,{size:"sm",variant:"destructive",onClick:()=>b(e.id),className:"flex items-center gap-1",children:[(0,t.jsx)(u.X,{className:"h-4 w-4"}),"Reject"]})]}),"approved"===e.status&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"p-3 bg-green-50 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-green-800",children:e.payment_code?"Payment code received. Please verify to proceed.":"Order approved. Waiting for customer payment."})}),e.payment_code&&(0,t.jsx)(p,{orderId:e.id,paymentCode:e.payment_code,onVerify:()=>C(e.id),onReject:()=>k(e.id),children:(0,t.jsxs)(i.Button,{size:"sm",className:"flex items-center gap-1",children:[(0,t.jsx)(c.CreditCard,{className:"h-4 w-4"}),"Verify Payment"]})})]}),"payment_received"===e.status&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"p-3 bg-blue-50 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-blue-800",children:"Payment received. Ready to ship."})}),(0,t.jsxs)(i.Button,{size:"sm",onClick:()=>w(e.id),className:"flex items-center gap-1",children:[(0,t.jsx)(o.Truck,{className:"h-4 w-4"}),"Mark as Delivered"]})]}),"delivered"===e.status&&(0,t.jsx)("div",{className:"p-3 bg-green-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-green-800",children:["Order delivered successfully on ",new Date(e.delivered_at||e.deliveryDate).toLocaleDateString()]})})]})]},e.id)})})]})}}]);