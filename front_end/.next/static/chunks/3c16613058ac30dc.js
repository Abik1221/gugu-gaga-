(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69638,e=>{"use strict";e.s(["CheckCircle",()=>t],69638);let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},78894,e=>{"use strict";e.s(["AlertTriangle",()=>t],78894);let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},26568,e=>{"use strict";e.s(["default",()=>o]);var t=e.i(43476),a=e.i(71645),s=e.i(67881),i=e.i(71428),l=e.i(6799),r=e.i(45423),c=e.i(78894),d=e.i(52008),n=e.i(69638);function o(){let{show:e}=(0,l.useToast)(),[o,m]=(0,a.useState)([]),[h,x]=(0,a.useState)(!0),u=async()=>{x(!0);try{await new Promise(e=>setTimeout(e,1e3));let e=[{id:1,type:"low_stock",title:"Low Stock Alert",body:"Paracetamol 500mg stock is low (qty=25, reorder_level=50).",is_read:!1,created_at:new Date().toISOString()},{id:2,type:"low_stock",title:"Low Stock Alert",body:"Ibuprofen 200mg stock is low (qty=15, reorder_level=40).",is_read:!1,created_at:new Date(Date.now()-36e5).toISOString()},{id:3,type:"system",title:"System Update",body:"POS system has been updated with new features.",is_read:!0,created_at:new Date(Date.now()-864e5).toISOString()}];m(e)}catch(t){e({variant:"destructive",title:"Failed to load notifications",description:(null==t?void 0:t.message)||"Unable to fetch notifications"})}finally{x(!1)}},p=async t=>{try{m(e=>e.map(e=>e.id===t?{...e,is_read:!0}:e)),e({variant:"success",title:"Marked as read",description:"Notification marked as read"})}catch(t){e({variant:"destructive",title:"Failed to mark as read",description:(null==t?void 0:t.message)||"Unable to update notification"})}},y=async()=>{try{m(e=>e.map(e=>({...e,is_read:!0}))),e({variant:"success",title:"All marked as read",description:"All notifications marked as read"})}catch(t){e({variant:"destructive",title:"Failed to mark all as read",description:(null==t?void 0:t.message)||"Unable to update notifications"})}};(0,a.useEffect)(()=>{u()},[]);let f=o.filter(e=>!e.is_read).length;return h?(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)(i.Skeleton,{className:"h-8 w-48 mb-4"}),(0,t.jsx)(i.Skeleton,{className:"h-64 w-full"})]}):(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),(0,t.jsx)("p",{className:"text-gray-600",children:f>0?"".concat(f," unread notifications"):"All caught up!"})]}),f>0&&(0,t.jsx)(s.Button,{onClick:y,variant:"outline",children:"Mark all as read"})]}),(0,t.jsx)("div",{className:"space-y-4",children:0===o.length?(0,t.jsxs)("div",{className:"bg-white rounded-lg border p-8 text-center",children:[(0,t.jsx)(r.Bell,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No notifications"})]}):o.map(e=>(0,t.jsx)("div",{className:"bg-white rounded-lg border p-4 ".concat(e.is_read?"":"border-l-4 border-l-blue-500"),children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 mt-1",children:(e=>{switch(e){case"low_stock":return(0,t.jsx)(c.AlertTriangle,{className:"w-5 h-5 text-red-500"});case"system":return(0,t.jsx)(r.Bell,{className:"w-5 h-5 text-blue-500"});default:return(0,t.jsx)(d.Package,{className:"w-5 h-5 text-gray-500"})}})(e.type)}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-sm font-medium ".concat(e.is_read?"text-gray-600":"text-gray-900"),children:e.title}),(0,t.jsx)("p",{className:"mt-1 text-sm ".concat(e.is_read?"text-gray-500":"text-gray-700"),children:e.body}),(0,t.jsx)("p",{className:"mt-2 text-xs text-gray-400",children:new Date(e.created_at).toLocaleString()})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[!e.is_read&&(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),!e.is_read&&(0,t.jsx)(s.Button,{onClick:()=>p(e.id),variant:"ghost",size:"sm",children:(0,t.jsx)(n.CheckCircle,{className:"w-4 h-4"})})]})]})})]})},e.id))}),(0,t.jsx)("div",{className:"mt-6 flex justify-center",children:(0,t.jsx)(s.Button,{onClick:u,variant:"outline",children:"Refresh Notifications"})})]})}}]);