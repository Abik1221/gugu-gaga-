{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/input.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\n\r\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\r\n\r\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n  ({ className = \"\", ...props }, ref) => {\r\n    return (\r\n      <input\r\n        ref={ref}\r\n        className={\r\n          \"w-full border rounded px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-emerald-200 focus:border-emerald-400 \" +\r\n          className\r\n        }\r\n        {...props}\r\n      />\r\n    );\r\n  }\r\n);\r\nInput.displayName = \"Input\";\r\n"],"names":[],"mappings":";;;;;AACA;AADA;;;AAKO,MAAM,sBAAQ,2KAAgB,MACnC,QAA+B;QAA9B,EAAE,YAAY,EAAE,EAAE,GAAG,OAAO;IAC3B,qBACE,6LAAC;QACC,KAAK;QACL,WACE,uHACA;QAED,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/components/ui/skeleton.tsx"],"sourcesContent":["\"use client\";\r\nimport React from \"react\";\r\n\r\nexport function Skeleton({ className = \"\" }: { className?: string }) {\r\n  return <div className={`animate-pulse bg-gray-200 rounded ${className}`} />;\r\n}\r\n\r\nexport function TableSkeletonRows({ rows = 6, cols = 6 }: { rows?: number; cols?: number }) {\r\n  return (\r\n    <tbody>\r\n      {Array.from({ length: rows }).map((_, r) => (\r\n        <tr key={r} className=\"border-t\">\r\n          {Array.from({ length: cols }).map((__, c) => (\r\n            <td key={c} className=\"px-3 py-2\">\r\n              <Skeleton className=\"h-4 w-full\" />\r\n            </td>\r\n          ))}\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAAA;;AAGO,SAAS,SAAS,KAA0C;QAA1C,EAAE,YAAY,EAAE,EAA0B,GAA1C;IACvB,qBAAO,6LAAC;QAAI,WAAW,AAAC,qCAA8C,OAAV;;;;;;AAC9D;KAFgB;AAIT,SAAS,kBAAkB,KAAwD;QAAxD,EAAE,OAAO,CAAC,EAAE,OAAO,CAAC,EAAoC,GAAxD;IAChC,qBACE,6LAAC;kBACE,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAK,GAAG,GAAG,CAAC,CAAC,GAAG,kBACpC,6LAAC;gBAAW,WAAU;0BACnB,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAK,GAAG,GAAG,CAAC,CAAC,IAAI,kBACrC,6LAAC;wBAAW,WAAU;kCACpB,cAAA,6LAAC;4BAAS,WAAU;;;;;;uBADb;;;;;eAFJ;;;;;;;;;;AAUjB;MAdgB","debugId":null}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HP/gugu-gaga-/front_end/app/%28dashboard%29/dashboard/owner/chat/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { useToast } from \"@/components/ui/toast\";\r\nimport { AuthAPI, ChatAPI, PharmaciesAPI } from \"@/utils/api\";\r\n\r\nexport default function ChatThreadsPage() {\r\n  const { show } = useToast();\r\n  const [loading, setLoading] = useState(true);\r\n  const [tenantId, setTenantId] = useState<string | null>(null);\r\n  const [pharmacies, setPharmacies] = useState<any[]>([]);\r\n  const [threads, setThreads] = useState<Array<{id:number; title:string}>>([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  async function refresh(tid: string) {\r\n    setLoading(true);\r\n    try {\r\n      const rows = await ChatAPI.listThreads(tid);\r\n      setThreads(rows || []);\r\n      setError(null);\r\n    } catch (e:any) {\r\n      setError(e.message || \"Failed to load threads\");\r\n      show({ variant: \"destructive\", title: \"Error\", description: e.message || \"Failed\" });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    (async ()=>{\r\n      try {\r\n        const me = await AuthAPI.me();\r\n        const ph = await PharmaciesAPI.list(1, 100);\r\n        const items = ph?.items || [];\r\n        setPharmacies(items);\r\n        const defaultTid = me?.tenant_id || (items[0]?.tenant_id ?? null);\r\n        if (defaultTid) { setTenantId(defaultTid); await refresh(defaultTid); }\r\n        else { setError(\"No tenant context\"); setLoading(false); }\r\n      } catch (e:any) { setError(e.message || \"Failed\"); setLoading(false); }\r\n    })();\r\n  }, []);\r\n\r\n  async function createThread() {\r\n    if (!tenantId) return;\r\n    try {\r\n      const t = title.trim() || \"New chat\";\r\n      await ChatAPI.createThread(tenantId, t);\r\n      setTitle(\"\");\r\n      await refresh(tenantId);\r\n    } catch (e:any) { show({ variant: \"destructive\", title: \"Create failed\", description: e.message }); }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-xl font-semibold\">Chat Threads</h1>\r\n        <div className=\"flex gap-2 items-center\">\r\n          <select\r\n            className=\"border rounded px-2 py-1\"\r\n            value={tenantId ?? \"\"}\r\n            onChange={async (e)=>{ const tid = e.target.value || null; setTenantId(tid); if (tid) await refresh(tid); }}\r\n          >\r\n            {pharmacies.map((p:any)=>(<option key={p.tenant_id} value={p.tenant_id}>{p.name} ({p.tenant_id})</option>))}\r\n          </select>\r\n          <Input placeholder=\"Thread title\" value={title} onChange={(e)=>setTitle(e.target.value)} />\r\n          <Button onClick={createThread} disabled={!tenantId}>Create</Button>\r\n        </div>\r\n      </div>\r\n      {tenantId && (<div className=\"text-xs text-gray-600\">Tenant: <span className=\"font-mono\">{tenantId}</span></div>)}\r\n      {loading ? (<Skeleton className=\"h-64\" />) : error ? (<div className=\"text-sm text-red-600\">{error}</div>) : (\r\n        <div className=\"grid gap-2\">\r\n          {threads.map((t)=> (\r\n            <Link key={t.id} href={`/dashboard/owner/chat/${t.id}`} className=\"border rounded p-3 hover:bg-gray-50\">\r\n              <div className=\"font-medium\">{t.title}</div>\r\n              <div className=\"text-xs text-gray-500\">Thread #{t.id}</div>\r\n            </Link>\r\n          ))}\r\n          {threads.length === 0 && <div className=\"text-sm text-gray-500\">No threads yet.</div>}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}