(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30374,e=>{"use strict";e.s(["Dialog",()=>n,"DialogContent",()=>o,"DialogHeader",()=>c,"DialogTitle",()=>u,"DialogTrigger",()=>r]);var t=e.i(43476),a=e.i(26999),s=e.i(95926),l=e.i(47163);function n(e){let{...s}=e;return(0,t.jsx)(a.Root,{"data-slot":"dialog",...s})}function r(e){let{...s}=e;return(0,t.jsx)(a.Trigger,{"data-slot":"dialog-trigger",...s})}function i(e){let{...s}=e;return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...s})}function d(e){let{className:s,...n}=e;return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,l.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...n})}function o(e){let{className:n,children:r,showCloseButton:o=!0,...c}=e;return(0,t.jsxs)(i,{"data-slot":"dialog-portal",children:[(0,t.jsx)(d,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,l.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n),...c,children:[r,o&&(0,t.jsxs)(a.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(s.XIcon,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function c(e){let{className:a,...s}=e;return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,l.cn)("flex flex-col gap-2 text-center sm:text-left",a),...s})}function u(e){let{className:s,...n}=e;return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,l.cn)("text-lg leading-none font-semibold",s),...n})}},10708,e=>{"use strict";e.s(["Label",()=>m],10708);var t=e.i(43476),a=e.i(71645);e.i(74080);var s=e.i(20783),l=Symbol.for("react.lazy"),n=a[" use ".trim().toString()];function r(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===l&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var i=Symbol("radix.slottable");function d(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===i}var o=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,l)=>{let i=function(e){let l=function(e){let t=a.forwardRef((e,t)=>{let{children:l,...i}=e;if(r(l)&&"function"==typeof n&&(l=n(l._payload)),a.isValidElement(l)){var d,o,c;let e,n,r=(n=(e=null==(o=Object.getOwnPropertyDescriptor((d=l).props,"ref"))?void 0:o.get)&&"isReactWarning"in e&&e.isReactWarning)?d.ref:(n=(e=null==(c=Object.getOwnPropertyDescriptor(d,"ref"))?void 0:c.get)&&"isReactWarning"in e&&e.isReactWarning)?d.props.ref:d.props.ref||d.ref,u=function(e,t){let a={...t};for(let s in t){let l=e[s],n=t[s];/^on[A-Z]/.test(s)?l&&n?a[s]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let s=n(...t);return l(...t),s}:l&&(a[s]=l):"style"===s?a[s]={...l,...n}:"className"===s&&(a[s]=[l,n].filter(Boolean).join(" "))}return{...e,...a}}(i,l.props);return l.type!==a.Fragment&&(u.ref=t?(0,s.composeRefs)(t,r):r),a.cloneElement(l,u)}return a.Children.count(l)>1?a.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),i=a.forwardRef((e,s)=>{let{children:i,...o}=e;r(i)&&"function"==typeof n&&(i=n(i._payload));let c=a.Children.toArray(i),u=c.find(d);if(u){let e=u.props.children,n=c.map(t=>t!==u?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,t.jsx)(l,{...o,ref:s,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,t.jsx)(l,{...o,ref:s,children:i})});return i.displayName="".concat(e,".Slot"),i}("Primitive.".concat(l)),o=a.forwardRef((e,a)=>{let{asChild:s,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?i:l,{...n,ref:a})});return o.displayName="Primitive.".concat(l),{...e,[l]:o}},{}),c=a.forwardRef((e,a)=>(0,t.jsx)(o.label,{...e,ref:a,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));c.displayName="Label";var u=e.i(47163);function m(e){let{className:a,...s}=e;return(0,t.jsx)(c,{"data-slot":"label",className:(0,u.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...s})}},7233,27612,e=>{"use strict";e.s(["Plus",()=>a],7233);var t=e.i(75254);let a=(0,t.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Trash2",()=>s],27612);let s=(0,t.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},31964,e=>{"use strict";e.s(["default",()=>m],31964);var t=e.i(43476),a=e.i(71645),s=e.i(23750),l=e.i(67881),n=e.i(71428),r=e.i(6799),i=e.i(30374),d=e.i(10708),o=e.i(7233);let c=(0,e.i(75254).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var u=e.i(27612);function m(){let{show:e}=(0,r.useToast)(),[i,d]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),[m,h]=(0,a.useState)(""),[y,g]=(0,a.useState)(!1),f=async()=>{c(!0);try{await new Promise(e=>setTimeout(e,1e3)),d([{id:1,medicine_id:1,medicine_name:"Paracetamol 500mg",sku:"PARA500",branch:"Main",quantity:150,pack_size:10,packs:15,singles:0,reorder_level:50,expiry_date:"2025-12-31",lot_number:"LOT123",sell_price:2.5},{id:2,medicine_id:2,medicine_name:"Ibuprofen 200mg",sku:"IBU200",branch:"Main",quantity:25,pack_size:20,packs:1,singles:5,reorder_level:40,expiry_date:"2024-06-15",lot_number:"LOT456",sell_price:1.9}])}catch(t){e({variant:"destructive",title:"Failed to load inventory",description:(null==t?void 0:t.message)||"Unable to fetch inventory data"})}finally{c(!1)}};(0,a.useEffect)(()=>{f()},[]);let b=e=>{if(!e.expiry_date)return!1;let t=new Date(e.expiry_date),a=new Date;return 30>=Math.ceil((t.getTime()-a.getTime())/864e5)},v=async t=>{if(confirm("Are you sure you want to delete this item?"))try{e({title:"Item deleted",description:"Inventory item has been removed"}),f()}catch(t){e({variant:"destructive",title:"Failed to delete item",description:(null==t?void 0:t.message)||"Unable to delete inventory item"})}};return o?(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)(n.Skeleton,{className:"h-8 w-48 mb-4"}),(0,t.jsx)(n.Skeleton,{className:"h-64 w-full"})]}):(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Inventory Management"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Manage stock levels and medicine information"})]}),(0,t.jsx)(x,{onSuccess:f})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg border p-4 mb-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search Medicine"}),(0,t.jsx)(s.Input,{value:m,onChange:e=>h(e.target.value),placeholder:"Name or SKU",className:"text-black"})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:y,onChange:e=>g(e.target.checked),className:"rounded border-gray-300"}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"Low stock only"})]})}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)(l.Button,{onClick:f,variant:"outline",children:"Refresh"})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg border overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Medicine"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Stock"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Expiry"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:0===i.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-6 py-8 text-center text-gray-500",children:"No inventory items found"})}):i.map(e=>{var a;return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.medicine_name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["SKU: ",e.sku]}),e.lot_number&&(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Lot: ",e.lot_number]})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-medium text-gray-900",children:[e.quantity," units"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[e.packs," packs + ",e.singles," singles"]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Reorder at: ",e.reorder_level]})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.sell_price?"$".concat(e.sell_price.toFixed(2)):"N/A"})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("p",{className:"text-sm ".concat(b(e)?"text-red-600 font-medium":"text-gray-900"),children:(a=e.expiry_date)?new Date(a).toLocaleDateString():"N/A"})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-1",children:[e.quantity<=e.reorder_level&&(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Low Stock"}),b(e)&&(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Expiring Soon"}),!(e.quantity<=e.reorder_level)&&!b(e)&&(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Good"})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(p,{item:e,onSuccess:f}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>v(e.id),className:"text-red-600 hover:text-red-700",children:(0,t.jsx)(u.Trash2,{className:"h-4 w-4"})})]})})]},e.id)})})]})})})]})}function x(e){let{onSuccess:n}=e,{show:c}=(0,r.useToast)(),[u,m]=(0,a.useState)(!1),[x,p]=(0,a.useState)(!1),[h,y]=(0,a.useState)({medicine_name:"",sku:"",branch:"",quantity:"",reorder_level:"",sell_price:"",expiry_date:"",lot_number:""}),g=async e=>{e.preventDefault(),p(!0);try{await new Promise(e=>setTimeout(e,1e3)),c({title:"Item added",description:"New inventory item has been created"}),m(!1),y({medicine_name:"",sku:"",branch:"",quantity:"",reorder_level:"",sell_price:"",expiry_date:"",lot_number:""}),n()}catch(e){c({variant:"destructive",title:"Failed to add item",description:(null==e?void 0:e.message)||"Unable to create inventory item"})}finally{p(!1)}};return(0,t.jsxs)(i.Dialog,{open:u,onOpenChange:m,children:[(0,t.jsx)(i.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(l.Button,{className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(o.Plus,{className:"h-4 w-4 mr-2"}),"Add Item"]})}),(0,t.jsxs)(i.DialogContent,{className:"max-w-md bg-white",children:[(0,t.jsx)(i.DialogHeader,{children:(0,t.jsx)(i.DialogTitle,{className:"text-black",children:"Add Inventory Item"})}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"medicine_name",className:"text-black font-medium",children:"Medicine Name"}),(0,t.jsx)(s.Input,{id:"medicine_name",value:h.medicine_name,onChange:e=>y({...h,medicine_name:e.target.value}),className:"text-black bg-white border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"sku",className:"text-black font-medium",children:"SKU"}),(0,t.jsx)(s.Input,{id:"sku",value:h.sku,onChange:e=>y({...h,sku:e.target.value}),className:"text-black bg-white border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"quantity",className:"text-black font-medium",children:"Quantity"}),(0,t.jsx)(s.Input,{id:"quantity",type:"number",value:h.quantity,onChange:e=>y({...h,quantity:e.target.value}),className:"text-black bg-white border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"sell_price",className:"text-black font-medium",children:"Sell Price"}),(0,t.jsx)(s.Input,{id:"sell_price",type:"number",step:"0.01",value:h.sell_price,onChange:e=>y({...h,sell_price:e.target.value}),className:"text-black bg-white border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"expiry_date",className:"text-black font-medium",children:"Expiry Date"}),(0,t.jsx)(s.Input,{id:"expiry_date",type:"date",value:h.expiry_date,onChange:e=>y({...h,expiry_date:e.target.value}),className:"text-black bg-white border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,t.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,t.jsx)(l.Button,{type:"submit",disabled:x,children:x?"Adding...":"Add Item"})]})]})]})]})}function p(e){var n;let{item:o,onSuccess:u}=e,{show:m}=(0,r.useToast)(),[x,p]=(0,a.useState)(!1),[h,y]=(0,a.useState)(!1),[g,f]=(0,a.useState)({quantity:o.quantity.toString(),reorder_level:o.reorder_level.toString(),sell_price:(null==(n=o.sell_price)?void 0:n.toString())||"",expiry_date:o.expiry_date||"",lot_number:o.lot_number||""}),b=async e=>{e.preventDefault(),y(!0);try{await new Promise(e=>setTimeout(e,1e3)),m({title:"Item updated",description:"Inventory item has been updated"}),p(!1),u()}catch(e){m({variant:"destructive",title:"Failed to update item",description:(null==e?void 0:e.message)||"Unable to update inventory item"})}finally{y(!1)}};return(0,t.jsxs)(i.Dialog,{open:x,onOpenChange:p,children:[(0,t.jsx)(i.DialogTrigger,{asChild:!0,children:(0,t.jsx)(l.Button,{variant:"outline",size:"sm",children:(0,t.jsx)(c,{className:"h-4 w-4"})})}),(0,t.jsxs)(i.DialogContent,{className:"max-w-md",children:[(0,t.jsx)(i.DialogHeader,{children:(0,t.jsxs)(i.DialogTitle,{children:["Edit ",o.medicine_name]})}),(0,t.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{htmlFor:"quantity",children:"Quantity"}),(0,t.jsx)(s.Input,{id:"quantity",type:"number",value:g.quantity,onChange:e=>f({...g,quantity:e.target.value}),className:"text-black",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{htmlFor:"reorder_level",children:"Reorder Level"}),(0,t.jsx)(s.Input,{id:"reorder_level",type:"number",value:g.reorder_level,onChange:e=>f({...g,reorder_level:e.target.value}),className:"text-black"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{htmlFor:"sell_price",children:"Sell Price"}),(0,t.jsx)(s.Input,{id:"sell_price",type:"number",step:"0.01",value:g.sell_price,onChange:e=>f({...g,sell_price:e.target.value}),className:"text-black"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{htmlFor:"expiry_date",children:"Expiry Date"}),(0,t.jsx)(s.Input,{id:"expiry_date",type:"date",value:g.expiry_date,onChange:e=>f({...g,expiry_date:e.target.value}),className:"text-black"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[(0,t.jsx)(l.Button,{type:"button",variant:"outline",onClick:()=>p(!1),children:"Cancel"}),(0,t.jsx)(l.Button,{type:"submit",disabled:h,children:h?"Updating...":"Update Item"})]})]})]})]})}}]);